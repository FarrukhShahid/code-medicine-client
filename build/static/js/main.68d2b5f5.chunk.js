(this["webpackJsonpcode-medicine"]=this["webpackJsonpcode-medicine"]||[]).push([[0],{1044:function(e,t,a){},1049:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return pa}));var n=a(0),l=a.n(n),r=a(26),o=a.n(r),s=(a(482),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var i=a(9),d=a(14),u=a(13),m=a(12),p=a(11),_=a(39),b=a(468),h=a(19),g=a(8),v=a.n(g),f="".concat("http","://").concat("18.188.119.132"),y="".concat(f,"/api"),E="".concat(y,"/users"),N="".concat(E,"/login"),k="".concat(E,"/register"),w="".concat(E,"/update"),x=("".concat(E,"/delete"),"".concat(E,"/logout"),"".concat(E,"/search/id")),S="".concat(E,"/search/token"),C="".concat(E,"/search/credentials"),j="".concat(E,"/admin"),O="".concat(j,"/patient/create"),D=("".concat(j,"/patient/update"),"".concat(j,"/patient/delete"),"".concat(j,"/doctor/create")),P="".concat(j,"/doctor/update"),M="".concat(j,"/doctor/delete"),I="".concat(y,"/appointments"),A="".concat(I,"/create"),T="".concat(I,"/update"),L=("".concat(I,"/delete"),"".concat(I,"/search")),F="".concat(I,"/search/id"),R="".concat(I,"/search/today"),B="".concat(I,"/charges"),z=("".concat(B,"/update"),"".concat(I,"/invoice")),q="".concat(I,"/checkout"),H="".concat(y,"/procedures"),K="".concat(H,"/create"),G="".concat(H,"/update"),V="".concat(H,"/delete"),Y=("".concat(H,"/search/id"),"".concat(H,"/appointment/id")),U=("".concat(y,"/doctor/details"),"".concat(y,"/branches"),"".concat(y,"/users")),W="".concat(U,"/register"),$=("".concat(W,"/admin"),"".concat(U,"/login"),"".concat(U,"/logout")),J="".concat(U,"/profile"),Z=("".concat(J,"/update"),"".concat(U,"/search"),"".concat(U,"/search/id"),"".concat(y,"/appointments")),Q=("".concat(Z,"/create"),"".concat(Z,"/update"),"".concat(Z,"/search")),X="".concat(Q,"/id"),ee=("".concat(Q,"/today"),"".concat(Z,"/charges")),te="".concat(ee,"/update"),ae="".concat(Z,"/checkout"),ne=("".concat(Z,"/invoice"),"".concat(Z,"/procedures")),le=("".concat(ne,"/create"),"".concat(ne,"/update"),"".concat(ne,"/delete"),"".concat(y,"/profits")),re=("".concat(le,"/search/visit/id"),"".concat(le,"/update"),"".concat(y,"/doctordetails"));"".concat(re,"/search");function oe(e,t,a){return{type:"notify",payload:{type:e,title:t,message:a}}}function se(e){return{type:"active_user",payload:e}}function ce(e){return{type:"active_page",payload:e}}function ie(e){return function(t){v.a.get("".concat(R,"?tag=").concat(new Date(e))).then((function(e){t({type:"todays_patients",payload:e,loading:!1})})).catch((function(e){t({type:"todays_patients",payload:{data:{message:e,loading:!1}}})}))}}function de(){return{type:"clear_todays_patients"}}function ue(e){return{type:"update_single_record",payload:{id:e,new_item:v.a.get("".concat(X,"?tag=").concat(e)).data}}}v.a.interceptors.request.use((function(e){var t=localStorage.getItem("user");return t&&(e.headers["code-medicine"]="".concat(t)),e}));var me=a(132),pe=a.n(me),_e=a(77),be=a.n(_e);var he=function(e){return l.a.createElement("div",{className:"virtual-body navbar-top"},l.a.createElement("div",{className:"navbar navbar-expand-md navbar-dark fixed-top"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("p",{className:"my-2"},"Cancel"))),l.a.createElement("div",{className:"page-content"},l.a.createElement(_e.SkeletonTheme,{color:"#292b2c",highlightColor:"#4F5950"},l.a.createElement("div",{className:"sidebar sidebar-dark sidebar-main sidebar-fixed sidebar-expand-md px-2"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(be.a,{className:"my-1",circle:!0,height:120,width:120})),l.a.createElement(be.a,{className:"my-2",count:20,height:40}))),l.a.createElement("div",{className:"content-wrapper"},l.a.createElement("div",{className:"page-header page-header-light"},l.a.createElement(_e.SkeletonTheme,{color:"#ffffff",highlightColor:"#f2f2f2"},l.a.createElement(be.a,{className:"my-2",count:1,height:40}))),l.a.createElement("div",{className:"content"},l.a.createElement(_e.SkeletonTheme,{color:"#ffffff",highlightColor:"#f2f2f2"},l.a.createElement(be.a,{className:"my-2",height:150,count:1}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement(be.a,{className:"my-2",height:300,count:3})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(be.a,{className:"my-2",height:300,count:4}))))))))},ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).authorize_token=function(e){pe.a.isEmpty(n.props.active_user)&&null!==e&&v.a.get("".concat(S,"?tag=").concat(e)).then((function(e){n.props.set_active_user(e.data.payload)})).catch((function(e){console.log(e),localStorage.clear(),n.props.set_active_user({})}))},n.check_for_token=function(){return null!==localStorage.getItem("user")},n.state={},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.authorize_token(localStorage.getItem("user"))}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(b.a)(e,["component"]),n=l.a.createElement(he,null);return this.check_for_token()?pe.a.isEmpty(this.props.active_user)||(n=l.a.createElement(_.b,Object.assign({},a,{render:function(e){return l.a.createElement(t,e)}}))):n=l.a.createElement(_.b,Object.assign({},a,{render:function(e){return l.a.createElement(_.a,{to:"/login"})}})),n}}]),a}(n.Component);var ve=Object(h.b)((function(e){return{active_user:e.active_user}}),{set_active_user:se})(ge),fe=a(86),ye=a(448),Ee=a.n(ye),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_sidebar_control_button_click=function(){!0===n.props.left_sidebar?n.props.left_sidebar_controls(!1):n.props.left_sidebar_controls(!0)},n.on_logout_button_click=function(){localStorage.clear(),n.props.set_active_user({}),n.props.history.push("/login")},n.state={},n}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"navbar navbar-expand-md navbar-dark fixed-top"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(p.b,{onClick:this.on_sidebar_control_button_click,to:"#",className:"d-inline py-3 text-white"},l.a.createElement("i",{className:"icon-paragraph-justify2"}))),l.a.createElement("div",{className:"d-md-none"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar-mobile"},l.a.createElement("i",{className:"icon-tree5"})),l.a.createElement("button",{className:"navbar-toggler sidebar-mobile-main-toggle",onClick:this.on_sidebar_control_button_click,type:"button"},l.a.createElement("i",{className:"icon-paragraph-justify3"}))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar-mobile"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col text-right"},l.a.createElement("img",{className:"border-left-light",src:Ee.a,alt:"",style:{maxHeight:"30px"}})))),l.a.createElement("span",{className:"navbar-text ml-md-3 mr-md-auto"},l.a.createElement("span",{className:"badge bg-transparent"}))))}}]),a}(n.Component);var ke=Object(h.b)((function(e){return{left_sidebar:e.left_sidebar,active_user:e.active_user}}),{left_sidebar_controls:function(e){return{type:"left_sidebar",payload:e}},set_active_user:se})(Object(_.g)(Ne)),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("footer",{className:" bg-dark p-2"},l.a.createElement("span",null,"Developed by ",l.a.createElement(p.b,{to:"/"},"code-medicine")))}}]),a}(n.Component),xe=(a(141),a(505),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_logout_button_click=function(){var e={token:localStorage.getItem("user")};v.a.post($,e).then((function(e){!0===e.data.status?(localStorage.clear(),n.props.history.push("/login"),n.props.notify("success","",e.data.message)):n.props.notify("error","",e.data.message)})).catch((function(e){n.props.notify("error","",e.toString())}))},n.on_item_click=function(e){switch(e.target.id){case"search_link":""===n.state.search_toggle?n.setState({search_toggle:"nav-item-open"}):n.setState({search_toggle:""});break;case"chat_link":""===n.state.chat_toggle?n.setState({chat_toggle:"nav-item-open"}):n.setState({chat_toggle:""});break;case"reception_link":""===n.state.reception_toggle?n.setState({reception_toggle:"nav-item-open"}):n.setState({reception_toggle:""})}},n.state={search_toggle:"",chat_toggle:"",reception_toggle:"",current_page:"Home"},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.active_user.first_name.charAt(0).toUpperCase(),t=this.props.active_user.first_name.length>1?this.props.active_user.first_name.substring(1):"",a=this.props.active_user.last_name.charAt(0).toUpperCase(),n=this.props.active_user.last_name.length>1?this.props.active_user.last_name.substring(1):"";return l.a.createElement("div",{className:"sidebar sidebar-dark sidebar-main sidebar-fixed sidebar-expand-md"},l.a.createElement("div",{className:"sidebar-mobile-toggler text-center"},l.a.createElement(p.b,{to:"/",className:"sidebar-mobile-main-toggle"},l.a.createElement("i",{className:"icon-arrow-left8"})),"Menu",l.a.createElement(p.b,{to:"/",className:"sidebar-mobile-expand"},l.a.createElement("i",{className:"icon-screen-full"}),l.a.createElement("i",{className:"icon-screen-normal"}))),l.a.createElement("div",{className:"sidebar-content"},l.a.createElement("div",{className:"sidebar-user background_custom_left_side_bar d-flex align-items-center",style:{height:"25vh"}},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"media d-flex align-items-center"},l.a.createElement("div",{className:"mr-3"},l.a.createElement("div",{className:"img-fluid rounded-circle text-teal-400 bg-light h3 d-flex justify-content-center align-items-center p-2",style:{height:"50px",width:"50px"}},"".concat(e).concat(a))),l.a.createElement("div",{className:"media-body "},l.a.createElement("div",{className:"media-title font-weight-semibold "},l.a.createElement("span",{className:"text-shadow"},"".concat(e).concat(t," ").concat(a).concat(n))),l.a.createElement("div",{className:"font-size-xs opacity-50 text-shadow"},l.a.createElement("i",{className:"icon-pin font-size-sm"})," \xa0Pakistan"))))),l.a.createElement("div",{className:"card card-sidebar-mobile"},l.a.createElement("ul",{className:"nav nav-sidebar"},l.a.createElement("li",{className:"nav-item-header"},l.a.createElement("div",{className:"text-uppercase font-size-xs line-height-xs"},"Main")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link"},l.a.createElement("i",{className:"icon-home"}),l.a.createElement("span",null,"Dashboard"))),l.a.createElement("li",{className:"nav-item nav-item-submenu ".concat(this.state.search_toggle)},l.a.createElement(p.b,{className:"nav-link",to:"#",onClick:this.on_item_click,id:"search_link"},l.a.createElement("i",{className:"icon-search4"}),l.a.createElement("span",{className:""},"Search")),l.a.createElement("ul",{className:"nav nav-group-sub","data-submenu-title":"Home",style:{display:""===this.state.search_toggle?"none":"block"}},l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link disabled"},"Patients",l.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/search_doctors",className:"nav-link"},"Doctors")))),l.a.createElement("li",{className:"nav-item nav-item-submenu ".concat(this.state.reception_toggle)},l.a.createElement(p.b,{className:"nav-link",to:"#",onClick:this.on_item_click,id:"reception_link"},l.a.createElement("i",{className:"icon-user"}),l.a.createElement("span",null,"Reception")),l.a.createElement("ul",{className:"nav nav-group-sub","data-submenu-title":"Reception",style:{display:""===this.state.reception_toggle?"none":"block"}},l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/todayspatient",className:"nav-link active"},"Today's Patients")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/visits",className:"nav-link"},"All appointments")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link disabled"},"Emergency",l.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link disabled"},"Admissions",l.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link disabled"},"Requests",l.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))))),l.a.createElement("li",{className:"nav-item nav-item-submenu ".concat(this.state.chat_toggle)},l.a.createElement(p.b,{className:"nav-link",to:"#",onClick:this.on_item_click,id:"chat_link"},l.a.createElement("i",{className:"icon-envelop5"}),l.a.createElement("span",{className:""},"Chat")),l.a.createElement("ul",{className:"nav nav-group-sub","data-submenu-title":"Home",style:{display:""===this.state.chat_toggle?"none":"block"}},l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link disabled"},"Messages",l.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{to:"/",className:"nav-link disabled"},"Requests",l.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.b,{className:"nav-link",onClick:this.on_logout_button_click,to:"#"},l.a.createElement("i",{className:"icon-exit3"}),l.a.createElement("span",null,"Logout")))))))}}]),a}(n.Component));var Se=Object(h.b)((function(e){return{active_user:e.active_user,left_sidebar:e.left_sidebar}}),{set_active_user:se,notify:oe})(Object(_.g)(xe)),Ce=a(204),je=a.n(Ce),Oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).on_logout_button_click=function(){v.a.post($,{token:localStorage.getItem("user")},{headers:{"code-medicine":localStorage.getItem("user")}}).then((function(t){!0===t.data.status?(localStorage.clear(),e.props.set_active_user({}),e.props.history.push("/login"),e.props.notify("success","",t.data.message)):e.props.notify("error","",t.data.message)})).catch((function(t){e.props.notify("error","",t)}))},e}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"page-header page-header-light"},l.a.createElement("div",{className:"breadcrumb-line breadcrumb-line-light header-elements-md-inline"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"breadcrumb py-0"},null!==this.props.active_page?this.props.active_page.map((function(e,t){return l.a.createElement(n.Fragment,{key:t},e)})):""),l.a.createElement(p.b,{to:"/",className:"header-elements-toggle text-default d-md-none"},l.a.createElement("i",{className:"icon-more"}))),l.a.createElement("div",{className:"header-elements d-none"},l.a.createElement("div",{className:"breadcrumb justify-content-center py-0"},l.a.createElement(p.b,{to:"#",onClick:function(){alert("Please mail us on codemedicine29@gmail.com")},className:"breadcrumb-elements-item"},l.a.createElement("i",{className:"icon-comment-discussion mr-2"}),"Support"),l.a.createElement("div",{className:"breadcrumb-elements-item dropdown p-0"},l.a.createElement(p.b,{to:"#",className:"breadcrumb-elements-item dropdown-toggle","data-toggle":"dropdown"},l.a.createElement("img",{src:je.a,style:{height:30,width:30},className:"rounded-circle mr-2",alt:""}),l.a.createElement("span",{className:""},this.props.active_user.first_name)),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement(p.b,{to:"/profile",className:"dropdown-item"},l.a.createElement("i",{className:"icon-user-plus"})," My profile"),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(p.b,{onClick:this.on_logout_button_click,to:"#",className:"dropdown-item"},l.a.createElement("i",{className:"icon-switch2"})," Logout")))))))}}]),a}(n.Component);var De=Object(h.b)((function(e){return{active_user:e.active_user,active_page:e.active_page}}),{set_active_user:se,notify:oe})(Object(_.g)(Oe)),Pe=(a(506),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={type:n.props.container_type,user_auth_check_interval:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="",t="",a="",n="";switch(this.state.type){case"login":case"register":case"darmian_me":e=!1,t=!1,a=!1,n=!1;break;default:e=!0,t=!0,a=!0,n=!0}var r=l.a.createElement("div",{className:"virtual-body ".concat(e?"navbar-top":""," ").concat(this.props.left_sidebar?window.innerWidth>=500?"sidebar-xs":"sidebar-mobile-main":"")},e?l.a.createElement(ke,null):"",l.a.createElement("div",{className:"page-content"},a?l.a.createElement(Se,null):"",l.a.createElement("div",{className:"content-wrapper"},n?l.a.createElement(De,null):"",l.a.createElement("div",{className:"content ".concat("login"===this.state.type||"register"===this.state.type?"p-0":"")},this.props.children),t?l.a.createElement(we,null):""))),o=l.a.createElement("div",{className:"virtual-body d-flex justify-content-center align-items-center background_custom"},this.props.children);return"darmian_me"===this.state.type?o:r}}]),a}(n.Component));var Me=Object(h.b)((function(e){return{left_sidebar:e.left_sidebar,active_user:e.active_user}}),{notify:oe,set_active_user:se})(Object(_.g)(Pe)),Ie=a(167),Ae=a.n(Ie),Te=a(3),Le=a(449),Fe=a.n(Le),Re=a(110),Be=a.n(Re);var ze=function(e){var t=e.custom;return e.custom?l.a.createElement(Be.a,{type:"Rings",color:t.color,height:e.size,width:e.size,timeout:t.timeout}):l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(Be.a,{type:"Rings",color:"#00BFFF",height:e.size,width:e.size,timeout:12e4}))},qe=(a(862),a(16)),He=a.n(qe),Ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).order_data=function(e){console.log("socket data",e);var t=e.patients_per_day,a=[];if(t.length>0)for(var l=0;l<t.length;++l){var r=t[l];if(a.push({date:He()("".concat(r._id.month,"/").concat(r._id.day,"/").concat(r._id.year)).format("LL"),count:r.count}),l===t.length-1){var o=e.patient_attended,s=e.patient_left+e.patient_attended;n.setState({doctors:e.doctors,patient_left:e.patient_left,patient_attended:e.patient_attended,total_attended:e.total_patients_attended,total_appointments:e.total_patients_appointments_registered,checkout_percentage:Math.ceil(o/(0===s?1:s)*100),current_date_time:He()(new Date).format("LLLL"),loading_status:!1,patients_per_day:a.sort(n.compare_dates)})}}else{var c=e.patient_attended,i=e.patient_left+e.patient_attended;n.setState({doctors:e.doctors,patient_left:e.patient_left,patient_attended:e.patient_attended,total_attended:e.total_patients_attended,total_appointments:e.total_patients_appointments_registered,checkout_percentage:Math.ceil(c/(0===i?1:i)*100),current_date_time:He()(new Date).format("LLLL"),loading_status:!1,patients_per_day:[]})}},n.state={doctors:0,patient_left:0,patient_attended:0,total_attended:0,total_appointments:0,checkout_percentage:100,loading_status:!0,patients_per_day:[],current_date_time:He()(new Date).format("LLLL")},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[l.a.createElement(p.b,{to:"/",className:"breadcrumb-item"},l.a.createElement("i",{className:"icon-home2 mr-2"}),"Home"),l.a.createElement("span",{className:"breadcrumb-item active"},"Dashboard")];this.props.set_active_page(t);var a=localStorage.getItem("user");v.a.get("".concat(S,"?tag=").concat(a)).then((function(t){e.props.set_active_user(t.data.payload),e.socket=Fe()("".concat(f)),e.socket.on("FromAPI",(function(t){return e.order_data(t)}))})).catch((function(e){console.log(e)}))}},{key:"compare_dates",value:function(e,t){return new Date(e.date)-new Date(t.date)}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"render",value:function(){var e={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",detail:{formatter:"{value}%"},data:[{value:this.state.checkout_percentage}]}]},t={tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},xAxis:{type:"category",boundaryGap:!1,data:this.state.patients_per_day.map((function(e){return e.date}))},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"Patients",type:"line",symbol:"none",itemStyle:{color:"#00338D"},areaStyle:{color:new Te.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#015BF9"},{offset:1,color:"#6198F7"}])},data:this.state.patients_per_day.map((function(e){return e.count}))}]},a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"horizontal",left:10,data:["Attended","Waiting"]},series:[{name:"Patients Attended history",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:this.state.total_attended,name:"Attended"},{value:this.state.total_appointments-this.state.total_attended,name:"Waiting"}]}]};return l.a.createElement(Me,{container_type:"home"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4 d-flex align-items-stretch "},l.a.createElement("div",{className:"card w-100  border-left-3 border-top-0 border-bottom-0 border-right-0 border-info "},l.a.createElement("div",{className:"card-body d-flex justify-content-around align-items-center py-1"},l.a.createElement("div",{className:""},this.state.loading_status?l.a.createElement(ze,{size:55,custom:{color:"#5bc0de"}}):l.a.createElement("h1",{className:"font-weight-bold text-center values-text mb-0 text-info"},this.state.doctors),l.a.createElement("h5",null,"Doctors")),l.a.createElement("i",{className:"fa fa-stethoscope fa-5x text-info"})))),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"card border-left-3 border-top-0 border-bottom-0 border-right-0 border-info "},l.a.createElement("div",{className:"card-header pb-0"},l.a.createElement("div",{className:"h6 mb-0 d-flex w-100  justify-content-center"},l.a.createElement("div",{className:"heading"},l.a.createElement("span",{className:"filter font-weight-bold "},"Patients Today")))),l.a.createElement("div",{className:"card-body d-flex justify-content-around align-items-center py-1"},l.a.createElement("div",{className:""},this.state.loading_status?l.a.createElement(ze,{size:55,custom:{color:"#d9534f"}}):l.a.createElement("h1",{className:"font-weight-bold text-center values-text mb-0 text-danger"},this.state.patient_left),l.a.createElement("h5",null,"Waiting")),l.a.createElement("i",{className:"fa fa-heartbeat fa-5x text-danger"}),l.a.createElement("div",{className:"border-left mx-3"}),l.a.createElement("div",null,this.state.loading_status?l.a.createElement(ze,{size:55,custom:{color:"#5cb85c"}}):l.a.createElement("h1",{className:"font-weight-bold text-center values-text mb-0 text-success"},this.state.patient_attended),l.a.createElement("h5",null,"Checked out")),l.a.createElement("i",{className:"fa fa-heartbeat fa-5x text-success"}))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header header-elements-inline"},l.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients per doctor")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"chart-container"},l.a.createElement(Ae.a,{option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["Total","Attended"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["Dr. Yasir","Dr. Hamad","Dr. Shiza","Dr. Farukh","Dr. Baig"]},series:[{name:"Total",type:"bar",data:[14,5,8,2,1]},{name:"Attended",type:"bar",data:[6,3,4,2,0]}]}}))))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header header-elements-inline"},l.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients Attended")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"chart-container"},l.a.createElement(Ae.a,{option:e})))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header header-elements-inline"},l.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients Attended history")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"chart-container"},l.a.createElement(Ae.a,{option:a}))))),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header header-elements-inline"},l.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients Attendence History")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"chart-container"},l.a.createElement(Ae.a,{option:t})))))))}}]),a}(n.Component);var Ge=Object(h.b)((function(e){return{notify:e.notify,active_user:e.active_user,active_page:e.active_page}}),{notify:oe,set_active_user:se,set_active_page:ce})(Ke),Ve=a(17),Ye=a(43),Ue=a(85),We=a.n(Ue),$e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.field_type,t=l.a.createElement("input",Object.assign({},this.props,{className:"form-control ".concat(this.props.error?"border-danger":""," ").concat(this.props.className)})),a=l.a.createElement("textarea",Object.assign({rows:"3",cols:"3"},this.props,{className:"form-control ".concat(this.props.error?"border-danger":""," ").concat(this.props.className)})),n=l.a.createElement(Ye.a,this.props),r=l.a.createElement(We.a,Object.assign({},this.props,{className:"clock_datatime_picker form-control ".concat(this.props.error?"border-danger":""," ").concat(this.props.className),inputProps:Object(Ve.a)({placeholder:this.props.placeholder,className:"border-0 w-100"},this.props.inputProps)})),o="";o="text-area"===e?a:"date-time"===e?r:"select"===e?n:"custom"===e?this.props.custom_field:t;var s=this.props.parent_classes,c=this.props.inner_classes;return l.a.createElement("div",{className:"form-group ".concat(s)},this.props.heading?l.a.createElement("label",{className:"col-form-label mb-0 pb-1"},this.props.heading,this.props.required?l.a.createElement("span",{className:"text-danger"}," * "):""):"",l.a.createElement("div",{className:c},o))}}]),a}(n.Component),Je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_text_field_change=function(e){switch(e.target.id){case"email_text_input":n.setState({email:{value:e.target.value,error:!1}});break;case"password_text_input":n.setState({password:{value:e.target.value,error:!1}});break;case"remember_me_text_input":n.setState({remember_me_option:e.target.checked})}},n.__check_hard_constraints=function(e){return""===e.email?(n.props.notify("error","","Please specify a username or phone number"),!1):""!==e.password||(n.props.notify("error","","Please give your password"),!1)},n.on_submit=function(e){e.preventDefault(),n.setState({loading_status:!0});var t={email:n.state.email.value.trim(),password:n.state.password.value.trim(),remember_me:n.state.remember_me_option};v.a.post(N,t).then((function(e){n.setState({loading_status:!1}),console.log("user login",e.data),localStorage.setItem("user",e.data.token),n.props.notify("success","",e.data.message),n.props.history.push("/")})).catch((function(e){e.response&&(console.log("login",e.response),e.response.status>=500?n.props.notify("error","","Server not responding! please try again later"):e.response.status>=400&&e.response.status<500&&n.props.notify("error","",e.response.data.message),n.setState({loading_status:!1,email:{value:n.state.email.value,error:!0},password:{value:n.state.password.value,error:!0}})),console.log("login error",e)}))},n.state={email:{value:"",error:!1},password:{value:"",error:!1},remember_me_option:!0,loading_status:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t="";if(this.state.loading_status)t=l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"d-flex justify-content-center "},l.a.createElement(Be.a,{type:"Rings",color:"#00BFFF",height:150,width:150,timeout:6e4})),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("p",null,"Loading...")));else{var a=l.a.createElement("div",{className:""},l.a.createElement($e,{id:"email_text_input",heading:"Email",placeholder:"someone@hello.com",input_type:"email",onChange:this.on_text_field_change,value:this.state.email.value,error:this.state.email.error}),l.a.createElement($e,{id:"password_text_input",heading:"Password",placeholder:"Enter your password",type:"password",onChange:this.on_text_field_change,value:this.state.password.value,error:this.state.password.error})),n=l.a.createElement("div",{className:"form-group d-flex align-items-center"},l.a.createElement("div",{className:"form-check mb-0"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("div",{className:"uniform-checker"},l.a.createElement("span",{className:this.state.remember_me_option?"checked":""},l.a.createElement("input",{type:"checkbox",name:"remember",id:"remember_me_text_input",defaultChecked:this.state.remember_me_option,value:this.state.remember_me_option,onChange:this.on_text_field_change,className:"form-input-styled"}))),"Remember")),l.a.createElement(p.b,{to:"/forgot_password",className:"ml-auto"},"Forgot password?"));t=l.a.createElement("div",{className:""},a,l.a.createElement("hr",null),n)}return l.a.createElement(Me,{container_type:"login"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4 col-md-6 p-0"},l.a.createElement("form",{method:"post",onSubmit:this.on_submit},l.a.createElement("div",{className:"card m-0",style:{height:"100vh"}},l.a.createElement("div",{className:"card-header text-center h4 font-weight-light"},l.a.createElement("span",null,"Sign in"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"card-body px-5"},t,l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group "},l.a.createElement("button",{type:"submit",className:"btn btn-block bg-teal-400 btn-labeled btn-labeled-right ml-auto",style:{textTransform:"inherit"},onClick:this.on_submit},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-circle-right2"})),"Sign in")),l.a.createElement("div",{className:"form-group text-center text-muted content-divider"},l.a.createElement("span",{className:"px-2"},"Don't have an account?")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-block bg-dark btn-labeled btn-labeled-right ml-auto",style:{textTransform:"inherit"},onClick:function(){return e.props.history.push("/register")}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus2"})),"Sign up")),l.a.createElement("span",{className:"form-text text-center text-muted"},"By continuing, you're confirming that you've read our ",l.a.createElement(p.b,{to:"/login"},"Terms & Conditions")," and ",l.a.createElement(p.b,{to:"/login"},"Cookie Policy")))))),l.a.createElement("div",{className:"col-lg-8 col-md-6 d-none d-lg-block d-xl-block d-md-block background_custom"}))))}}]),a}(n.Component);var Ze=Object(h.b)((function(e){return{notify:e.notify,active_user:e.active_user}}),{notify:oe,set_active_user:se})(Object(_.g)(Je)),Qe=a(28),Xe=a.n(Qe),et=a(45),tt=(a(873),a(277)),at=(a(874),[{id:"blood_group_selection",label:"A+"},{id:"blood_group_selection",label:"A-"},{id:"blood_group_selection",label:"B+"},{id:"blood_group_selection",label:"B-"},{id:"blood_group_selection",label:"AB+"},{id:"blood_group_selection",label:"AB-"},{id:"blood_group_selection",label:"O+"},{id:"blood_group_selection",label:"O-"},{id:"blood_group_selection",label:"Unknown"}]),nt=[{id:"gender_selection",label:"Male"},{id:"gender_selection",label:"Female"},{id:"gender_selection",label:"other"}],lt=[{id:"role_selection",label:"Patient"},{id:"role_selection",label:"Doctor"},{id:"role_selection",label:"Admin"}],rt=[{id:"status_selection",label:"Waiting"},{id:"status_selection",label:"Checked in"},{id:"status_selection",label:"Checked out"},{id:"status_selection",label:"Emergency"}],ot=[{label:"fedral",options:[{id:"city_selection",label:"Islamabad"}]},{label:"punjab",options:[{id:"city_selection",label:"Ahmed Nager Chatha"},{id:"city_selection",label:"Ahmadpur East"},{id:"city_selection",label:"Ali Khan Abad"},{id:"city_selection",label:"Alipur"},{id:"city_selection",label:"Arifwala"},{id:"city_selection",label:"Attock"},{id:"city_selection",label:"Bhera"},{id:"city_selection",label:"Bhalwal"},{id:"city_selection",label:"Bahawalnagar"},{id:"city_selection",label:"Bahawalpur"},{id:"city_selection",label:"Bhakkar"},{id:"city_selection",label:"Burewala"},{id:"city_selection",label:"Chillianwala"},{id:"city_selection",label:"Chakwal"},{id:"city_selection",label:"Chichawatni"},{id:"city_selection",label:"Chiniot"},{id:"city_selection",label:"Chishtian"},{id:"city_selection",label:"Daska"},{id:"city_selection",label:"Darya Khan"},{id:"city_selection",label:"Dera Ghazi Khan"},{id:"city_selection",label:"Dhaular"},{id:"city_selection",label:"Dina"},{id:"city_selection",label:"Dinga"},{id:"city_selection",label:"Dipalpur"},{id:"city_selection",label:"Faisalabad"},{id:"city_selection",label:"Fateh Jang"},{id:"city_selection",label:"Ghakhar Mandi"},{id:"city_selection",label:"Gojra"},{id:"city_selection",label:"Gujranwala"},{id:"city_selection",label:"Gujrat"},{id:"city_selection",label:"Gujar Khan"},{id:"city_selection",label:"Hafizabad"},{id:"city_selection",label:"Haroonabad"},{id:"city_selection",label:"Hasilpur"},{id:"city_selection",label:"Haveli"},{id:"city_selection",label:"Lakha"},{id:"city_selection",label:"Jalalpur"},{id:"city_selection",label:"Jattan"},{id:"city_selection",label:"Jampur"},{id:"city_selection",label:"Jaranwala"},{id:"city_selection",label:"Jhang"},{id:"city_selection",label:"Jhelum"},{id:"city_selection",label:"Kalabagh"},{id:"city_selection",label:"Karor Lal Esan"},{id:"city_selection",label:"Kasur"},{id:"city_selection",label:"Kamalia"},{id:"city_selection",label:"Kamoke"},{id:"city_selection",label:"Khanewal"},{id:"city_selection",label:"Khanpur"},{id:"city_selection",label:"Kharian"},{id:"city_selection",label:"Khushab"},{id:"city_selection",label:"Kot Adu"},{id:"city_selection",label:"Jauharabad"},{id:"city_selection",label:"Lahore"},{id:"city_selection",label:"Lalamusa"},{id:"city_selection",label:"Layyah"},{id:"city_selection",label:"Liaquat Pur"},{id:"city_selection",label:"Lodhran"},{id:"city_selection",label:"Malakwal"},{id:"city_selection",label:"Mamoori"},{id:"city_selection",label:"Mailsi"},{id:"city_selection",label:"Mandi Bahauddin"},{id:"city_selection",label:"Mian Channu"},{id:"city_selection",label:"Mianwali"},{id:"city_selection",label:"Multan"},{id:"city_selection",label:"Murree"},{id:"city_selection",label:"Muridke"},{id:"city_selection",label:"Mianwali Bangla"},{id:"city_selection",label:"Muzaffargarh"},{id:"city_selection",label:"Narowal"},{id:"city_selection",label:"Okara"},{id:"city_selection",label:"Renala Khurd"},{id:"city_selection",label:"Pakpattan"},{id:"city_selection",label:"Pattoki"},{id:"city_selection",label:"Pir Mahal"},{id:"city_selection",label:"Qaimpur"},{id:"city_selection",label:"Qila Didar Singh"},{id:"city_selection",label:"Rabwah"},{id:"city_selection",label:"Raiwind"},{id:"city_selection",label:"Rajanpur"},{id:"city_selection",label:"Rahim Yar Khan"},{id:"city_selection",label:"Rawalpindi"},{id:"city_selection",label:"Sadiqabad"},{id:"city_selection",label:"Safdarabad"},{id:"city_selection",label:"Sahiwal"},{id:"city_selection",label:"Sangla Hill"},{id:"city_selection",label:"Sarai Alamgir"},{id:"city_selection",label:"Sargodha"},{id:"city_selection",label:"Shakargarh"},{id:"city_selection",label:"Sheikhupura"},{id:"city_selection",label:"Sialkot"},{id:"city_selection",label:"Sohawa"},{id:"city_selection",label:"Soianwala"},{id:"city_selection",label:"Siranwali"},{id:"city_selection",label:"Talagang"},{id:"city_selection",label:"Taxila"},{id:"city_selection",label:"Toba Tek Singh"},{id:"city_selection",label:"Vehari"},{id:"city_selection",label:"Wah Cantonment"},{id:"city_selection",label:"Wazirabad"}]},{label:"sindh",options:[{id:"city_selection",label:"Badin"},{id:"city_selection",label:"Bhirkan"},{id:"city_selection",label:"Rajo Khanani"},{id:"city_selection",label:"Chak"},{id:"city_selection",label:"Dadu"},{id:"city_selection",label:"Digri"},{id:"city_selection",label:"Diplo"},{id:"city_selection",label:"Dokri"},{id:"city_selection",label:"Ghotki"},{id:"city_selection",label:"Haala"},{id:"city_selection",label:"Hyderabad"},{id:"city_selection",label:"Islamkot"},{id:"city_selection",label:"Jacobabad"},{id:"city_selection",label:"Jamshoro"},{id:"city_selection",label:"Jungshahi"},{id:"city_selection",label:"Kandhkot"},{id:"city_selection",label:"Kandiaro"},{id:"city_selection",label:"Karachi"},{id:"city_selection",label:"Kashmore"},{id:"city_selection",label:"Keti Bandar"},{id:"city_selection",label:"Khairpur"},{id:"city_selection",label:"Kotri"},{id:"city_selection",label:"Larkana"},{id:"city_selection",label:"Matiari"},{id:"city_selection",label:"Mehar"},{id:"city_selection",label:"Mirpur Khas"},{id:"city_selection",label:"Mithani"},{id:"city_selection",label:"Mithi"},{id:"city_selection",label:"Mehrabpur"},{id:"city_selection",label:"Moro"},{id:"city_selection",label:"Nagarparkar"},{id:"city_selection",label:"Naudero"},{id:"city_selection",label:"Naushahro Feroze"},{id:"city_selection",label:"Naushara"},{id:"city_selection",label:"Nawabshah"},{id:"city_selection",label:"Nazimabad"},{id:"city_selection",label:"Qambar"},{id:"city_selection",label:"Qasimabad"},{id:"city_selection",label:"Ranipur"},{id:"city_selection",label:"Ratodero"},{id:"city_selection",label:"Rohri"},{id:"city_selection",label:"Sakrand"},{id:"city_selection",label:"Sanghar"},{id:"city_selection",label:"Shahbandar"},{id:"city_selection",label:"Shahdadkot"},{id:"city_selection",label:"Shahdadpur"},{id:"city_selection",label:"Shahpur Chakar"},{id:"city_selection",label:"Shikarpaur"},{id:"city_selection",label:"Sukkur"},{id:"city_selection",label:"Tangwani"},{id:"city_selection",label:"Tando Adam Khan"},{id:"city_selection",label:"Tando Allahyar"},{id:"city_selection",label:"Tando Muhammad Khan"},{id:"city_selection",label:"Thatta"},{id:"city_selection",label:"Umerkot"},{id:"city_selection",label:"Warah"}]},{label:"kpk",options:[{id:"city_selection",label:"Abbottabad"},{id:"city_selection",label:"Adezai"},{id:"city_selection",label:"Alpuri"},{id:"city_selection",label:"Akora Khattak"},{id:"city_selection",label:"Ayubia"},{id:"city_selection",label:"Banda Daud Shah"},{id:"city_selection",label:"Bannu"},{id:"city_selection",label:"Batkhela"},{id:"city_selection",label:"Battagram"},{id:"city_selection",label:"Birote"},{id:"city_selection",label:"Chakdara"},{id:"city_selection",label:"Charsadda"},{id:"city_selection",label:"Chitral"},{id:"city_selection",label:"Daggar"},{id:"city_selection",label:"Dargai"},{id:"city_selection",label:"Darya Khan"},{id:"city_selection",label:"Dera Ismail Khan"},{id:"city_selection",label:"Doaba"},{id:"city_selection",label:"Dir"},{id:"city_selection",label:"Drosh"},{id:"city_selection",label:"Hangu"},{id:"city_selection",label:"Haripur"},{id:"city_selection",label:"Karak"},{id:"city_selection",label:"Kohat"},{id:"city_selection",label:"Kulachi"},{id:"city_selection",label:"Lakki Marwat"},{id:"city_selection",label:"Latamber"},{id:"city_selection",label:"Madyan"},{id:"city_selection",label:"Mansehra"},{id:"city_selection",label:"Mardan"},{id:"city_selection",label:"Mastuj"},{id:"city_selection",label:"Mingora"},{id:"city_selection",label:"Nowshera"},{id:"city_selection",label:"Paharpur"},{id:"city_selection",label:"Pabbi"},{id:"city_selection",label:"Peshawar"},{id:"city_selection",label:"Saidu Sharif"},{id:"city_selection",label:"Shorkot"},{id:"city_selection",label:"Shewa Adda"},{id:"city_selection",label:"Swabi"},{id:"city_selection",label:"Swat"},{id:"city_selection",label:"Tangi"},{id:"city_selection",label:"Tank"},{id:"city_selection",label:"Thall"},{id:"city_selection",label:"Timergara"},{id:"city_selection",label:"Tordher"}]},{label:"balochistan",options:[{id:"city_selection",label:"Awaran"},{id:"city_selection",label:"Barkhan"},{id:"city_selection",label:"Chagai"},{id:"city_selection",label:"Dera Bugti"},{id:"city_selection",label:"Gwadar"},{id:"city_selection",label:"Harnai"},{id:"city_selection",label:"Jafarabad"},{id:"city_selection",label:"Jhal Magsi"},{id:"city_selection",label:"Kacchi"},{id:"city_selection",label:"Kalat"},{id:"city_selection",label:"Kech"},{id:"city_selection",label:"Kharan"},{id:"city_selection",label:"Khuzdar"},{id:"city_selection",label:"Killa Abdullah"},{id:"city_selection",label:"Killa Saifullah"},{id:"city_selection",label:"Kohlu"},{id:"city_selection",label:"Lasbela"},{id:"city_selection",label:"Lehri"},{id:"city_selection",label:"Loralai"},{id:"city_selection",label:"Mastung"},{id:"city_selection",label:"Musakhel"},{id:"city_selection",label:"Nasirabad"},{id:"city_selection",label:"Nushki"},{id:"city_selection",label:"Panjgur"},{id:"city_selection",label:"Pishin Valley"},{id:"city_selection",label:"Quetta"},{id:"city_selection",label:"Sherani"},{id:"city_selection",label:"Sibi"},{id:"city_selection",label:"Sohbatpur"},{id:"city_selection",label:"Washuk"},{id:"city_selection",label:"Zhob"},{id:"city_selection",label:"Ziarat"}]}],st=[{id:"country_selection",label:"Afghanistan"},{id:"country_selection",label:"Albania"},{id:"country_selection",label:"Algeria"},{id:"country_selection",label:"Andorra"},{id:"country_selection",label:"Angola"},{id:"country_selection",label:"Antigua & Deps"},{id:"country_selection",label:"Argentina"},{id:"country_selection",label:"Armenia"},{id:"country_selection",label:"Australia"},{id:"country_selection",label:"Austria"},{id:"country_selection",label:"Azerbaijan"},{id:"country_selection",label:"Bahamas"},{id:"country_selection",label:"Bahrain"},{id:"country_selection",label:"Bangladesh"},{id:"country_selection",label:"Barbados"},{id:"country_selection",label:"Belarus"},{id:"country_selection",label:"Belgium"},{id:"country_selection",label:"Belize"},{id:"country_selection",label:"Benin"},{id:"country_selection",label:"Bhutan"},{id:"country_selection",label:"Bolivia"},{id:"country_selection",label:"Bosnia Herzegovina"},{id:"country_selection",label:"Botswana"},{id:"country_selection",label:"Brazil"},{id:"country_selection",label:"Brunei"},{id:"country_selection",label:"Bulgaria"},{id:"country_selection",label:"Burkina"},{id:"country_selection",label:"Burundi"},{id:"country_selection",label:"Cambodia"},{id:"country_selection",label:"Cameroon"},{id:"country_selection",label:"Canada"},{id:"country_selection",label:"Cape Verde"},{id:"country_selection",label:"Central African Rep"},{id:"country_selection",label:"Chad"},{id:"country_selection",label:"Chile"},{id:"country_selection",label:"China"},{id:"country_selection",label:"Colombia"},{id:"country_selection",label:"Comoros"},{id:"country_selection",label:"Congo"},{id:"country_selection",label:"Congo {Democratic Rep}"},{id:"country_selection",label:"Costa Rica"},{id:"country_selection",label:"Croatia"},{id:"country_selection",label:"Cuba"},{id:"country_selection",label:"Cyprus"},{id:"country_selection",label:"Czech Republic"},{id:"country_selection",label:"Denmark"},{id:"country_selection",label:"Djibouti"},{id:"country_selection",label:"Dominica"},{id:"country_selection",label:"Dominican Republic"},{id:"country_selection",label:"East Timor"},{id:"country_selection",label:"Ecuador"},{id:"country_selection",label:"Egypt"},{id:"country_selection",label:"El Salvador"},{id:"country_selection",label:"Equatorial Guinea"},{id:"country_selection",label:"Eritrea"},{id:"country_selection",label:"Estonia"},{id:"country_selection",label:"Ethiopia"},{id:"country_selection",label:"Fiji"},{id:"country_selection",label:"Finland"},{id:"country_selection",label:"France"},{id:"country_selection",label:"Gabon"},{id:"country_selection",label:"Gambia"},{id:"country_selection",label:"Georgia"},{id:"country_selection",label:"Germany"},{id:"country_selection",label:"Ghana"},{id:"country_selection",label:"Greece"},{id:"country_selection",label:"Grenada"},{id:"country_selection",label:"Guatemala"},{id:"country_selection",label:"Guinea"},{id:"country_selection",label:"Guinea-Bissau"},{id:"country_selection",label:"Guyana"},{id:"country_selection",label:"Haiti"},{id:"country_selection",label:"Honduras"},{id:"country_selection",label:"Hungary"},{id:"country_selection",label:"Iceland"},{id:"country_selection",label:"India"},{id:"country_selection",label:"Indonesia"},{id:"country_selection",label:"Iran"},{id:"country_selection",label:"Iraq"},{id:"country_selection",label:"Ireland {Republic}"},{id:"country_selection",label:"Israel"},{id:"country_selection",label:"Italy"},{id:"country_selection",label:"Ivory Coast"},{id:"country_selection",label:"Jamaica"},{id:"country_selection",label:"Japan"},{id:"country_selection",label:"Jordan"},{id:"country_selection",label:"Kazakhstan"},{id:"country_selection",label:"Kenya"},{id:"country_selection",label:"Kiribati"},{id:"country_selection",label:"Korea North"},{id:"country_selection",label:"Korea South"},{id:"country_selection",label:"Kosovo"},{id:"country_selection",label:"Kuwait"},{id:"country_selection",label:"Kyrgyzstan"},{id:"country_selection",label:"Laos"},{id:"country_selection",label:"Latvia"},{id:"country_selection",label:"Lebanon"},{id:"country_selection",label:"Lesotho"},{id:"country_selection",label:"Liberia"},{id:"country_selection",label:"Libya"},{id:"country_selection",label:"Liechtenstein"},{id:"country_selection",label:"Lithuania"},{id:"country_selection",label:"Luxembourg"},{id:"country_selection",label:"Macedonia"},{id:"country_selection",label:"Madagascar"},{id:"country_selection",label:"Malawi"},{id:"country_selection",label:"Malaysia"},{id:"country_selection",label:"Maldives"},{id:"country_selection",label:"Mali"},{id:"country_selection",label:"Malta"},{id:"country_selection",label:"Marshall Islands"},{id:"country_selection",label:"Mauritania"},{id:"country_selection",label:"Mauritius"},{id:"country_selection",label:"Mexico"},{id:"country_selection",label:"Micronesia"},{id:"country_selection",label:"Moldova"},{id:"country_selection",label:"Monaco"},{id:"country_selection",label:"Mongolia"},{id:"country_selection",label:"Montenegro"},{id:"country_selection",label:"Morocco"},{id:"country_selection",label:"Mozambique"},{id:"country_selection",label:"Myanmar, {Burma}"},{id:"country_selection",label:"Namibia"},{id:"country_selection",label:"Nauru"},{id:"country_selection",label:"Nepal"},{id:"country_selection",label:"Netherlands"},{id:"country_selection",label:"New Zealand"},{id:"country_selection",label:"Nicaragua"},{id:"country_selection",label:"Niger"},{id:"country_selection",label:"Nigeria"},{id:"country_selection",label:"Norway"},{id:"country_selection",label:"Oman"},{id:"country_selection",label:"Pakistan"},{id:"country_selection",label:"Palau"},{id:"country_selection",label:"Panama"},{id:"country_selection",label:"Papua New Guinea"},{id:"country_selection",label:"Paraguay"},{id:"country_selection",label:"Peru"},{id:"country_selection",label:"Philippines"},{id:"country_selection",label:"Poland"},{id:"country_selection",label:"Portugal"},{id:"country_selection",label:"Qatar"},{id:"country_selection",label:"Romania"},{id:"country_selection",label:"Russian Federation"},{id:"country_selection",label:"Rwanda"},{id:"country_selection",label:"St Kitts & Nevis"},{id:"country_selection",label:"St Lucia"},{id:"country_selection",label:"Saint Vincent & the Grenadines"},{id:"country_selection",label:"Samoa"},{id:"country_selection",label:"San Marino"},{id:"country_selection",label:"Sao Tome & Principe"},{id:"country_selection",label:"Saudi Arabia"},{id:"country_selection",label:"Senegal"},{id:"country_selection",label:"Serbia"},{id:"country_selection",label:"Seychelles"},{id:"country_selection",label:"Sierra Leone"},{id:"country_selection",label:"Singapore"},{id:"country_selection",label:"Slovakia"},{id:"country_selection",label:"Slovenia"},{id:"country_selection",label:"Solomon Islands"},{id:"country_selection",label:"Somalia"},{id:"country_selection",label:"South Africa"},{id:"country_selection",label:"South Sudan"},{id:"country_selection",label:"Spain"},{id:"country_selection",label:"Sri Lanka"},{id:"country_selection",label:"Sudan"},{id:"country_selection",label:"Suriname"},{id:"country_selection",label:"Swaziland"},{id:"country_selection",label:"Sweden"},{id:"country_selection",label:"Switzerland"},{id:"country_selection",label:"Syria"},{id:"country_selection",label:"Taiwan"},{id:"country_selection",label:"Tajikistan"},{id:"country_selection",label:"Tanzania"},{id:"country_selection",label:"Thailand"},{id:"country_selection",label:"Togo"},{id:"country_selection",label:"Tonga"},{id:"country_selection",label:"Trinidad & Tobago"},{id:"country_selection",label:"Tunisia"},{id:"country_selection",label:"Turkey"},{id:"country_selection",label:"Turkmenistan"},{id:"country_selection",label:"Tuvalu"},{id:"country_selection",label:"Uganda"},{id:"country_selection",label:"Ukraine"},{id:"country_selection",label:"United Arab Emirates"},{id:"country_selection",label:"United Kingdom"},{id:"country_selection",label:"United States"},{id:"country_selection",label:"Uruguay"},{id:"country_selection",label:"Uzbekistan"},{id:"country_selection",label:"Vanuatu"},{id:"country_selection",label:"Vatican City"},{id:"country_selection",label:"Venezuela"},{id:"country_selection",label:"Vietnam"},{id:"country_selection",label:"Yemen"},{id:"country_selection",label:"Zambia"},{id:"country_selection",label:"Zimbabwe"}],ct=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_text_field_change=function(e){switch(e.target.id){case"first_name_text_input":n.setState({first_name:{value:e.target.value,error:!1}});break;case"last_name_text_input":n.setState({last_name:{value:e.target.value,error:!1}});break;case"cnic_text_input":e.target.value.length<=13&&n.setState({cnic:{value:e.target.value,error:!1}});break;case"phone_number_text_input":e.target.value.length<=11&&n.setState({phone_number:{value:e.target.value,error:!1}});break;case"email_text_input":n.setState({email:{value:e.target.value,error:!1}});break;case"password_text_input":n.setState({password:{value:e.target.value,error:!1}});break;case"verify_password_text_input":n.setState({verify_password:{value:e.target.value,error:!1}});break;case"address_text_input":n.setState({address:{value:e.target.value,error:!1}})}},n.on_date_of_birth_change=function(e){if(""===e)n.setState({dob:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({dob:{value:t}})}}},n.on_selected_changed=function(e){switch(e.id){case"blood_group_selection":n.setState({blood_group:{value:e.label,error:!1}});break;case"gender_selection":n.setState({gender:{value:e.label,error:!1}});break;case"role_selection":n.setState({role:{value:e.label,error:!1}})}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=/^[A-Za-z]+$/,r=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||e.match(l))||!(!n||e.match(r)))},n.check_hard_constraints=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!e.includes(t))return!0;switch(a){case"eq":if(e.length!==n)return!0;break;case"min":if(e.length<n)return!0;break;case"max":if(e.length>n)return!0}return!1},n.on_submit=function(){var e=Object(et.a)(Xe.a.mark((function e(t){var a,l,r;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({loading_status:!0}),a=!1,n.check_input(n.state.first_name.value,!0,!0,!1)&&(n.setState({current_page:0,first_name:{value:n.state.first_name.value,error:!0}}),a=!0),n.check_input(n.state.last_name.value,!0,!0,!1)&&(n.setState({current_page:0,last_name:{value:n.state.last_name.value,error:!0}}),a=!0),(n.check_input(n.state.email.value,!0,!1,!1)||n.check_hard_constraints(n.state.email.value,"@"))&&(n.setState({current_page:0,email:{value:n.state.email.value,error:!0}}),a=!0),(n.check_input(n.state.phone_number.value,!0,!1,!0)||n.check_hard_constraints(n.state.phone_number.value,"","eq",11))&&(n.setState({current_page:0,phone_number:{value:n.state.phone_number.value,error:!0}}),a=!0),(n.check_input(n.state.password.value,!0,!1,!1)||n.check_hard_constraints(n.state.password.value,"","min",8))&&(n.setState({current_page:1,password:{value:n.state.password.value,error:!0}}),a=!0),n.state.password.value!==n.state.verify_password.value&&(n.setState({password:{value:n.state.password.value,error:!0},verify_password:{value:n.state.verify_password.value,error:!0},current_page:1}),a=!0),(n.check_input(n.state.cnic.value,!0,!1,!0)||n.check_hard_constraints(n.state.cnic.value,"","eq",13))&&(n.setState({current_page:2,cnic:{value:n.state.cnic.value,error:!0}}),a=!0),n.check_input(n.state.dob.value,!0,!1,!1)&&(n.setState({current_page:2,dob:{value:n.state.dob.value,error:!0}}),a=!0),n.check_input(n.state.address.value,!0,!1,!1)&&(n.setState({current_page:2,address:{value:n.state.address.value,error:!0}}),a=!0),n.check_input(n.state.role.value,!0,!0,!1)&&(n.setState({current_page:3,role:{value:n.state.role.value,error:!0}}),a=!0),n.check_input(n.state.gender.value,!0,!0,!1)&&(n.setState({current_page:3,gender:{value:n.state.gender.value,error:!0}}),a=!0),n.check_input(n.state.blood_group.value,!0,!1,!1)&&(n.setState({current_page:3,blood_group:{value:n.state.blood_group.value,error:!0}}),a=!0),!0!==a){e.next=18;break}return n.props.notify("error","","Invalid info"),n.setState({loading_status:!1}),e.abrupt("return");case 18:return l={first_name:n.state.first_name.value.trim(),last_name:n.state.last_name.value.trim(),email:n.state.email.value.trim(),password:n.state.password.value.trim(),verify_password:n.state.verify_password.value.trim(),phone_number:n.state.phone_number.value.trim(),cnic:n.state.cnic.value.trim(),role:n.state.role.value.trim(),dob:n.state.dob.value,gender:n.state.gender.value.trim(),blood_group:n.state.blood_group.value.trim(),address:n.state.address.value.trim()},e.next=21,v.a.post(k,l);case 21:r=e.sent;try{r.data.status?(n.props.notify("success","",r.data.message),n.props.history.push("/login")):(n.props.notify("error","",r.data.message),n.setState({loading_status:!1}))}catch(t){n.props.notify("error","","We are sorry for invonvenience. Server is not responding! please try again later"),n.setState({loading_status:!1})}case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.next_button_click=function(e){e.preventDefault(),n.state.current_page<3?n.setState({current_page:n.state.current_page+1}):3===n.state.current_page&&n.on_submit()},n.back_button_click=function(e){n.state.current_page>=0&&n.setState({current_page:n.state.current_page-1})},n.state={first_name:{value:"",error:!1},last_name:{value:"",error:!1},email:{value:"",error:!1},password:{value:"",error:!1},verify_password:{value:"",error:!1},gender:{value:"",error:!1},dob:{value:"",error:!1},blood_group:{value:"",error:!1},role:{value:"",error:!1},phone_number:{value:"",error:!1},cnic:{value:"",error:!1},address:{value:"",error:!1},loading_status:!1,role_select_modal_visibility:!1,current_page:0},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"d-flex justify-content-center "},l.a.createElement(Be.a,{type:"Rings",color:"#00BFFF",height:150,width:150,timeout:6e4})),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("p",null,"Loading..."))),a=t;if(this.state.loading_status)a=t;else{var n=l.a.createElement("div",{className:""},l.a.createElement($e,{id:"email_text_input",label_tag:"Email",placeholder:"someone@hello.com",icon_class:"icon-envelop",input_type:"email",on_text_change_listener:this.on_text_field_change,default_value:this.state.email.value,error:this.state.email.error}),l.a.createElement($e,{id:"first_name_text_input",label_tag:"First name",placeholder:"Enter your first name",icon_class:"icon-user-check",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.first_name.value,error:this.state.first_name.error}),l.a.createElement($e,{id:"last_name_text_input",label_tag:"Last name",placeholder:"Enter your last name",icon_class:"icon-user-check",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.last_name.value,error:this.state.last_name.error}),l.a.createElement($e,{id:"phone_number_text_input",label_tag:"Phone Number",placeholder:"Enter your phone number",icon_class:"icon-phone2",input_type:"number",on_text_change_listener:this.on_text_field_change,default_value:this.state.phone_number.value,error:this.state.phone_number.error})),r=l.a.createElement("div",{className:""},l.a.createElement($e,{id:"password_text_input",label_tag:"Password",placeholder:"Enter password",icon_class:"icon-user-lock",input_type:"password",on_text_change_listener:this.on_text_field_change,default_value:this.state.password.value,error:this.state.password.error}),l.a.createElement($e,{id:"verify_password_text_input",label_tag:"Verify Password",placeholder:"Re-enter password",icon_class:"icon-user-lock",input_type:"password",on_text_change_listener:this.on_text_field_change,default_value:this.state.verify_password.value,error:this.state.verify_password.error})),o=l.a.createElement("div",{className:""},l.a.createElement($e,{id:"cnic_text_input",label_tag:"CNIC",placeholder:"Enter your cnic",icon_class:"icon-vcard",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.cnic.value,error:this.state.cnic.error}),l.a.createElement($e,{id:"dob_text_input",label_tag:"Date of birth",icon_class:"icon-calendar3",placeholder:"Date of birth",input_type:"text",field_type:"date-time",date_format:"ll",time_format:!1,on_text_change_listener:this.on_date_of_birth_change,default_value:this.state.dob.value,error:this.state.dob.error}),l.a.createElement($e,{id:"address_text_input",label_tag:"What is your current address",placeholder:"Enter your address",icon_class:"icon-home",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.address.value,error:this.state.address.error,field_type:"text-area"})),s=l.a.createElement("div",{className:""},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label-lg"},"What is your blood group"),l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"icon-droplet"}))),l.a.createElement(Ye.a,{className:"w-75",options:at,classNamePrefix:"",components:Object(tt.a)(),placeholder:"Select blood group",id:"blood_group_selection",onChange:this.on_selected_changed}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label-lg"},"Specify your gender"),l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"icon-man-woman"}))),l.a.createElement(Ye.a,{className:"w-75",options:nt,components:Object(tt.a)(),classNamePrefix:"",placeholder:"Select gender",id:"gender_selection",onChange:this.on_selected_changed}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label-lg"},"How you want to go into this"),l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"icon-user-tie"}))),l.a.createElement(Ye.a,{className:"w-75",options:lt,classNamePrefix:"",placeholder:"Select role",id:"role_selection",onChange:this.on_selected_changed}))));a=0===this.state.current_page?n:1===this.state.current_page?r:2===this.state.current_page?o:s}return l.a.createElement(Me,{container_type:"register"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4 col-md-6 p-0"},l.a.createElement("form",{method:"post",action:this.next_button_click},l.a.createElement("div",{className:"card m-0 ",style:{height:"100vh"}},l.a.createElement("div",{className:"card-header text-center h4 font-weight-light"},l.a.createElement("span",null,"Sign up"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"card-body px-5"},a),l.a.createElement("div",{className:"row card-footer"},l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{id:"back_button",type:"button",className:"btn btn-block bg-teal-400 btn-labeled btn-labeled-left pl-5 mr-2",style:{textTransform:"inherit",display:0===this.state.current_page?"none":"inline"},onClick:this.back_button_click},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-arrow-left13"})),"Back")),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{type:"button",className:"btn btn-block bg-danger btn-labeled btn-labeled-right pr-5 mr-2",style:{textTransform:"inherit"},onClick:function(){return e.props.history.push("/login")}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Cancel")),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{type:"submit",className:"btn btn-block bg-teal-400 btn-labeled btn-labeled-right pr-5",id:"next_button",onClick:this.next_button_click},3===this.state.current_page?l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus3"})):l.a.createElement("b",null,l.a.createElement("i",{className:"icon-arrow-right14"})),3===this.state.current_page?"Register":"Next")))))),l.a.createElement("div",{className:"col-lg-8 col-md-6 d-none d-lg-block d-xl-block d-md-block background_custom",style:{height:"100vh"}}))))}}]),a}(n.Component);var it=Object(h.b)((function(e){return{notify:e}}),{notify:oe})(Object(_.g)(ct)),dt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).request_update=function(e){n.setState({loading_status:!0},(function(){v.a.put(w,e).then((function(e){n.setState({loading_status:!1}),n.props.notify("success","",e.data.message)})).catch((function(e){console.log("request error",e),n.setState({loading_status:!1}),e.response&&n.props.notify("error","",e.response.message)}))}))},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=/^[A-Za-z]+$/,r=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||e.match(l))||(!(!n||e.match(r))||void 0))},n.on_click_update=function(){var e=!1;if(n.check_input(n.state.first_name.value,!0,!0,!1)&&(n.setState({first_name:{value:n.state.first_name.value,error:!0}}),e=!0),n.check_input(n.state.last_name.value,!0,!0,!1)&&(n.setState({last_name:{value:n.state.last_name.value,error:!0}}),e=!0),n.check_input(n.state.email.value,!0,!1,!1)&&(n.setState({email:{value:n.state.email.value,error:!0}}),e=!0),n.check_input(n.state.phone_number.value,!0,!1,!0)&&(n.setState({phone_number:{value:n.state.phone_number.value,error:!0}}),e=!0),n.check_input(n.state.cnic.value,!0,!1,!0)&&(n.setState({cnic:{value:n.state.cnic.value,error:!0}}),e=!0),!0!==e){var t={first_name:n.state.first_name.value,last_name:n.state.last_name.value,email:n.state.email.value,gender:n.state.gender.value,date_of_birth:n.state.date_of_birth.value,register_date:n.state.register_date.value,blood_group:n.state.blood_group.value,phone_number:n.state.phone_number.value,cnic:n.state.cnic.value,address:n.state.address.value,city:n.state.city.value};n.request_update(t)}else n.props.notify("error","","Invalid input")},n.on_text_changed=function(e){switch(e.target.id){case"first_name_text_input":n.setState({first_name:{value:e.target.value,error:!1}});break;case"last_name_text_input":n.setState({last_name:{value:e.target.value,error:!1}});break;case"cnic_text_input":n.setState({cnic:{value:e.target.value,error:!1}});break;case"phone_number_text_input":n.setState({phone_number:{value:e.target.value,error:!1}});break;case"address_text_input":n.setState({address:{value:e.target.value,error:!1}});break;case"email_text_input":n.setState({email:{value:e.target.value,error:!1}})}},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"blood_group_selection":n.setState({blood_group:{value:e.label}});break;case"gender_selection":n.setState({gender:{value:e.label}});break;case"city_selection":n.setState({city:{value:e.label}})}else switch(t){case"blood_group_selection":n.setState({blood_group:{value:""}});break;case"gender_selection":n.setState({gender:{value:""}});break;case"city_selection":n.setState({city:{value:""}})}},n.state={first_name:{value:"",error:!1},last_name:{value:"",error:!1},email:{value:"",error:!1},gender:{value:"",error:!1},date_of_birth:{value:"",error:!1},register_date:{value:"",error:!1},blood_group:{value:"",error:!1},role:{value:"",error:!1},phone_number:{value:"",error:!1},cnic:{value:"",error:!1},city:{value:"",error:!1},address:{value:"",error:!1},loading_status:!1,previous_payload:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[l.a.createElement(p.b,{to:"/",className:"breadcrumb-item"},l.a.createElement("i",{className:"icon-home2 mr-2"}),"Home"),l.a.createElement("span",{className:"breadcrumb-item active"},"Profile")];this.props.set_active_page(t),localStorage.user?this.setState({loading_status:!0},(function(){v.a.get("".concat(S,"?tag=").concat(localStorage.user)).then((function(t){e.props.set_active_user(t.data.payload),e.setState({first_name:{value:t.data.payload.first_name,error:!1},last_name:{value:t.data.payload.last_name,error:!1},email:{value:t.data.payload.email,error:!1},cnic:{value:t.data.payload.cnic,error:!1},phone_number:{value:t.data.payload.phone_number,error:!1},city:{value:t.data.payload.city,error:!1},address:{value:t.data.payload.address,error:!1},date_of_birth:{value:He()(t.data.payload.date_of_birth).format("ll"),error:!1},register_date:{value:He()(t.data.payload.register_date).format("lll"),error:!1},blood_group:{value:t.data.payload.blood_group,error:!1},gender:{value:t.data.payload.gender,error:!1},loading_status:!1})})).catch((function(t){t&&(console.log(t.response),t.response.status>=500?(e.props.notify("error","","No response"),e.setState({loading_status:!1})):t.response.status>=400&&t.response.status<500&&(e.props.notify("info","","".concat(t.response.status,". Please refresh the page.")),e.setState({loading_status:!1})))}))})):this.props.history.push("/login")}},{key:"render",value:function(){var e=this,t=l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2 col-sm-0 "}),l.a.createElement("div",{className:"col-lg-8 col-sm-12"},l.a.createElement("div",{className:"card-img-actions d-inline-block mb-3"},l.a.createElement("img",{className:"img-fluid rounded-circle",src:je.a,style:{width:100,height:100},alt:""}),l.a.createElement("div",{className:"card-img-actions-overlay card-img rounded-circle"},l.a.createElement(p.b,{to:"#",className:"btn btn-outline bg-white text-white border-white border-2 btn-icon rounded-round"},l.a.createElement("i",{className:"icon-plus3"})))),l.a.createElement($e,{id:"first_name_text_input",heading:"First Name",placeholder:"Enter your first name",value:this.state.first_name.value,onChange:this.on_text_changed,error:this.state.first_name.error}),l.a.createElement($e,{id:"last_name_text_input",heading:"Last Name",placeholder:"Enter your last name",type:"email",value:this.state.last_name.value,onChange:this.on_text_changed,error:this.state.last_name.error}),l.a.createElement($e,{id:"email_text_input",heading:"Email",placeholder:"Enter your email",value:this.state.email.value,onChange:this.on_text_changed,disabled:!0}),l.a.createElement($e,{id:"phone_number_text_input",heading:"Phone number",placeholder:"Enter phone number",value:this.state.phone_number.value,onChange:this.on_text_changed,error:this.state.phone_number.error}),l.a.createElement($e,{id:"cnic_text_input",heading:"CNIC",placeholder:"Enter CNIC",value:this.state.cnic.value,onChange:this.on_text_changed,error:this.state.cnic.error}),l.a.createElement($e,{field_type:"select",id:"blood_group_selection",heading:"Blood Group",placeholder:"Select blood group",error:this.state.cnic.error,isClearable:!0,name:"color",options:at,menuPosition:"auto",onChange:function(t){return e.on_selected_changed(t,"blood_group_selection")},value:[{id:"blood_group_selection",label:this.state.blood_group.value}]}),l.a.createElement($e,{field_type:"select",heading:"Gender",isClearable:!0,name:"color",options:nt,placeholder:"Select gender",menuPosition:"auto",id:"gender_selection",onChange:function(t){return e.on_selected_changed(t,"gender_selection")},value:[{id:"gender_selection",label:this.state.gender.value}]}),l.a.createElement($e,{field_type:"select",heading:"City",isClearable:!0,options:ot,placeholder:"Select city",menuPosition:"auto",id:"city_selection",onChange:function(t){return e.on_selected_changed(t,"city_selection")},value:[{id:"city_selection",label:this.state.city.value}]}),l.a.createElement($e,{id:"address_text_input",heading:"Address",placeholder:"Address",icon_class:"icon-home",field_type:"text-area",value:this.state.address.value,onChange:this.on_text_changed,error:this.state.address.error}),l.a.createElement($e,{id:"user_dob_text_input",onChange:this.on_user_date_of_birth_change,className:"clock_datatime_picker form-control form-control-lg",placeholder:"Enter your date of birth",heading:"Date of birth",field_type:"date-time",input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.date_of_birth.value}),l.a.createElement($e,{field_type:"date-time",heading:"Register Date",className:"clock_datatime_picker form-control form-control-lg",inputProps:{placeholder:"Register Date",className:"border-0 w-100",disabled:!0},input:!0,dateFormat:"lll",timeFormat:!1,closeOnSelect:!0,value:this.state.register_date.value}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 float-right",onClick:this.on_click_update},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-floppy-disk"})),"Save"),l.a.createElement("button",{className:"btn bg-dark btn-labeled btn-labeled-right pr-5 float-right ml-2",onClick:function(){return e.props.history.push("/")}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Leave")))));return l.a.createElement(Me,{container_type:"home"},l.a.createElement("div",{className:"card border-top-info"},l.a.createElement("div",{className:"card-body"},this.state.loading_status?l.a.createElement(ze,{size:150}):t)))}}]),a}(n.Component);var ut=Object(h.b)((function(e){return{active_user:e.active_user,notify:e.notify}}),{set_active_user:se,notify:oe,set_active_page:ce})(Object(_.g)(dt)),mt=a(23),pt=(a(875),a(33)),_t=a(47),bt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handle_change=function(e){n.setState(Object(pt.a)({},e.target.id,{value:e.target.value,error:!1}),(function(){n.state.description_text_input.value!==n.state.prev_description||parseInt(n.state.charges_text_input.value)!==n.state.prev_fee||parseInt(n.state.discount_text_input.value)!==n.state.prev_discount?n.setState({edited:!0}):n.setState({edited:!1})}))},n.on_save_click=function(){if(n.setState({save_click_loading:!0}),"new"===n.props.data.type){var e={appointment_id:n.props.appointment_id,fee:parseInt(n.state.charges_text_input.value),discount:parseInt(n.state.discount_text_input.value),description:n.state.description_text_input.value};v.a.post(K,e).then((function(e){n.setState({save_click_loading:!1,edited:!1}),n.props.notify("success","",e.data.message),n.props.save_opp(n.props.index,{id:e.data.payload._id,fee:e.data.payload.fee,discount:e.data.payload.discount,description:e.data.payload.description})})).catch((function(e){console.log("error",e),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("error","","Network error")}))}else if("previous"===n.props.data.type){var t={appointment_id:n.props.appointment_id,procedure_id:n.props.data.id,fee:parseInt(n.state.charges_text_input.value),discount:parseInt(n.state.discount_text_input.value),description:n.state.description_text_input.value};v.a.put(G,t).then((function(e){console.log("success"),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("success","",e.data.message),n.props.save_opp(n.props.index,{id:n.props.data.id,fee:parseInt(n.state.charges_text_input.value),discount:parseInt(n.state.discount_text_input.value),description:n.state.description_text_input.value})})).catch((function(e){console.log("error",e),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("error","","Network error")}))}},n.on_delete_click=function(){if("new"!==n.props.data.type){var e={procedure_id:n.props.data.id};n.props.delete_opp(n.props.index),v.a.delete(V,{data:e}).then((function(e){console.log("success"),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("success","",e.data.message)})).catch((function(e){console.log("error",e),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("error","","Network error"+e.toString())}))}else n.props.delete_opp(-1)},n.state={description_text_input:{value:n.props.data.procedure_description,error:!1},charges_text_input:{value:n.props.data.procedure_fee,error:!1},discount_text_input:{value:n.props.data.procedure_discount,error:!1},prev_description:n.props.data.procedure_description,prev_fee:n.props.data.procedure_fee,prev_discount:n.props.data.procedure_discount,edited:!1,save_click_loading:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t="btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 secondary btn-icon ml-1 mb-1 ".concat(this.state.save_click_loading?"p-0":""),a="btn btn-outline-dark btn-sm secondary btn-icon ml-1 mb-1 ".concat(this.state.save_click_loading?"p-0":"");return l.a.createElement("tr",null,l.a.createElement("td",{className:"p-1"},l.a.createElement("input",{id:"description_text_input",placeholder:"Enter Reason",disabled:this.state.save_click_loading,input_type:"text",className:"form-control form-control-sm",onChange:function(t){return e.handle_change(t)},defaultValue:this.state.description_text_input.value,style:{border:0}})),l.a.createElement("td",{className:"p-1"},l.a.createElement("input",{id:"charges_text_input",placeholder:"Charges",input_type:"text",disabled:this.state.save_click_loading,className:"form-control form-control-sm",onChange:function(t){return e.handle_change(t)},defaultValue:this.state.charges_text_input.value,style:{border:0}})),l.a.createElement("td",{className:"p-1"},l.a.createElement("input",{id:"discount_text_input",placeholder:"Discount",disabled:this.state.save_click_loading,className:"form-control form-control-sm",onChange:function(t){return e.handle_change(t)},defaultValue:this.state.discount_text_input.value,style:{border:0}})),l.a.createElement("td",{className:"p-1"},l.a.createElement("div",{className:"d-flex align-items-end justify-content-center"},l.a.createElement("button",{className:"btn btn-outline btn-sm bg-danger border-danger text-danger secondary btn-icon mb-1",onClick:this.on_delete_click},l.a.createElement("i",{className:"icon-cross"})),this.state.edited?l.a.createElement("button",{className:"new"===this.props.data.type?t:a,onClick:this.on_save_click},this.state.save_click_loading?l.a.createElement(ze,{size:"30"}):l.a.createElement("i",{className:"icon-floppy-disk"})):"")))}}]),a}(n.Component),ht=Object(h.b)(null,{notify:oe})(bt),gt=a(44),vt=a.n(gt),ft=a(134),yt=a.n(ft),Et=a(135),Nt=a.n(Et),kt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},wt=function(e){var t=new Date(e),a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a)},xt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).save_procedure=function(e,t){var a=n.state.procedures_list;a[e].type="previous",a[e].procedure_fee=t.fee,a[e].procedure_discount=t.discount,a[e].procedure_description=t.description,a[e].id=t.id,n.setState({procedures_list:a},(function(){n.handle_total_values()}))},n.delete_procedure=function(e){var t=n.state.procedures_list;-1===e?t.pop():t.splice(e,1),n.setState({procedures_list:[]},(function(){n.setState({procedures_list:t},(function(){return n.handle_total_values()}))}))},n.add_procedure_click=function(){0===n.state.procedures_list.filter((function(e){return"new"===e.type})).length?n.add_procedure({id:null,procedure_fee:0,procedure_discount:0,procedure_description:"",type:"new"}):n.props.notify("info","","There is an unsaved procedure. Please save it first")},n.handle_change=function(e){var t=Object(_t.a)(n);n.setState(Object(pt.a)({},e.target.id,{value:e.target.value,error:!1}),(function(){t.handle_total_values()}))},n.handle_total_values=function(){for(var e=0,t=0,a=0;a<n.state.procedures_list.length;++a)e+=n.state.procedures_list[a].procedure_fee,t+=n.state.procedures_list[a].procedure_discount;var l=n.state.consultancy_fee_text_input.value.length>0?parseInt(n.state.consultancy_fee_text_input.value):0,r=n.state.discount_text_input.value.length>0?parseFloat(n.state.discount_text_input.value):0,o=n.state.follow_up_text_input.value.length>0?parseFloat(n.state.follow_up_text_input.value):0;n.setState({total:l+o-r+(e-t),minimum_payable:l-r+(e-t),discount:r+t})},n.show_procedures=function(){return n.state.procedures_list.map((function(e,t){return l.a.createElement(ht,{key:t,appointment_id:n.props.appointment_id,data:e,index:t,save_opp:n.save_procedure,delete_opp:n.delete_procedure})}))},n.handle_close_modal=function(e){n.setState({procedures_list:[],consultancy_fee_text_input:{value:"",error:!1},discount_text_input:{value:"",error:!1},follow_up_text_input:{value:"",error:!1},paid_text_input:{value:"",error:!1},total:0,discount:0}),n.props.cancelProcedureModal()},n.handle_save_button_click=function(){for(var e=0;e<n.state.procedures_list.length;++e)if("new"===n.state.procedures_list[e].type)return void n.props.notify("info","","There is an unsaved procedure.");var t={appointment_id:n.props.appointment_id,paid_for_procedures:parseInt(n.state.paid_text_input.value)};v.a.put(te,t).then((function(e){n.props.notify("success","",e.data.message)})).catch((function(e){n.props.notify("error","","Changes could not be saved!"+e.toString())}))},n.handle_checkout_button_click=function(){if(parseInt(""===n.state.paid_text_input.value?0:n.state.paid_text_input.value)<n.state.minimum_payable)n.props.notify("error","","Payment is less that minimum payable amount.");else{var e={appointment_id:n.props.appointment_id},t=Object(_t.a)(n);v.a.post(ae,e).then((function(e){n.props.notify("info","",e.data.message),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),setTimeout((function(){n.handle_close_modal()}),1e3)})).catch((function(e){e.response?(e.response.status,t.props.notify("error","",e.response.data.message)):t.props.notify("error","",e.toString())}))}},n.scrollToBottom=function(){n.last_element.scrollIntoView({behavior:"smooth"})},n.calculate_balance=function(){return n.state.paid_text_input.value.length>0?-1*(n.state.total-parseInt(n.state.paid_text_input.value)):0},n.on_text_change=function(e){n.setState(Object(pt.a)({},e.target.id,{value:e.target.value,error:!1}))},n.state={consultancy_fee_text_input:{value:"",error:!1},discount_text_input:{value:"",error:!1},follow_up_text_input:{value:"",error:!1},paid_text_input:{value:"",error:!1},total:0,discount:0,minimum_payable:0,procedures_list:[],user_data:null,loading_status:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.handle_total_values()}},{key:"add_procedure",value:function(e){var t=this,a=this.state.procedures_list;a.push(e),this.setState({procedures_list:a},(function(){t.scrollToBottom()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.visibility&&null!==e.appointment_id?v.a.get("".concat(Y,"?tag=").concat(e.appointment_id)).then((function(a){for(var n=[],l=a.data.payload,r=0;r<l.length;++r)n.push({id:l[r]._id,procedure_fee:l[r].fee,procedure_discount:l[r].discount,procedure_description:l[r].description,type:"previous"}),r===l.length-1&&t.setState({procedures_list:n},(function(){return t.handle_total_values()}));v.a.get("".concat(ee,"?tag=").concat(e.appointment_id)).then((function(a){var n=0===a.data.payload.paid_for_procedures?"":a.data.payload.paid_for_procedures.toString();t.setState({loading_status:!1,paid_text_input:{value:n,error:!1}},(function(){return t.handle_total_values()})),v.a.get("".concat(F,"?tag=").concat(e.appointment_id)).then((function(e){return t.setState({user_data:e.data.payload,loading_status:!1})})).catch((function(e){t.props.notify("error","",e.toString()),t.setState({loading_status:!1})}))})).catch((function(e){t.props.notify("error","",e.toString()),t.setState({loading_status:!1})}))})).catch((function(e){t.setState({procedures_list:[],loading_status:!1}),e.response&&(401===e.response.status?t.props.notify("error","","Session timeout! Please Signin again"):t.props.notify("error","","Server is not responding! Please try again later"))})):e.visibility&&null===e.appointment_id&&this.props.notify("error","","Something went wrong! Please try again later")}},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement(vt.a,{visible:this.props.visibility,onClickBackdrop:this.props.procedure_backDrop,fade:!0,dialogClassName:"modal-dialog modal-lg "},l.a.createElement("div",{className:"modal-header d-flex flex-lg-row flex-column bg-teal-400"},l.a.createElement("h5",{className:"modal-title"},"Procedures"),l.a.createElement("div",{className:""},l.a.createElement("button",{type:"button",className:"btn bg-dark btn-sm btn-labeled btn-labeled-right pr-5 mr-1",style:{textTransform:"inherit"},onClick:this.add_procedure_click},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus3"})),"New Procedure"),l.a.createElement(yt.a,{trigger:function(){return l.a.createElement("button",{type:"button",className:"btn bg-secondary btn-labeled btn-labeled-right btn-sm pr-5",style:{textTransform:"inherit"},disabled:e.state.loading_status},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-printer2"})),"Print")},content:function(){return e.componentRef}}))),l.a.createElement("div",{className:"modal-body pt-1",style:{height:"60vh",overflowY:"auto",overflowX:"hidden"}},this.state.loading_status?l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(ze,{size:150})):0===this.state.procedures_list.length?l.a.createElement("div",{className:"alert alert-info mt-2",style:{marginBottom:"0px"}},l.a.createElement("strong",null,"Info!")," No Procedures found."):l.a.createElement("div",{className:"table-responsive px-1"},l.a.createElement("table",{className:"table table-bordered table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"border-0"},"Procedure reason"),l.a.createElement("th",{className:"border-0"},"Charges"),l.a.createElement("th",{className:"border-0"},"Discount"),l.a.createElement("th",{className:"border-0"},"Actions"))),l.a.createElement("tbody",null,this.show_procedures()))),l.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.last_element=t}})),l.a.createElement("div",{className:"modal-footer d-flex flex-lg-row flex-column border border-top pt-3"},l.a.createElement("div",{className:"mr-auto d-flex"},l.a.createElement("span",{className:"badge badge-light badge-striped badge-striped-left border-left-teal-400"},l.a.createElement("span",{className:"h6 font-weight-bold mr-1"},"Total: ",this.state.total)),l.a.createElement("span",{className:"ml-2 badge badge-light badge-striped badge-striped-left border-left-teal-400"},l.a.createElement("span",{className:"h6 font-weight-bold mr-1"},"Discount: ",this.state.discount)),l.a.createElement($e,{id:"paid_text_input",icon_class:"icon-cash3",placeholder:"Amount paid",disabled:!1,value:this.state.paid_text_input.value,error:this.state.paid_text_input.error,onChange:this.on_text_change,className:"form-control-sm",parent_classes:"mb-1",type:"number"})),l.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-sm btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.handle_close_modal},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Cancel"),l.a.createElement("button",{disabled:0===this.state.procedures_list.length,type:"button",className:"btn bg-dark btn-labeled btn-sm btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.handle_save_button_click},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-floppy-disk"})),"Save"))),l.a.createElement("div",{className:"d-none"},l.a.createElement("div",{className:"row px-3 py-5",ref:function(t){return e.componentRef=t}},l.a.createElement("div",{className:"col-12 row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("img",{src:Nt.a,className:"img-fluid",alt:"logo"})),l.a.createElement("div",{className:"col-6"},this.state.user_data?l.a.createElement("div",{className:"table-responsive card"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"MRN#"),l.a.createElement("td",{className:"py-1"},this.state.user_data.patient.mrn)),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Patient"),l.a.createElement("td",{className:"py-1"},"".concat(kt(this.state.user_data.patient.first_name)," ").concat(kt(this.state.user_data.patient.last_name)))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Contact"),l.a.createElement("td",{className:"py-1"},"".concat(this.state.user_data.patient.phone_number))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Doctor"),l.a.createElement("td",{className:"py-1"},"".concat(kt(this.state.user_data.doctor.first_name)," ").concat(kt(this.state.user_data.doctor.last_name)))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Date"),l.a.createElement("td",{className:"py-1"},"".concat(He()(wt(this.state.user_data.appointment_date),"YYYY-MM-DDThh:mm:ss").format("LLLL"))))))):l.a.createElement("span",null,"Cannot fetch user data"))),l.a.createElement("div",{className:"table-responsive px-1 row col-12 mt-2"},l.a.createElement("h2",{className:"font-weight-bold"},"Procedures"),l.a.createElement("table",{className:"table table-sm table-bordered table-hover mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"py-1"},l.a.createElement("b",null,"Description")),l.a.createElement("th",{className:"py-1"},l.a.createElement("b",null,"Discount")),l.a.createElement("th",{className:"py-1"},l.a.createElement("b",null,"Charges")))),l.a.createElement("tbody",null,this.state.procedures_list?this.state.procedures_list.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"py-1"},e.procedure_description),l.a.createElement("td",{className:"py-1"},e.procedure_discount),l.a.createElement("td",{className:"py-1"},e.procedure_fee))})):"No procedure found",l.a.createElement("tr",null,l.a.createElement("td",{className:"font-weight-bold",colSpan:"2"},"Total"),l.a.createElement("td",{className:"font-weight-bold"},this.state.total)))),l.a.createElement("div",{className:"d-flex justify-content-between mt-2"},l.a.createElement("h2",{className:"font-weight-bold"},"Payment")),l.a.createElement("table",{className:"table table-sm table-bordered table-hover mb-0 mt-2"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Paid"),l.a.createElement("td",null,this.state.paid_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",null,"Balance"),l.a.createElement("td",null,this.state.balance)))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",{className:"text-muted"},"- Invoice date-time ",He()(new Date).format("LLL")))))))}}]),a}(n.Component),St=Object(h.b)(null,{notify:oe,update_appointment:ue,load_todays_appointments:ie,clear_todays_appointments:de})(xt),Ct=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).get_total=function(){return null!==n.state.data?parseInt(n.state.data.appointment_charges.procedures)+parseInt(n.state.data.appointment_charges.consultancy)+parseInt(n.state.data.appointment_charges.follow_up)-parseInt(n.state.data.appointment_charges.discount):0},n.get_balance=function(){return null!==n.state.data?n.get_total()-parseInt(n.state.data.appointment_charges.paid)-parseInt(n.state.data.appointment_charges.paid_for_procedures):0},n.get_total_paid=function(){return null!==n.state.data?parseInt(n.state.data.appointment_charges.paid)+parseInt(n.state.data.appointment_charges.paid_for_procedures):0},n.state={data:null,loading:!0},n}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){var a=this;!0===e.visibility?(console.log("fetching data"),v.a.get("".concat(z,"?tag=").concat(e.appointment_id)).then((function(e){console.log("fetched",e.data),a.setState({data:e.data.payload,loading:!1})}))):this.setState({data:null})}},{key:"componentWillUnmount",value:function(){this.setState({data:null})}},{key:"render",value:function(){var e=this,t=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("img",{src:Nt.a,className:"img-fluid",alt:"logo"})),this.state.data?l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"table-responsive card"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:"font-weight-bold"},"MRN# ")),l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:""},this.state.data.patient.mrn))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:"font-weight-bold"},"Patient ")),l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:""},"".concat(kt(this.state.data.patient.first_name)," ").concat(kt(this.state.data.patient.last_name))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:"font-weight-bold"},"Contact")),l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:""},"".concat(this.state.data.patient.phone_number)))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:"font-weight-bold"},"Doctor ")),l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:""},"".concat(kt(this.state.data.doctor.first_name)," ").concat(kt(this.state.data.doctor.last_name))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:"font-weight-bold"},"Date ")),l.a.createElement("td",{className:"py-1"},l.a.createElement("span",{className:""},"".concat(He()(wt(this.state.data.appointment_date),"YYYY-MM-DDThh:mm:ss").format("LLLL"))))))))):l.a.createElement(ze,{size:150})),a=null!==this.state.data&&this.state.data.appointment_procedures.length>0?l.a.createElement("div",{className:"table-responsive card"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"py-1"},l.a.createElement("b",null,"Description")),l.a.createElement("th",{className:"py-1"},l.a.createElement("b",null,"Charges")),l.a.createElement("th",{className:"py-1"},l.a.createElement("b",null,"Discount")))),l.a.createElement("tbody",null,this.state.data?this.state.data.appointment_procedures.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"py-1"},e.description),l.a.createElement("td",{className:"py-1"},e.fee),l.a.createElement("td",{className:"py-1"},e.discount))})):"No procedure found"))):"",n=l.a.createElement("div",{className:"table-responsive card"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Procedures total fee"),l.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.procedures:"")),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Consultancy fee"),l.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.consultancy:"")),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Follow up fee"),l.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.follow_up:"")),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Discount on Appointment charges"),l.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.discount:"")),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 h4"},"Total"),l.a.createElement("td",{className:"py-1 h4"},this.get_total()))))),r=l.a.createElement("div",{className:"table-responsive card"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Paid Amount"),l.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.paid:"")),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Paid Amount for procedures"),l.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.paid_for_procedures:"")),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Total paid Amount"),l.a.createElement("td",{className:"py-1"},this.get_total_paid())),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1"},"Due Amount"),l.a.createElement("td",{className:"py-1"},this.state.data?this.get_balance():"")))));return l.a.createElement(vt.a,{visible:this.props.visibility,onClickBackdrop:this.props.close_modal,fade:!0,dialogClassName:"modal-dialog modal-lg "},l.a.createElement("div",{className:"modal-body pb-0",ref:function(t){return e.componentRef=t}},l.a.createElement("div",{className:"container-fluid"},t,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},null!==this.state.data&&this.state.data.appointment_procedures.length>0?l.a.createElement("h4",{className:"font-weight-bold"},"Procedures"):"",a,l.a.createElement("h4",{className:"font-weight-bold"},"Appointment Charges"),n,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-6"},r)))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right btn-sm pr-5",style:{textTransform:"inherit"},onClick:this.props.close_modal},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Close"),l.a.createElement(yt.a,{trigger:function(){return l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right btn-sm pr-5",style:{textTransform:"inherit"}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-printer2"})),"Print")},content:function(){return e.componentRef}})))}}]),a}(n.Component),jt=a(1060),Ot=a(1058),Dt=(a(391),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).populate_patients=function(e){e.length>=1?n.render_users(e,"Patient"):n.setState({patients:[{id:"appointment_patient_selection",reference:n.props.payload.patient_ref.id,label:"".concat(n.props.payload.patient_ref.first_name," ").concat(n.props.payload.patient_ref.last_name," | ").concat(n.props.payload.patient_ref.phone_number)}]})},n.populate_doctors=function(e){e.length>=1?n.render_users(e,"Doctor"):n.setState({doctors:[{id:"appointment_doctor_selection",reference:n.props.payload.doctor_ref.id,label:"Dr. ".concat(kt(n.props.payload.doctor_ref.first_name)," ").concat(kt(n.props.payload.doctor_ref.last_name)," | ").concat(n.props.payload.doctor_ref.phone_number)}]})},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"appointment_patient_selection":var a={id:"appointment_patient_selection",reference:e.reference,label:e.label};n.setState({appointment_patient:{value:e.reference,error:!1},patient_select_value:a});break;case"appointment_doctor_selection":var l={id:"appointment_doctor_selection",reference:e.reference,label:e.label};n.setState({appointment_doctor:{value:e.reference,error:!1},doctor_select_value:l})}else switch(t){case"appointment_patient_selection":n.setState({appointment_patient:{value:"",error:!1},patient_select_value:""});break;case"appointment_doctor_selection":n.setState({appointment_doctor:{value:"",error:!1},doctor_select_value:""})}},n.on_text_field_change=function(e){switch(e.target.id){case"appointment_reason_text_input":n.setState({appointment_reason:{value:e.target.value,error:!1}});break;case"appointment_comments_text_input":n.setState({appointment_comments:{value:e.target.value,error:!1}});break;case"appointment_referee_text_input":n.setState({appointment_referee:{value:e.target.value,error:!1}})}},n.on_apointment_date_change=function(e){if(""===e)n.setState({appointment_date:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({appointment_date:{value:t,error:!1}})}}},n.on_apointment_time_change=function(e){if(""===e)n.setState({appointment_time:{value:"",error:!1}});else{var t=null;try{t=e.format("LT")}catch(a){t=""}finally{n.setState({appointment_time:{value:t,error:!1}})}}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=/^[A-Za-z]+$/,r=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||""===e||e.match(l))||!(!n||""===e||e.match(r)))},n.on_submit=function(){n.setState({loading_status:!0});var e=!1;if(n.check_input(n.state.appointment_patient.value,!0)&&(n.setState({appointment_patient:{value:n.state.appointment_patient.value,error:!0}}),e=!0),n.check_input(n.state.appointment_doctor.value,!0)&&(n.setState({appointment_doctor:{value:n.state.appointment_doctor.value,error:!0}}),e=!0),n.check_input(n.state.appointment_comments.value,!1,!1,!1)&&(n.setState({appointment_reason:{value:n.state.appointment_comments.value,error:!0}}),e=!0),n.check_input(n.state.appointment_referee.value,!1,!1,!1)&&(n.setState({appointment_reason:{value:n.state.appointment_referee.value,error:!0}}),e=!0),n.check_input(n.state.appointment_date.value,!0)&&(n.setState({appointment_date:{value:n.state.appointment_date.value,error:!0}}),e=!0),n.check_input(n.state.appointment_time.value,!0)&&(n.setState({appointment_time:{value:n.state.appointment_time.value,error:!0}}),e=!0),!0===e)return n.props.notify("error","","Invalid inputs"),void n.setState({loading_status:!1});localStorage.setItem("h7vjys8yyd12",n.props.id);var t={appointment_id:n.props.payload.visit_id,doctor_id:n.state.appointment_doctor.value,appointment_date:"".concat(He()(n.state.appointment_date.value).format("YYYY-MM-DD"),"T").concat(He()(n.state.appointment_time.value,["h:mm A"]).format("HH:mm:ss"),"Z"),appointment_time:n.state.appointment_time.value,appointment_comments:n.state.appointment_comments.value,appointment_referee:n.state.appointment_referee.value};console.log("data update",t),v.a.put(T,t).then((function(e){n.props.notify("success","",e.data.message),n.setState({loading_status:!1}),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),setTimeout((function(){return n.props.close()}),2e3)})).catch((function(e){console.log("res err",e),n.props.notify("error","","Network error ".concat(e.toString())),n.setState({loading_status:!1})}))},n.state={patients:[{id:"appointment_patient_selection",reference:n.props.payload.patient_ref.id,label:"".concat(kt(n.props.payload.patient_ref.first_name)," ").concat(kt(n.props.payload.patient_ref.last_name)," | ").concat(n.props.payload.patient_ref.phone_number," | ").concat(n.props.payload.patient_ref.email)}],doctors:[{id:"appointment_doctor_selection",reference:n.props.payload.doctor_ref.id,label:"Dr. ".concat(kt(n.props.payload.doctor_ref.first_name)," ").concat(kt(n.props.payload.doctor_ref.last_name)," | ").concat(n.props.payload.doctor_ref.phone_number," | ").concat(n.props.payload.doctor_ref.email)}],appointment_patient:{value:n.props.payload.patient_ref.id,error:!1},appointment_doctor:{value:n.props.payload.doctor_ref.id,error:!1},appointment_comments:{value:n.props.payload.comments,error:!1},appointment_referee:{value:n.props.payload.referee,error:!1},appointment_date:{value:He.a.utc(n.props.payload.date).format("ll"),error:!1},appointment_time:{value:n.props.payload.time,error:!1},patient_select_value:{id:"appointment_patient_selection",reference:n.props.payload.patient_ref.id,label:"".concat(kt(n.props.payload.patient_ref.first_name)," ").concat(kt(n.props.payload.patient_ref.last_name)," | ").concat(n.props.payload.patient_ref.phone_number," | ").concat(n.props.payload.patient_ref.email)},doctor_select_value:{id:"appointment_doctor_selection",reference:n.props.payload.doctor_ref.id,label:"Dr. ".concat(kt(n.props.payload.doctor_ref.first_name)," ").concat(kt(n.props.payload.doctor_ref.last_name)," | ").concat(n.props.payload.doctor_ref.phone_number," | ").concat(n.props.payload.doctor_ref.email)}},n}return Object(d.a)(a,[{key:"request",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l=arguments;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>2&&void 0!==l[2]?l[2]:"post",e.prev=1,"post"!==n){e.next=8;break}return e.next=5,v.a.post(a,t,{headers:{"code-medicine":localStorage.getItem("user")}});case 5:return e.abrupt("return",e.sent);case 8:if("get"!==n){e.next=12;break}return e.next=11,v.a.get(a,{headers:{"code-medicine":localStorage.getItem("user")}});case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l,r,o,s;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.next=3,this.request({},n,"get");case 3:if(l=e.sent,r=[],"patient"===a?r.push({id:"appointment_patient_selection",reference:this.props.payload.patient_ref.id,label:"".concat(this.props.payload.patient_ref.first_name," ").concat(this.props.payload.patient_ref.last_name," | ").concat(this.props.payload.patient_ref.phone_number," | ").concat(this.props.payload.patient_ref.email)}):r.push({id:"appointment_doctor_selection",reference:this.props.payload.doctor_ref.id,label:"".concat(this.props.payload.doctor_ref.first_name," ").concat(this.props.payload.doctor_ref.last_name," | ").concat(this.props.payload.doctor_ref.phone_number," | ").concat(this.props.payload.doctor_ref.email)}),200===l.status){for(o=0;o<l.data.payload.count;++o)s=l.data.payload.users[o],r.push({id:"appointment_".concat(a.toLowerCase(),"_selection"),reference:s._id,label:"".concat(s.first_name," ").concat(s.last_name," | ").concat(s.phone_number," | ").concat(s.email)});"Patient"===a?this.setState({patients:r}):"Doctor"===a&&this.setState({doctors:r})}case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("pre",null,"Patient: ",l.a.createElement("span",{className:"h3"},kt(this.props.payload.patient_ref.first_name)," ",kt(this.props.payload.patient_ref.last_name))),l.a.createElement("div",{className:"form-group d-none"},l.a.createElement("label",null,"Patient ",l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement(Ye.a,{id:"appointment_patient_selection",isClearable:!0,menuPlacement:"auto",isDisabled:!0,options:this.state.patients,classNamePrefix:"form-control",placeholder:"Select Patient",onInputChange:function(t){return e.populate_patients(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_patient_selection")},value:this.state.patient_select_value,styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.appointment_patient.error?"#FF0000":"",padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Doctor ",l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement(Ye.a,{id:"appointment_doctor_selection",isClearable:!0,options:this.state.doctors,classNamePrefix:"form-control",placeholder:"Select a Doctor",menuPlacement:"auto",onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_doctor_selection")},value:this.state.doctor_select_value,styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.appointment_doctor.error?"#FF0000":"",padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Reffered by"),l.a.createElement("input",{id:"appointment_referee_text_input",className:"form-control",placeholder:"Doctor name for reference",value:this.state.appointment_referee.value,onChange:function(t){return e.on_text_field_change(t)}}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Comments (if any)"),l.a.createElement("textarea",{id:"appointment_comments_text_input",className:"form-control",placeholder:"Any special comments about the patient",rows:"4",value:this.state.appointment_comments.value,onChange:function(t){return e.on_text_field_change(t)}})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Date ",l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement(We.a,{id:"dob_text_input",onChange:this.on_apointment_date_change,className:"clock_datatime_picker",inputProps:{placeholder:"Select Date",width:"100%",className:"form-control"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.appointment_date.value}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Time ",l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement(We.a,{id:"dob_text_input",onChange:this.on_apointment_time_change,className:"clock_datatime_picker",inputProps:{placeholder:"Select Time",width:"100%",className:"form-control"},input:!0,dateFormat:!1,timeFormat:!0,closeOnSelect:!0,strictParsing:!0,value:this.state.appointment_time.value})))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"})));return l.a.createElement(vt.a,{visible:this.props.visibility,onClickBackdrop:function(){return e.props.close()},fade:!0,dialogClassName:"modal-dialog-centered modal-lg"},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",{className:"modal-title"},"Update Appointment")),this.state.loading_status?l.a.createElement(ze,{size:150}):t,l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:function(){return e.props.close()}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Cancel"),l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.on_submit},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus3"})),"Update")))}}]),a}(n.Component)),Pt=Object(h.b)(null,{notify:oe,load_todays_appointments:ie,clear_todays_appointments:de})(Dt),Mt=(a(876),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).toggle_row=function(){r.state.toggle?r.setState({toggle:!1,procedure_loading:!1,toggle_icon:"icon-eye-plus"}):r.setState({toggle:!0,procedure_loading:!0,toggle_icon:"icon-eye-minus"},(function(){v.a.get("".concat(Y,"?tag=").concat(r.state.row_data._id)).then((function(e){r.setState({procedures_list:e.data.payload,procedure_loading:!1})}))}))},r.view_user=function(e){r.props.toggle_user_view_modal(e)},r.handle_checkout=function(){if(window.confirm("Checkout appointment?")){console.log("yes checkout");var e={appointment_id:r.state.row_data._id},t=Object(_t.a)(r);v.a.post(q,e).then((function(e){r.props.notify("info","",e.data.message),r.props.clear_todays_appointments(),r.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C"))})).catch((function(e){e.response?(e.response.status,t.props.notify("error","",e.response.data.message)):t.props.notify("error","",e.toString())}))}},r.render_read_only_cols=function(){var e={consultancy_charges:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 secondary btn-icon m-1",onClick:function(){return r.props.toggle_consultancy_modal(r.props.row_data._id)}},l.a.createElement("i",{className:"icon-vcard"})),content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mr-1 mt-3 py-1"},"Payment"),flowing:!0,position:"left center"}),procedure_charges:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 secondary btn-icon m-1",onClick:function(){return r.props.toggle_procedure_modal(r.props.row_data._id)}},l.a.createElement("i",{className:"icon-add-to-list"})),content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow py-1"},"Procedures"),flowing:!0,position:"top center"}),invoice:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon m-1",onClick:function(){return r.props.toggle_invoice_modal(r.props.row_data._id)}},l.a.createElement("i",{className:"icon-file-text2"})),content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow py-1"},"Details"),flowing:!0,position:"top center"}),edit:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon m-1",onClick:function(){return r.setState({update_appointment_modal_visibility:!0})}},l.a.createElement("i",{className:"icon-pencil3"})),flowing:!0,content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow py-1"},"Edit appointment"),position:"top center"}),follow_ups:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon m-1",onClick:function(){return alert("In progress")}},l.a.createElement("i",{className:"icon-loop"})),flowing:!0,content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow py-1"},"Follow ups"),position:"top center"}),details:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-dark border-dark text-dark btn-icon m-1",onClick:r.toggle_row},l.a.createElement("i",{className:r.state.toggle_icon})),flowing:!0,content:l.a.createElement("div",{className:"card card-body bg-dark text-white shadow ml-1 mt-3 py-1"},"Show more details"),position:"right center"}),checkout:l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon m-1 float-right",onClick:function(){return r.handle_checkout()}},l.a.createElement("i",{className:"icon-exit"})),flowing:!0,content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow py-1 mt-3 mr-2"},"Checkout"),position:"left center"})};return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 mt-0 text-teal-400 border-left-2 border-left-teal-400 btn-block d-flex align-items-center justify-content-center text-center"},l.a.createElement("div",{className:"btn btn-outline bg-teal-400 text-teal-400 btn-block jackInTheBox animated",style:{verticalAlign:"center"},onClick:function(){return r.view_user(r.state.row_data.patient.id)}},l.a.createElement("span",{className:"img-fluid rounded-circle text-white bg-teal-400 h3 p-2"},r.state.row_data.patient.first_name.charAt(0).toUpperCase()+r.state.row_data.patient.last_name.charAt(0).toUpperCase()),l.a.createElement("h4",{className:"mt-2"},kt(r.state.row_data.patient.first_name)+" "+kt(r.state.row_data.patient.last_name)),l.a.createElement("span",null,l.a.createElement("i",{className:"icon-phone-wave mr-1"})," ",r.state.row_data.patient.phone_number))),l.a.createElement("div",{className:"col-lg-2 col-md-6 col-sm-6 mt-0 text-teal-400 border-left-2 border-bottom-sm-2 border-left-teal-400 border-right-teal-400 border-right-2 btn-block d-flex align-items-center justify-content-center text-center"},l.a.createElement("div",{className:" jackInTheBox animated"},l.a.createElement("h1",{className:"mb-0"},He()(r.state.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").format("hh:mm a")),l.a.createElement("p",null,r.state.appointment_time_difference_from_now))),l.a.createElement("div",{className:"col-lg-7 col-md-12 col-sm-12 mt-sm-2"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 font-weight-bold h6"},"Appointment with ",l.a.createElement(p.b,{className:"text-teal-400 font-weight-bold ml-1",to:"#",onClick:function(){return r.view_user(r.state.row_data.doctor.id)}},kt(r.state.row_data.doctor.first_name)+" "+kt(r.state.row_data.doctor.last_name),l.a.createElement("i",{className:"icon-user-tie ml-1"})),l.a.createElement("span",{className:"text-muted float-lg-right float-md-right float-left"},"".concat(He()(r.state.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").format("LL"))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 h6"},l.a.createElement("span",{className:"font-weight-bold"},"Comments"),l.a.createElement("span",{className:" h6 text-muted"}," ".concat(r.state.row_data.appointment_comments.length>25?r.state.row_data.appointment_comments.substring(0,25)+"...":r.state.row_data.appointment_comments)),l.a.createElement("span",{className:"badge badge-".concat("checked out"===r.state.row_data.appointment_status.info?"primary":"danger"," float-right")},r.state.row_data.appointment_status.info))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},r.state.row_data.appointment_status.is_paid?l.a.createElement(n.Fragment,null,e.invoice,e.follow_ups,e.details):l.a.createElement(n.Fragment,null,e.consultancy_charges,e.procedure_charges,e.invoice,e.edit,e.follow_ups,e.details,e.checkout))))))},r.render_hidden_elements=function(){return l.a.createElement("div",{className:""},l.a.createElement("h5",null,"Comments"),l.a.createElement("blockquote",{className:"blockquote blockquote-bordered py-2 pl-3 mb-0"},l.a.createElement("p",{className:"mb-1"},r.state.hidden_data.appointment_comments)),l.a.createElement("h5",{className:"font-weight-semibold"},"Procedures"),l.a.createElement("blockquote",{className:"blockquote blockquote-bordered py-2 pl-3 mb-0"},r.state.procedure_loading?l.a.createElement(ze,{size:100}):r.state.procedures_list.length>0?r.state.procedures_list.map((function(e,t){return l.a.createElement("div",{className:""},l.a.createElement("footer",{className:"blockquote-footer text-dark"},e.description.toUpperCase()))})):l.a.createElement("div",{className:"alert alert-info mt-2",style:{marginBottom:"0px"}},l.a.createElement("strong",null,"Info!")," No Procedures found.")))},r.render_hidden_header_elements=function(){return r.state.hidden_header_elements.map((function(e,t){return l.a.createElement(n.Fragment,{key:t},e)}))},r.close_update_appointment_modal=function(){r.setState({update_appointment_modal_visibility:!1})},r.open_update_appointment_modal=function(){r.setState({update_appointment_modal_visibility:!0})},r.call_back_update_appointment_modal=function(){},r.state={toggle:!1,toggle_icon:"icon-eye-plus",row_data:r.props.row_data,hidden_data:r.props.hidden_data,hidden_header_elements:r.props.hidden_header_elements,hidden_header_color:r.props.hidden_header_color,col_span:"",appointment_time_difference_from_now:He()(r.props.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").fromNow(),update_appointment_modal_visibility:!1,procedure_loading:!1,procedures_list:[]},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({col_span:this.props.columns}),setInterval((function(){e.setState({appointment_time_difference_from_now:He()(e.state.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").fromNow()})}),6e4)}},{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:this.state.col_span},this.render_read_only_cols())),l.a.createElement("tr",{className:""},l.a.createElement("td",{colSpan:"".concat(this.state.col_span+1),className:"".concat(this.state.toggle?"":"py-0")},l.a.createElement(jt.a,{isOpen:this.state.toggle},l.a.createElement("div",{className:"float-right"},l.a.createElement(p.b,{onClick:this.toggle_row,to:"#",className:"btn btn-sm btn-outline bg-teal-400 text-teal-400"},l.a.createElement("i",{className:"icon-cross3 icon-2x"}))),this.render_hidden_elements()),l.a.createElement(Pt,{id:this.state.row_data._id,visibility:this.state.update_appointment_modal_visibility,close:this.close_update_appointment_modal,call_back:this.call_back_update_appointment_modal,state:"update",payload:{visit_id:this.state.row_data._id,patient_ref:this.state.row_data.patient,doctor_ref:this.state.row_data.doctor,reason:this.state.row_data.appointment_description,date:this.state.row_data.appointment_date,time:this.state.row_data.appointment_time,comments:this.state.row_data.appointment_comments,referee:this.state.row_data.appointment_referee}}))))}}]),a}(n.Component)),It=Object(h.b)(null,{notify:oe,load_todays_appointments:ie,clear_todays_appointments:de})(Mt),At=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).calculate_age=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),l=t.getMonth()-a.getMonth();return(l<0||0===l&&t.getDate()<a.getDate())&&n--,n},n.state={data:n.props.data,size:n.props.size,text_size:"",icon_size:"",button_size:"",heading_size:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){switch(this.state.size){case"large":this.setState({text_size:"h3",icon_size:"",button_size:"btn-lg",heading_size:"h1 font-weight-bold"})}}},{key:"render",value:function(){var e=this.state.data,t=e.first_name+" "+e.last_name,a=e.gender,n=e.date_of_birth,r=e.email,o=e.phone_number,s=this.state.icon_size,c=this.state.text_size;return l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"mr-3"},l.a.createElement("div",{className:"img-fluid rounded-circle text-white bg-teal-400 h3 d-flex justify-content-center align-items-center p-2",style:{height:"50px",width:"50px"}},e.first_name.charAt(0)+e.last_name.charAt(0))),l.a.createElement("div",{className:"media-body"},l.a.createElement("h5",{className:"mb-0 ".concat(this.state.heading_size)},t," ","Male"===a?l.a.createElement("span",{className:"badge badge-primary"},l.a.createElement("small",null,"Male")):l.a.createElement("span",{className:"badge bg-pink-400"},l.a.createElement("small",null,"Female"))),l.a.createElement("div",{className:"row mt-1"},l.a.createElement("div",{className:"col-md-6 col-sm-12"},l.a.createElement("span",{className:"".concat(c)},l.a.createElement("i",{className:"icon-person ".concat(s)})," ",this.calculate_age(n)," years old")),l.a.createElement("div",{className:"col-md-6 col-sm-12"},l.a.createElement("span",{className:"mt-1 ".concat(c)},l.a.createElement("i",{className:"icon-calendar3 mr-2 ".concat(s)})," ",He()(new Date(n).toString()).format("MMM Do YY")))),l.a.createElement("div",{className:"row mt-1"},l.a.createElement("div",{className:"col-md-6 col-sm-12"},l.a.createElement("span",{className:"mt-1 ".concat(c)},l.a.createElement("i",{className:"icon-phone-wave mr-2 ".concat(s)}),o)),l.a.createElement("div",{className:"col-md-6 col-sm-12"},l.a.createElement("span",{className:"mt-1 ".concat(c)},l.a.createElement("i",{className:"icon-envelop5 mr-2 ".concat(s)}),r)))))}}]),a}(n.Component);var Tt=function(e){function t(){e.on_click_back_drop()}return l.a.createElement("div",null,l.a.createElement(vt.a,{visible:e.visibility,onClickBackdrop:function(){return t()},fade:!0,dialogClassName:"modal-dialog-centered modal-lg "},l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"float-right"},l.a.createElement(p.b,{onClick:function(){return t()},to:"#",className:"btn btn-sm btn-outline bg-teal-400 text-teal-400"},l.a.createElement("i",{className:"icon-cross3 icon-2x"}))),null===e.modal_props?l.a.createElement(ze,{size:150}):l.a.createElement(At,{data:e.modal_props,size:"large"})),l.a.createElement("div",{className:"modal-footer"})))},Lt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_text_field_change=function(e){switch(e.target.id){case"user_first_name_text_input":n.setState({user_first_name:{value:e.target.value,error:!1}});break;case"user_last_name_text_input":n.setState({user_last_name:{value:e.target.value,error:!1}});break;case"user_cnic_text_input":e.target.value.length<=13&&n.setState({user_cnic:{value:e.target.value,error:!1}});break;case"user_phone_number_text_input":e.target.value.length<=11&&n.setState({user_phone_number:{value:e.target.value,error:!1}});break;case"user_email_text_input":n.setState({user_email:{value:e.target.value,error:!1}});break;case"user_address_text_input":n.setState({user_address:{value:e.target.value,error:!1}})}},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"blood_group_selection":n.setState({user_blood_group:{value:e.label,error:!1}});break;case"gender_selection":n.setState({user_gender:{value:e.label,error:!1}});break;case"country_selection":n.setState({user_country:{value:e.label,error:!1}});break;case"city_selection":n.setState({user_city:{value:e.label,error:!1}})}else switch(t){case"blood_group_selection":n.setState({user_blood_group:{value:"",error:!1}});break;case"gender_selection":n.setState({user_gender:{value:"",error:!1}});break;case"country_selection":n.setState({user_country:{value:"",error:!1}});break;case"city_selection":n.setState({user_city:{value:"",error:!1}})}},n.on_user_date_of_birth_change=function(e){if(""===e)n.setState({user_dob:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({user_dob:{value:t,error:!1}})}}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=/^[A-Za-z]+$/,r=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||""===e||e.match(l))||!(!n||""===e||e.match(r)))},n.check_hard_constraints=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!e.includes(t))return!0;switch(a){case"eq":if(e.length!==n)return!0;break;case"min":if(e.length<n)return!0;break;case"max":if(e.length>n)return!0}return!1},n.on_submit=Object(et.a)(Xe.a.mark((function e(){var t,a;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({loading_status:!0});case 2:if(t=!1,n.check_input(n.state.user_first_name.value,!0,!0,!1)&&(n.setState({user_first_name:{value:n.state.user_first_name.value,error:!0}}),t=!0),n.check_input(n.state.user_last_name.value,!0,!0)&&(n.setState({user_last_name:{value:n.state.user_last_name.value,error:!0}}),t=!0),n.check_input(n.state.user_phone_number.value,!0,!1,!0)&&n.check_hard_constraints(n.state.user_phone_number.value,"","eq",11)&&(n.setState({user_phone_number:{value:n.state.user_phone_number.value,error:!0}}),t=!0),n.check_input(n.state.user_cnic.value,!1,!1,!0)&&n.check_hard_constraints(n.state.user_cnic.value,"","eq",13)&&(n.setState({user_cnic:{value:n.state.user_cnic.value,error:!0}}),t=!0),n.check_input(n.state.user_email.value,!1,!1,!1)&&n.check_hard_constraints(n.state.user_email.value,"@")&&(n.setState({user_email:{value:n.state.user_email.value,error:!0}}),t=!0),n.check_input(n.state.user_country.value,!0,!0)&&(n.setState({user_country:{value:n.state.user_country.value,error:!0}}),t=!0),n.check_input(n.state.user_city.value,!0,!0)&&(n.setState({user_city:{value:n.state.user_city.value,error:!0}}),t=!0),n.check_input(n.state.user_address.value,!0)&&(n.setState({user_address:{value:n.state.user_address.value,error:!0}}),t=!0),n.check_input(n.state.user_gender.value,!0)&&(n.setState({user_gender:{value:n.state.user_gender.value,error:!0}}),t=!0),n.check_input(n.state.user_blood_group.value,!0)&&(n.setState({user_blood_group:{value:n.state.user_blood_group.value,error:!0}}),t=!0),!0!==t){e.next=17;break}return n.props.notify("error","","Invalid inputs"),n.setState({loading_status:!1}),e.abrupt("return");case 17:a={admin_id:n.props.active_user._id,patient:{first_name:n.state.user_first_name.value.trim(),last_name:n.state.user_last_name.value.trim(),phone_number:n.state.user_phone_number.value.trim(),date_of_birth:n.state.user_dob.value,cnic:n.state.user_cnic.value.trim(),email:n.state.user_email.value.trim(),country:n.state.user_country.value,city:n.state.user_city.value,address:n.state.user_address.value.trim(),gender:n.state.user_gender.value.trim(),blood_group:n.state.user_blood_group.value.trim(),role:n.state.user_role.value.trim()}},v.a.post(O,a).then((function(e){n.props.notify("success","",e.data.message),n.setState({loading_status:!1},(function(){n.close_modal()}))})).catch((function(e){n.props.notify("error","","No connection!"+e.toString()),n.setState({loading_status:!1})}));case 19:case"end":return e.stop()}}),e)}))),n.close_modal=function(){n.props.close(),n.props.call_back()},n.state={loading_status:!1,user_first_name:{value:"",error:!1},user_last_name:{value:"",error:!1},user_phone_number:{value:"",error:!1},user_dob:{value:"",error:!1},user_cnic:{value:"",error:!1},user_email:{value:"",error:!1},user_country:{value:"Pakistan",error:!1},user_city:{value:"Lahore",error:!1},user_address:{value:"",error:!1},user_gender:{value:"Male",error:!1},user_blood_group:{value:"Unknown",error:!1},user_role:{value:"Patient",error:!1}},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_first_name_text_input",heading:"First name",placeholder:"Enter first name",required:!0,onChange:this.on_text_field_change,value:this.state.user_first_name.value,error:this.state.user_first_name.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_last_name_text_input",heading:"Last name",placeholder:"Enter last name",required:!0,onChange:this.on_text_field_change,value:this.state.user_last_name.value,error:this.state.user_last_name.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_phone_number_text_input",heading:"Phone number",placeholder:"Enter phone number",required:!0,onChange:this.on_text_field_change,value:this.state.user_phone_number.value,error:this.state.user_phone_number.error})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_dob_text_input",heading:"Date of birth",icon_class:"icon-calendar3",placeholder:"Date of birth",input_type:"text",field_type:"date-time",date_format:"ll",time_format:!1,onChange:this.on_user_date_of_birth_change,value:this.state.user_dob.value,error:this.state.user_dob.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_cnic_text_input",heading:"CNIC",icon_class:"icon-vcard",input_type:"number",placeholder:"Enter CNIC",onChange:this.on_text_field_change,value:this.state.user_cnic.value,error:this.state.user_cnic.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_email_text_input",heading:"Enter email",icon_class:"icon-envelop",input_type:"email",placeholder:"Enter email",onChange:this.on_text_field_change,value:this.state.user_email.value,error:this.state.user_email.error})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement($e,{heading:"Country",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:st,classNamePrefix:"form-control",placeholder:"Select Country",id:"country_selection",isDisabled:!0,onChange:function(t){return e.on_selected_changed(t,"country_selection")},value:{id:"country_selection",label:this.state.user_country.value},defaultValue:{id:"country_selection",label:"Pakistan"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_country.error?"#FF0000":"",padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement($e,{heading:"City",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:ot,classNamePrefix:"form-control",placeholder:"Select City",id:"city_selection",onChange:function(t){return e.on_selected_changed(t,"city_selection")},value:{id:"city_selection",label:this.state.user_city.value},defaultValue:{id:"city_selection",label:"Lahore"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_city.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement($e,{heading:"Address/Area",required:!0,className:"form-control form-control-lg",id:"user_address_text_input",value:this.state.user_address.value,onChange:function(t){return e.on_text_field_change(t)},placeholder:"Enter address / area you live in the city"})))),l.a.createElement("div",{className:"col-md-4 border-left"},l.a.createElement($e,{heading:"Gender",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:nt,classNamePrefix:"form-control",placeholder:"Select Gender",id:"gender_selection",onChange:function(t){return e.on_selected_changed(t,"gender_selection")},defaultValue:{id:"gender_selection",label:"Male"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_gender.error?"#FF0000":"",padding:1,borderRadius:5})}}}),l.a.createElement($e,{heading:"Blood group",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:at,className:"Select-option",classNamePrefix:"form-control",placeholder:"Select blood group",id:"blood_group_selection",onChange:function(t){return e.on_selected_changed(t,"blood_group_selection")},defaultValue:{id:"blood_group_selection",label:"Unknown"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_gender.error?"#FF0000":"",padding:1,borderRadius:5})}}}))));return l.a.createElement(vt.a,{visible:this.props.visibility,onClickBackdrop:this.close_modal,fade:!0,dialogClassName:"modal-dialog-centered modal-lg"},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",{className:"modal-title"},"New Patient")),this.state.loading_status?l.a.createElement(ze,null):t,l.a.createElement("div",{className:"modal-footer"},l.a.createElement("span",{className:"float-left"},l.a.createElement("span",{className:"text-danger"},"*")," Are required fields"),l.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.close_modal},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Cancel"),l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.on_submit},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus3"})),"Add")))}}]),a}(n.Component);var Ft=Object(h.b)((function(e){return{active_user:e.active_user}}),{notify:oe})(Lt),Rt=(a(1016),a(463)),Bt=a.n(Rt),zt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).populate_patients=function(e){e.length>=1?n.render_users(e,"Patient"):n.setState({patients:[]})},n.populate_doctors=function(e){e.length>=1?n.render_users(e,"Doctor"):n.setState({doctors:[]})},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"appointment_patient_selection":var a={id:"appointment_patient_selection",reference:e.reference,label:e.label};n.setState({appointment_patient:{value:e.reference,error:!1},patient_select_value:a});break;case"appointment_doctor_selection":var l={id:"appointment_doctor_selection",reference:e.reference,label:e.label};n.setState({appointment_doctor:{value:e.reference,error:!1},doctor_select_value:l});break;case"hour_selection":console.log("e",e),n.setState({hours:{value:e.label,error:!1}});break;case"min_selection":n.setState({mins:{value:e.label,error:!1}})}else switch(t){case"appointment_patient_selection":n.setState({appointment_patient:{value:"",error:!1},patient_select_value:""});break;case"appointment_doctor_selection":n.setState({appointment_doctor:{value:"",error:!1},doctor_select_value:""});break;case"hour_selection":n.setState({hours:{value:"12",error:!1}});break;case"min_selection":n.setState({mins:{value:"00",error:!1}})}},n.on_text_field_change=function(e){switch(e.target.id){case"appointment_referee_text_input":n.setState({appointment_referee:{value:e.target.value,error:!1}});break;case"appointment_comments_text_input":n.setState({appointment_comments:{value:e.target.value,error:!1}})}},n.on_apointment_date_change=function(e){if(""===e)n.setState({appointment_date:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({appointment_date:{value:t,error:!1}})}}},n.on_apointment_time_change=function(e){console.log("time",He()(e).format("LT")),n.setState({appointment_time:{value:He()(e).format("LT")}})},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=/^[A-Za-z]+$/,r=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||e.match(l))||!(!n||e.match(r)))},n.on_submit=function(){n.setState({loading_status:!0});var e=!1;if(n.check_input(n.state.appointment_patient.value,!0)&&(n.setState({appointment_patient:{value:n.state.appointment_patient.value,error:!0}}),e=!0),n.check_input(n.state.appointment_doctor.value,!0)&&(n.setState({appointment_doctor:{value:n.state.appointment_doctor.value,error:!0}}),e=!0),n.check_input(n.state.appointment_date.value,!0)&&(n.setState({appointment_date:{value:n.state.appointment_date.value,error:!0}}),e=!0),n.check_input(n.state.hours.value,!0,!1,!0)&&(n.setState({hours:{value:n.state.hours.value,error:!0}}),e=!0),n.check_input(n.state.mins.value,!0,!1,!0)&&(n.setState({mins:{value:n.state.mins.value,error:!0}}),e=!0),!0===e)return n.props.notify("error","","Invalid inputs"),void n.setState({loading_status:!1});var t={patient:n.state.appointment_patient.value,doctor:n.state.appointment_doctor.value,date:"".concat(He()(n.state.appointment_date.value).format("YYYY-MM-DD"),"T").concat(He()(n.state.appointment_time.value,["h:mm A"]).format("HH:mm:ss"),"Z"),time:"".concat(He()(n.state.appointment_time.value,["h:mm A"]).format("HH:mm:ss"),"Z"),description:"",comments:n.state.appointment_comments.value,referee:n.state.appointment_referee.value};v.a.post(A,t).then((function(e){n.props.notify("success","",e.data.message),n.setState({appointment_patient:{value:"",error:!1},appointment_doctor:{value:"",error:!1},appointment_date:{value:He()().format("ll"),error:!1},appointment_time:{value:He()().format("LT"),error:!1},appointment_comments:{value:"",error:!1},appointment_referee:{value:"",error:!1},patient_select_value:"",doctor_select_value:"",loading_status:!1}),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),n.props.close()})).catch((function(e){e?(e.response?n.props.notify("error","",e.response.message):n.props.notify("error","","Server not responding "+e.toString()),n.setState({loading_status:!1})):(n.props.notify("error","","Network error"+e.toString()),n.setState({loading_status:!1}))}))},n.open_new_patient_modal=function(){n.props.close(),n.setState({new_patient_modal_visibility:!0})},n.close_new_patient_modal=function(){n.setState({new_patient_modal_visibility:!1})},n.call_back_new_patient_modal=function(){},n.state={loading_status:!1,patients:[],doctors:[],appointment_patient:{value:"",error:!1},appointment_doctor:{value:"",error:!1},appointment_referee:{value:"",error:!1},appointment_comments:{value:"",error:!1},appointment_date:{value:He()().format("ll"),error:!1},appointment_time:{value:He()().format("LT"),error:!1},new_patient_modal_visibility:!1,patient_select_value:"",doctor_select_value:"",hours:{value:"12",error:!1},mins:{value:"00",error:!1},time_period:{value:"AM",error:!1}},n}return Object(d.a)(a,[{key:"request",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l=arguments;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>2&&void 0!==l[2]?l[2]:"post",e.prev=1,"post"!==n){e.next=8;break}return e.next=5,v.a.post(a,t);case 5:return e.abrupt("return",e.sent);case 8:if("get"!==n){e.next=12;break}return e.next=11,v.a.get(a);case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l,r,o,s;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.next=4,this.request({},n,"get");case 4:for(l=e.sent,r=[],console.log("users...",l),o=0;o<l.data.payload.count;++o)s=l.data.payload.users[o],r.push({id:"appointment_".concat(a.toLowerCase(),"_selection"),reference:s._id,label:"".concat(s.first_name," ").concat(s.last_name," | ").concat(s.phone_number," | ").concat(s.email)});"Patient"===a?this.setState({patients:r}):"Doctor"===a&&this.setState({doctors:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement(Ft,{visibility:this.state.new_patient_modal_visibility,close:this.close_new_patient_modal,call_back:this.props.bind_function}),l.a.createElement(vt.a,{visible:this.props.visibility,onClickBackdrop:this.props.close,fade:!0,dialogClassName:"modal-dialog-centered modal-lg"},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",{className:"modal-title"},"New Appointment"),l.a.createElement("div",{className:"w-25"},l.a.createElement(We.a,{id:"dob_text_input",onChange:this.on_apointment_date_change,className:"clock_datatime_picker text-teal-400",inputProps:{placeholder:"Select Date",width:"100%",className:"form-control ".concat(this.state.appointment_date.error?"border-danger":"")},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.appointment_date.value}))),this.state.loading_status?l.a.createElement(ze,{size:150}):l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"font-weight-semibold"},"Select or add user",l.a.createElement("span",{className:"text-danger"}," * ")),l.a.createElement(Ye.a,{id:"appointment_patient_selection",isClearable:!0,menuPlacement:"auto",options:this.state.patients,classNamePrefix:"form-control",placeholder:"Select Patient",onInputChange:function(t){return e.populate_patients(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_patient_selection")},value:this.state.patient_select_value,styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.appointment_patient.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),l.a.createElement("div",{className:"col-md-2 d-flex align-items-end mb-3 "},l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{className:"btn btn-outline btn-lg bg-secondary btn-block border-secondary text-dark btn-icon",onClick:this.open_new_patient_modal},l.a.createElement("i",{className:"icon-plus3"})),flowing:!0,content:l.a.createElement("div",{className:"card card-body bg-dark text-white shadow ml-1 py-1 mt-4"},"Add new Patient"),position:"top center",style:{zIndex:15e3}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"font-weight-semibold"},"Which doctor to assign",l.a.createElement("span",{className:"text-danger"}," * ")),l.a.createElement(Ye.a,{id:"appointment_doctor_selection",isClearable:!0,options:this.state.doctors,classNamePrefix:"form-control",placeholder:"Select a Doctor",menuPlacement:"auto",onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_doctor_selection")},value:this.state.doctor_select_value,styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.appointment_doctor.error?"#FF0000":"",padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"font-weight-semibold"},"Refered by"),l.a.createElement("input",{id:"appointment_referee_text_input",className:"form-control",value:this.state.appointment_referee.value,onChange:function(t){return e.on_text_field_change(t)},placeholder:"Reference of any doctor if any"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Additional comments"),l.a.createElement("textarea",{rows:3,cols:3,id:"appointment_comments_text_input",className:"form-control",placeholder:"Comments for the appointment",onChange:function(t){return e.on_text_field_change(t)},value:this.state.appointment_comments.value}))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"mt-1 d-flex justify-content-center"},l.a.createElement(Bt.a,{time:this.state.appointment_time.value,onChange:function(t){return e.on_apointment_time_change(t)},coarseMinutes:5,forceCoarseMinutes:!0}))))),this.state.loading_status?"":l.a.createElement("div",{className:"modal-footer"},l.a.createElement(Ye.a,{isClearable:!0,menuPlacement:"auto",options:[],classNamePrefix:"form-control",placeholder:"Select Branch",id:"branch_selection",isDisabled:!0,value:{id:"branch_selection",label:"Ghazi chowk"},styles:{container:function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{backgroundColor:"",padding:0,borderRadius:5,width:"200px"})}}}),l.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.props.close},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Cancel"),l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.on_submit},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus3"})),"Create"))))}}]),a}(n.Component);var qt=Object(h.b)((function(e){return{notify:e.notify,todays_patient:e.todays_patient}}),{notify:oe,load_todays_appointments:ie,clear_todays_appointments:de})(zt),Ht=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handle_total_values=function(){n.setState({total:parseInt(""===n.state.consultancy_fee_text_input.value?0:n.state.consultancy_fee_text_input.value)+parseInt(""===n.state.follow_up_text_input.value?0:n.state.follow_up_text_input.value)-parseInt(""===n.state.discount_text_input.value?0:n.state.discount_text_input.value)},(function(){""!==n.state.paid_text_input.value?n.setState({balance:n.state.total-parseInt(n.state.paid_text_input.value)}):n.setState({balance:0})}))},n.on_text_change=function(e){n.setState(Object(pt.a)({},e.target.id,{value:e.target.value,error:!1}),(function(){return n.handle_total_values()}))},n.handle_save_button_click=function(){n.setState({loading:!0});var e={appointment_id:n.props.appointment_id,consultancy:parseInt(""===n.state.consultancy_fee_text_input.value?0:n.state.consultancy_fee_text_input.value),discount:parseInt(""===n.state.discount_text_input.value?0:n.state.discount_text_input.value),follow_up:parseInt(""===n.state.follow_up_text_input.value?0:n.state.follow_up_text_input.value),paid:parseInt(""===n.state.paid_text_input.value?0:n.state.paid_text_input.value)};v.a.put(te,e).then((function(e){n.props.notify("success","",e.data.message),n.setState({loading:!1})})).catch((function(e){n.props.notify("error","","Changes could not be saved!"+e.toString()),n.setState({loading:!1})}))},n.handle_checkout_button_click=function(){if(parseInt(""===n.state.paid_text_input.value?0:n.state.paid_text_input.value)<n.state.minimum_payable)n.props.notify("error","","Payment is less that minimum payable amount.");else{var e={appointment_id:n.props.appointment_id},t=Object(_t.a)(n);v.a.post(ae,e).then((function(e){n.props.notify("info","",e.data.message),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),setTimeout((function(){n.props.toggle_modal()}),1e3)})).catch((function(e){e.response?(e.response.status,t.props.notify("error","",e.response.data.message)):t.props.notify("error","",e.toString())}))}},n.state={consultancy_fee_text_input:{value:"1500",error:!1},discount_text_input:{value:"",error:!1},follow_up_text_input:{value:"",error:!1},paid_text_input:{value:"",error:!1},total:0,balance:0,procedure_charges:0,loading:!1,data:null},n}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.visibility&&null!==e.appointment_id?(this.setState({loading:!0}),v.a.get("".concat(ee,"?tag=").concat(e.appointment_id)).then((function(e){console.log("charges",e.data.payload),t.setState({loading:!1,consultancy_fee_text_input:{value:0===e.data.payload.consultancy?"":e.data.payload.consultancy.toString(),error:!1},discount_text_input:{value:0===e.data.payload.discount?"":e.data.payload.discount.toString(),error:!1},follow_up_text_input:{value:0===e.data.payload.follow_up?"":e.data.payload.follow_up.toString(),error:!1},paid_text_input:{value:0===e.data.payload.paid?"":e.data.payload.paid.toString(),error:!1},procedure_charges:e.data.payload.procedures},(function(){t.handle_total_values(),v.a.get("".concat(F,"?tag=").concat(t.props.appointment_id)).then((function(e){return t.setState({data:e.data.payload,loading:!1})})).catch((function(e){return t.setState({loading:!1})}))}))})).catch((function(e){t.props.notify("error","",e.toString())}))):e.visibility&&null===e.appointment_id||this.setState({consultancy_fee_text_input:{value:"",error:!1},discount_text_input:{value:"",error:!1},follow_up_text_input:{value:"",error:!1},paid_text_input:{value:"",error:!1}})}},{key:"render",value:function(){var e=this;return l.a.createElement(vt.a,{visible:this.props.visibility,onClickBackdrop:this.props.toggle_modal},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",null,"Payment"),l.a.createElement(yt.a,{trigger:function(){return l.a.createElement("button",{type:"button",className:"btn bg-secondary btn-labeled btn-labeled-right btn-sm pr-5",style:{textTransform:"inherit"},disabled:e.state.loading},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-printer2"})),"Print")},content:function(){return e.componentRef},onBeforeGetContent:this.gather_invoice_data})),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-md-6"},l.a.createElement($e,{id:"consultancy_fee_text_input",heading:"Consultancy Fee",icon_class:"icon-cash3",placeholder:"Fee",disabled:!1,value:this.state.consultancy_fee_text_input.value,error:this.state.consultancy_fee_text_input.error,onChange:this.on_text_change,className:"form-control-sm",parent_classes:"mb-1",type:"number"}),l.a.createElement($e,{id:"discount_text_input",heading:"Discount over total",placeholder:"Discount",value:this.state.discount_text_input.value,error:this.state.discount_text_input.error,onChange:this.on_text_change,className:"form-control-sm",parent_classes:"mb-1",type:"number"}),l.a.createElement($e,{id:"follow_up_text_input",heading:"Follow ups Fee",placeholder:"Follow ups Fee",custom_classes:"",disabled:!1,value:this.state.follow_up_text_input.value,error:this.state.follow_up_text_input.error,onChange:this.on_text_change,className:"form-control-sm",parent_classes:"mb-1",type:"number"}),l.a.createElement("hr",{className:"mb-0"}),l.a.createElement($e,{id:"paid_text_input",heading:"Paid Amount",placeholder:"Fee paid",disabled:!1,value:this.state.paid_text_input.value,error:this.state.paid_text_input.error,onChange:this.on_text_change,className:"form-control-sm",parent_classes:"mb-1",type:"number"})),l.a.createElement("div",{className:"col-lg-6 col-md-6"},l.a.createElement("div",{className:"table-responsive px-1"},l.a.createElement("table",{className:"table table-sm table-bordered table-hover mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"border-0"},"Appointment charges"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Consultancy"),l.a.createElement("td",null,this.state.consultancy_fee_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",null,"Follow up"),l.a.createElement("td",null,this.state.follow_up_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",null,"Discount"),l.a.createElement("td",null,this.state.discount_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",{className:"font-weight-bold"},"Total"),l.a.createElement("td",{className:"font-weight-bold"},this.state.total)),l.a.createElement("tr",null,l.a.createElement("td",null,"Balance"),l.a.createElement("td",null,this.state.balance))))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"d-none"},l.a.createElement("div",{className:"row px-3 py-5",ref:function(t){return e.componentRef=t}},l.a.createElement("div",{className:"col-12 row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("img",{src:Nt.a,className:"img-fluid",alt:"logo"})),l.a.createElement("div",{className:"col-6"},this.state.data?l.a.createElement("div",{className:"table-responsive card"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"MRN#"),l.a.createElement("td",{className:"py-1"},this.state.data.patient.mrn)),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Patient"),l.a.createElement("td",{className:"py-1"},"".concat(kt(this.state.data.patient.first_name)," ").concat(kt(this.state.data.patient.last_name)))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Contact"),l.a.createElement("td",{className:"py-1"},"".concat(this.state.data.patient.phone_number))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Doctor"),l.a.createElement("td",{className:"py-1"},"".concat(kt(this.state.data.doctor.first_name)," ").concat(kt(this.state.data.doctor.last_name)))),l.a.createElement("tr",null,l.a.createElement("td",{className:"py-1 font-weight-bold"},"Date"),l.a.createElement("td",{className:"py-1"},"".concat(He()(wt(this.state.data.appointment_date),"YYYY-MM-DDThh:mm:ss").format("LLLL"))))))):l.a.createElement("span",null,"Cannot fetch user data"))),l.a.createElement("div",{className:"table-responsive px-1 row col-12 mt-2"},l.a.createElement("h2",{className:"font-weight-bold"},"Charges"),l.a.createElement("table",{className:"table table-sm table-bordered table-hover mb-0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Consultancy"),l.a.createElement("td",null,this.state.consultancy_fee_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",null,"Follow up"),l.a.createElement("td",null,this.state.follow_up_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",null,"Discount"),l.a.createElement("td",null,this.state.discount_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",{className:"font-weight-bold"},"Total"),l.a.createElement("td",{className:"font-weight-bold"},this.state.total)))),l.a.createElement("h2",{className:"font-weight-bold mt-2"},"Payment"),l.a.createElement("table",{className:"table table-sm table-bordered table-hover mb-0 mt-2"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Paid"),l.a.createElement("td",null,this.state.paid_text_input.value)),l.a.createElement("tr",null,l.a.createElement("td",null,"Balance"),l.a.createElement("td",null,this.state.balance)))),l.a.createElement("span",{className:"text-muted"},"- Invoice date-time ",He()(new Date).format("LLL")))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.props.toggle_modal},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-cross"})),"Cancel"),l.a.createElement("button",{type:"button",className:"btn bg-dark btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.handle_save_button_click,disabled:this.state.loading},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-floppy-disk"})),"Save")))}}]),a}(n.Component),Kt=Object(h.b)(null,{notify:oe,update_appointment:ue,load_todays_appointments:ie,clear_todays_appointments:de})(Ht),Gt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).populate_doctors=function(e){e.length>=1?n.render_users(e,"Doctor"):n.setState({doctors:[]})},n.populate_patient=function(e){e.length>=1?n.render_users(e,"Patient"):n.setState({patients:[]})},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"location_selection":n.setState({user_blood_group:{value:e.label}});break;case"status_selection":n.setState({search_status:{value:e.label}});break;case"doctor_selection":n.setState({search_doctor:{value:e.reference}});break;case"patient_selection":n.setState({search_patient:{value:e.reference}})}else switch(t){case"location_selection":n.setState({user_blood_group:{value:""}});break;case"status_selection":n.setState({search_status:{value:""}});break;case"doctor_selection":n.setState({search_doctor:{value:""}});break;case"patient_selection":n.setState({search_patient:{value:""}})}},n.request_user=function(e){n.setState({user_preview_modal_visibility:!0},(function(){v.a.post(x,{user_id:e}).then((function(e){n.setState({user_modal_props:e.data.payload.user})})).catch((function(e){console.log("failed to fetch user",e)}))}))},n.renderDataInRows=function(e){if(null!==e)return e.map((function(e,t){console.log("booking",e);var a={appointment_description:e.appointment_description,appointment_comments:e.appointment_comments};return l.a.createElement(It,{key:t,row_data:e,hidden_data:a,toggle_consultancy_modal:n.toggle_consultancy_modal,toggle_procedure_modal:n.openProcedureModalHandler,toggle_invoice_modal:n.openInvoiceModalHandler,toggle_user_view_modal:n.request_user,columns:"8"})}))},n.openProcedureModalHandler=function(e){n.setState({procedure_modal_visibility:!0,selected_appointment_id:e})},n.closeProcedureModalHandler=function(e){n.setState({procedure_modal_visibility:!1,prev_procedure_list:null,data:null})},n.invoiceVisitIdHandler=function(e){n.setState({invoiceVisitId:e})},n.UpdateProcedureListHandler=function(e){n.setState({prevProcedureList:e})},n.open_new_appointment_modal=function(){n.setState({new_appointment_modal_visibility:!0})},n.openInvoiceModalHandler=function(e){n.setState({invoice_modal_visibility:!0,appointment_invoice_id:e})},n.closeInvoiceModalHandler=function(){n.setState({invoice_modal_visibility:!1})},n.close_new_appointment_modal=function(){n.setState({new_appointment_modal_visibility:!1})},n.call_back_new_appointment_modal=function(){n.setState({new_appointment_modal_visibility:!1,data:null})},n.set_filters=function(){n.setState({filtered_data:null},(function(){for(var e=""!==n.state.search_patient.value,t=""!==n.state.search_doctor.value,a=""!==n.state.search_status.value,l=[],r=0;r<n.state.data.length;++r)e||t||!a?e||!t||a?!e&&t&&a?n.state.search_doctor.value===n.state.data[r].doctor.id&&n.state.search_status.value.toLowerCase()===n.state.data[r].appointment_status.info&&l.push(n.state.data[r]):!e||t||a?e&&!t&&a?n.state.search_patient.value===n.state.data[r].patient.id&&n.state.search_status.value.toLowerCase()===n.state.data[r].appointment_status.info&&l.push(n.state.data[r]):e&&t&&!a?n.state.search_patient.value===n.state.data[r].patient.id&&n.state.search_doctor.value===n.state.data[r].doctor.id&&l.push(n.state.data[r]):e&&t&&a&&n.state.search_patient.value===n.state.data[r].patient.id&&n.state.search_doctor.value===n.state.data[r].doctor.id&&n.state.search_status.value.toLowerCase()===n.state.data[r].appointment_status.info&&l.push(n.state.data[r]):n.state.search_patient.value===n.state.data[r].patient.id&&l.push(n.state.data[r]):n.state.search_doctor.value===n.state.data[r].doctor.id&&l.push(n.state.data[r]):n.state.search_status.value.toLowerCase()===n.state.data[r].appointment_status.info&&l.push(n.state.data[r]);var o=!0;["search_patient","search_doctor","search_status"].map((function(e,t){return""!==n.state[e].value&&(o=!1,n.setState({filtered_data:l})),""})),o&&n.setState({filtered_data:n.state.data})}))},n.todays_date_change=function(e){if(""===e)n.setState({search_date:{value:""}});else{var t=null;try{t=e.format("ll"),n.props.clear_todays_appointments(),n.props.load_todays_appointments(t),localStorage.setItem("Gh65$p3a008#2C",t)}catch(a){t=""}finally{n.setState({search_date:{value:t}})}}},n.toggle_consultancy_modal=function(e){n.setState({consultancy_modal_visibility:!n.state.consultancy_modal_visibility},(function(){n.state.consultancy_modal_visibility&&n.setState({selected_appointment_id:e})}))},n.state={data:null,filtered_data:null,doctors:[],patients:[],new_appointment_modal_visibility:!1,procedure_modal_visibility:!1,consultancy_modal_visibility:!1,prev_procedure_list:null,user_preview_modal_visibility:!1,new_patient_modal_visibility:!1,invoice_modal_visibility:!1,user_modal_props:null,invoice_data:null,appointment_invoice_id:"",selected_appointment_id:null,search_doctor:{value:""},search_patient:{value:""},search_status:{value:""},search_date:{value:He()(new Date).format("ll")}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[l.a.createElement(p.b,{to:"/",className:"breadcrumb-item"},l.a.createElement("i",{className:"icon-user mr-2"}),"Reception"),l.a.createElement("span",{className:"breadcrumb-item active"},"Today's Patient")];if(this.props.set_active_page(t),localStorage.getItem("Gh65$p3a008#2C"))this.setState({search_date:{value:localStorage.getItem("Gh65$p3a008#2C")}},(function(){return e.props.load_todays_appointments(e.state.search_date.value)}));else{var a=new Date(this.state.search_date.value);this.props.load_todays_appointments(new Date(a.getTime()+6e4*a.getTimezoneOffset()).toISOString()),localStorage.setItem("Gh65$p3a008#2C",this.state.search_date.value)}}},{key:"request",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l=arguments;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>2&&void 0!==l[2]?l[2]:"post",e.prev=1,"post"!==n){e.next=8;break}return e.next=5,v.a.post(a,t);case 5:return e.abrupt("return",e.sent);case 8:if("get"!==n){e.next=12;break}return e.next=11,v.a.get(a);case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l,r,o,s;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.prev=1,e.next=4,this.request({},n,"get");case 4:for(l=e.sent,r=[],o=0;o<l.data.payload.count;++o)s=l.data.payload.users[o],r.push({id:"".concat(a.toLowerCase(),"_selection"),reference:s._id,label:"".concat(kt(s.first_name)," ").concat(kt(s.last_name)," | ").concat(s.phone_number," | ").concat(s.email)});"Patient"===a?this.setState({patients:r}):"Doctor"===a&&this.setState({doctors:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("error",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){e.todays_patient&&this.setState({filtered_data:e.todays_patient.data,data:e.todays_patient.data})}},{key:"render",value:function(){var e=this,t=l.a.createElement(ze,{size:150});null!=this.state.filtered_data&&(t=this.state.filtered_data.length>0?l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"table-responsive mt-2 card mb-0 pb-0"},l.a.createElement("table",{className:"table table-hover mb-0"},l.a.createElement("tbody",null,this.renderDataInRows(this.state.filtered_data))))):l.a.createElement("div",{className:"alert alert-info mt-2",style:{marginBottom:"0px"}},l.a.createElement("strong",null,"Info!")," No Appointments found."));var a=function(e){return l.a.createElement(mt.z.Menu,e,l.a.createElement("div",{className:"bg-light text-teal-400",style:{width:"400px"}},e.children))},r=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"font-weight-semibold"},"Doctors"),l.a.createElement(Ye.a,{id:"doctor_selection",isClearable:!0,components:{Menu:a},menuPlacement:"auto",options:this.state.doctors,classNamePrefix:"form-control",placeholder:"Search Doctor",onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"doctor_selection")}}))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"font-weight-semibold"},"Patients"),l.a.createElement(Ye.a,{id:"patient_selection",isClearable:!0,components:{Menu:a},menuPlacement:"auto",options:this.state.patients,classNamePrefix:"form-control",placeholder:"Search Patient",onInputChange:function(t){return e.populate_patient(t)},onChange:function(t){return e.on_selected_changed(t,"patient_selection")}}))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"font-weight-semibold"},"Status"),l.a.createElement(Ye.a,{isClearable:!0,options:rt,placeholder:"Status",onChange:function(t){return e.on_selected_changed(t,"status_selection")},onClick:function(){return console.log("visit status")}}))))),l.a.createElement("div",{className:"col-md-2 d-flex justify-content-center align-items-end mb-2 pb-2"},l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{type:"button",className:"btn btn-dark btn-icon mr-1 ",style:{textTransform:"inherit"},onClick:this.set_filters},l.a.createElement("i",{className:"icon-filter4"})),content:l.a.createElement("div",{className:"card card-body bg-dark text-white shadow mb-1 py-1"},"Filter records"),flowing:!0,position:"top center"}),l.a.createElement(Ot.a,{trigger:l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-icon mr-1 btn-block",style:{textTransform:"inherit"},onClick:this.open_new_appointment_modal},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-plus3"}))),content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},"New Appointment"),flowing:!0,position:"top center"}))),o=l.a.createElement("div",{className:"table-header-background shadow-sw"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-md-6 col-12 d-flex align-items-center"},l.a.createElement("span",{className:"text-white"},"Patients list for date"),l.a.createElement("span",{className:"badge badge-secondary ml-2 d-none d-lg-block"},this.state.search_date.value)),l.a.createElement("div",{className:"col-lg-3 d-none d-lg-block col-0"}),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-12 d-flex"},l.a.createElement(We.a,{id:"dob_text_input",onChange:this.todays_date_change,className:"clock_datatime_picker ",inputProps:{placeholder:"Select Date",width:"100%",className:"form-control bg-teal-400 border-teal-400"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.search_date.value,onClick:function(){return console.log("date select",e.state.search_date.value)}}),l.a.createElement("button",{className:"btn bg-teal-400 border-teal-400 text-teal-400 btn-sm ml-2",onClick:function(){e.props.clear_todays_appointments(),e.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C"))}},l.a.createElement("i",{className:"icon-search4"})))));return l.a.createElement(Me,{container_type:"todayspatient"},r,o,!0===this.props.todays_patient.loading?l.a.createElement(ze,{size:150}):t,l.a.createElement(qt,{visibility:this.state.new_appointment_modal_visibility,close:this.close_new_appointment_modal,call_back:this.call_back_new_appointment_modal,bind_function:this.open_new_appointment_modal,state:"new"}),l.a.createElement(Kt,{visibility:this.state.consultancy_modal_visibility,toggle_modal:this.toggle_consultancy_modal,appointment_id:this.state.selected_appointment_id}),l.a.createElement(St,{visibility:this.state.procedure_modal_visibility,appointment_id:this.state.selected_appointment_id,prev_procedure_list:this.state.prev_procedure_list,updateProcedureList:this.UpdateProcedureListHandler,procedure_backDrop:this.closeProcedureModalHandler,cancelProcedureModal:this.closeProcedureModalHandler}),l.a.createElement(Ct,{visibility:this.state.invoice_modal_visibility,appointment_id:this.state.appointment_invoice_id,close_modal:this.closeInvoiceModalHandler}),l.a.createElement(Tt,{visibility:this.state.user_preview_modal_visibility,modal_props:this.state.user_modal_props,on_click_back_drop:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})},on_click_cancel:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})}}))}}]),a}(n.Component);var Vt=Object(h.b)((function(e){return{notify:e.notify,todays_patient:e.todays_patient}}),{notify:oe,set_active_page:ce,load_todays_appointments:ie,clear_todays_appointments:de})(Object(_.g)(Gt)),Yt=(a(1044),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).toggle_row=function(){r.state.toggle?r.setState({toggle:!1,toggle_icon:"icon-eye-plus"}):r.setState({toggle:!0,toggle_icon:"icon-eye-minus"})},r.render_read_only_cols=function(){return Object.keys(r.state.row_data).map((function(e,t){return l.a.createElement("td",{key:t},r.state.row_data[e])}))},r.render_hidden_elements=function(){return r.state.hidden_data.map((function(e,t){return l.a.createElement("div",{key:t,className:""},e)}))},r.render_hidden_header_elements=function(){return r.state.hidden_header_elements.map((function(e,t){return l.a.createElement(n.Fragment,{key:t},e)}))},r.state={toggle:!1,toggle_icon:"icon-eye-plus",row_data:r.props.row_data,hidden_data:r.props.hidden_data,hidden_header_elements:r.props.hidden_header_elements,hidden_header_color:r.props.hidden_header_color,col_span:""},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({col_span:this.props.columns})}},{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{onClick:this.toggle_row},l.a.createElement("div",{className:"slideInLeft animated"},l.a.createElement(p.b,{className:"",to:"#",onClick:this.toggle_row},l.a.createElement("i",{className:this.state.toggle_icon})))),this.render_read_only_cols()),l.a.createElement("tr",{className:""},l.a.createElement("td",{colSpan:"".concat(this.state.col_span),className:"".concat(this.state.toggle?"":"py-0")},l.a.createElement(jt.a,{isOpen:this.state.toggle},l.a.createElement("div",{className:"float-right"},l.a.createElement(p.b,{onClick:this.toggle_row,to:"#",className:"btn btn-sm btn-outline bg-teal-400 text-teal-400"},l.a.createElement("i",{className:"icon-cross3 icon-2x"}))),this.render_hidden_elements()))))}}]),a}(n.Component)),Ut=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_selected_changed=function(e,t){if(console.log("e",e),null!==e)switch(t){case"gender_selection":n.setState({user_gender:{value:e.label}});break;case"patient_list":n.setState({search_patient_id:{value:e.reference}});break;case"doctor_list":n.setState({search_doctor_id:{value:e.reference}});break;case"status_list":console.log("sttaus select",e.label),n.setState({search_status:{value:e.label}})}else switch(t){case"blood_group_selection":n.setState({user_gender:{value:""}});break;case"patient_list":n.setState({search_patient_id:{value:""}});break;case"doctor_list":n.setState({search_doctor_id:{value:""}});break;case"status_list":n.setState({search_status:{value:""}})}},n.populate_patients=function(e){e.length>=3?n.render_users(e,"Patient"):n.setState({patient_list:[]})},n.populate_doctors=function(e){e.length>=3?n.render_users(e,"Doctor"):n.setState({doctor_list:[]})},n.populate_appointments=function(){var e=Object(et.a)(Xe.a.mark((function e(t){var a;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading_status:!0}),e.next=3,n.request(t,L);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return");case 6:200===a.status?n.setState({data:a.data.payload.appointments,total_records_on_this_page:a.data.payload.appointments.length,total_pages:a.data.payload.total_pages,loading_status:!1},(function(){})):(n.props.notify("info","",a.data.message),n.setState({data:null,loading_status:!1,total_pages:0,total_records_on_this_page:0}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.on_text_field_change=function(e){switch(e.target.id){case"patient_checkbox_input":n.setState({patient_checkbox:e.target.checked});break;case"doctor_checkbox_input":n.setState({doctor_checkbox:e.target.checked})}},n.on_from_date_change=function(e){if(""===e)n.setState({date_from:{value:""}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({date_from:{value:t}})}}},n.on_to_date_change=function(e){if(""===e)n.setState({date_to:{value:""}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({date_to:{value:t}})}}},n.on_search_click=function(){n.setState({data:null,today:He()().format("LT"),page_number:0,total_records_on_this_page:0,total_pages:0},(function(){if(""!==n.state.date_from.value&&""!==n.state.date_to.value){var e={to_date:n.state.date_to.value,from_date:n.state.date_from.value,page:n.state.page_number};n.state.search_patient_id.value&&(e.patient_id=n.state.search_patient_id.value),n.state.search_doctor_id.value&&(e.doctor_id=n.state.search_doctor_id.value),n.state.search_status.value&&(e.appointment_status=n.state.search_status.value),n.populate_appointments(e)}else n.props.notify("error","","Please specify a range of dates")}))},n.refresh_button_click=function(){null!==n.state.previous_query.data?n.populate_appointments(n.state.previous_query.data):n.props.notify("info","","Select dates and click search button to search")},n.request_user=function(e){n.setState({user_preview_modal_visibility:!0},(function(){v.a.post(x,{user_id:e}).then((function(e){n.setState({user_modal_props:e.data.payload.user})})).catch((function(e){console.log("failed to fetch user")}))}))},n.renderDataInRows=function(){return n.state.data.map((function(e,t){var a={date_of_booking:l.a.createElement("div",{ref:function(e){n["element_".concat(t,"_ref")]=e}},e.appointment_date),time_of_booking:l.a.createElement("div",null,"Invalid date"===He()(e.appointment_time,"HH:mm:ss").format("LT")?"-":He()(e.appointment_time,"HH:mm:ss").format("LT")),patient_name:l.a.createElement("button",{className:"btn btn-outline bg-teal-400 border-teal-400 text-teal-400 btn-sm btn-block zoomIn animated",onClick:function(){return n.request_user(e.patient.id)}},kt(e.patient.first_name)+" "+kt(e.patient.last_name)),visit_reason:l.a.createElement("span",{className:"d-inline-block text-truncate ",style:{maxWidth:"150px"}},e.appointment_description),doctor_name:l.a.createElement("button",{className:"btn btn-outline-secondary btn-sm btn-block zoomIn animated",onClick:function(){return n.request_user(e.doctor.id)}},kt(e.doctor.first_name)+" "+kt(e.doctor.last_name)),visit_status:l.a.createElement("span",{className:"badge ".concat("waiting"===e.appointment_status.info?"badge-danger":"badge-primary")},e.appointment_status.info),visit_total_charges:l.a.createElement(Ot.a,{trigger:l.a.createElement("div",{className:""},e.total_charges),flowing:!0,position:"top center",content:l.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},l.a.createElement("div",{className:""},"Consultancy: ",e.appointment_charges.consultancy),l.a.createElement("div",{className:""},"Discount: ",e.appointment_charges.discount),l.a.createElement("div",{className:""},"Follow up: ",e.appointment_charges.follow_up),l.a.createElement("div",{className:""},"Procedures: ",e.appointment_charges.procedures),l.a.createElement("div",{className:""},"Paid Amount: ",e.appointment_charges.paid))})},r=[l.a.createElement("h5",{className:"font-weight-semibold"},"Reason of visit"),l.a.createElement("blockquote",{className:"blockquote blockquote-bordered py-2 pl-3 mb-0"},l.a.createElement("p",{className:"mb-1"},e.appointment_description),l.a.createElement("footer",{className:"blockquote-footer"},"Perscription"))];return l.a.createElement(Yt,{key:t,row_data:a,hidden_data:r,columns:"8"})}))},n.on_previous_button_click=function(){var e=n.state.page_number-1,t=n.state.previous_query;t.data.page=e,n.setState({page_number:e},(function(){n.populate_appointments(t.data)}))},n.on_page_number_click=function(e){var t=parseInt(e.target.innerHTML)-1,a=n.state.previous_query;a.data.page=t,n.setState({page_number:t},(function(){n.populate_appointments(a.data)}))},n.on_next_button_click=function(){var e=n.state.page_number+1,t=n.state.previous_query;t.data.page=e,n.setState({page_number:e},(function(){n.populate_appointments(t.data)}))},n.state={data:null,patient_list:[],doctor_list:[],today:He()().format("LT"),page_number:0,total_records_on_this_page:0,total_pages:0,date_from:{value:He()().subtract(7,"days").format("ll")},date_to:{value:He()().format("ll")},search_patient_id:{value:""},search_doctor_id:{value:""},search_status:{value:""},patient_checkbox:!1,doctor_checkbox:!1,loading_status:!1,previous_query:{data:null},user_preview_modal_visibility:!1,user_modal_props:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[l.a.createElement(p.b,{to:"/",className:"breadcrumb-item"},l.a.createElement("i",{className:"icon-user mr-2"}),"Reception"),l.a.createElement("span",{className:"breadcrumb-item active"},"All Apointments")];this.props.set_active_page(t),setInterval((function(){e.setState({today:He()().format("LT")})}),6e4),this.on_search_click()}},{key:"request",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l=arguments;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>2&&void 0!==l[2]?l[2]:"post",e.prev=1,"post"!==n){e.next=9;break}return this.setState({previous_query:{data:t}}),e.next=6,v.a.post(a,t);case 6:return e.abrupt("return",e.sent);case 9:if("get"!==n){e.next=13;break}return e.next=12,v.a.get(a);case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(et.a)(Xe.a.mark((function e(t,a){var n,l,r,o,s;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.next=3,this.request({},n,"get");case 3:if(l=e.sent,r=[],200===l.status){for(o=0;o<l.data.payload.count;++o)s=l.data.payload.users[o],r.push({id:"".concat(a.toLowerCase(),"_list"),reference:s._id,label:"".concat(kt(s.first_name)," ").concat(kt(s.last_name)," | ").concat(s.phone_number," | ").concat(s.email)});"Patient"===a?this.setState({patient_list:r}):"Doctor"===a&&this.setState({doctor_list:r})}case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=l.a.createElement(ze,{size:150}),a="";return a=null!=this.state.data?this.state.data.length>0?l.a.createElement("div",{className:"table-responsive mt-2 card mb-0 pb-0"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",{className:"table-header-bg bg-dark"},l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Patient"),l.a.createElement("th",null,"Reasons"),l.a.createElement("th",null,"Doctor"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Charges"))),l.a.createElement("tbody",null,this.renderDataInRows()),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"4"},l.a.createElement("div",{className:"mt-2"},l.a.createElement("span",{className:"font-weight-semibold h5"},"Showing page ",this.state.page_number+1," of ",this.state.total_pages," ..."))),l.a.createElement("td",{colSpan:"4"},l.a.createElement("nav",{className:"mt-2"},l.a.createElement("ul",{className:"pagination justify-content-end"},l.a.createElement("li",{className:"page-item ".concat(0===this.state.page_number?"disabled":"")},l.a.createElement(p.b,{className:"page-link",to:"#",onClick:this.on_previous_button_click},"Previous")),this.state.total_pages>1?Array(this.state.total_pages).fill().map((function(t,a){return l.a.createElement("li",{key:a,className:"page-item"},l.a.createElement(p.b,{className:"page-link",to:"#",onClick:function(t){return e.on_page_number_click(t)}},a+1))})):"",l.a.createElement("li",{className:"page-item ".concat(this.state.page_number===this.state.total_pages-1?"disabled":"")},l.a.createElement(p.b,{className:"page-link",to:"#",onClick:this.on_next_button_click},"Next"))))))))):l.a.createElement("div",{className:"alert alert-info",style:{marginBottom:"0px"}},l.a.createElement("strong",null,"Info!")," No visits found."):l.a.createElement("div",{className:"alert alert-info mt-2",style:{marginBottom:"0px"}},l.a.createElement("strong",null,"Info!")," No data found."),l.a.createElement(Me,{container_type:"visits"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"select",heading:"Patient",isClearable:!0,parent_classes:"mb-1",classNamePrefix:"form-control",id:"patient_list",components:{Menu:function(e){return l.a.createElement(mt.z.Menu,e,l.a.createElement("div",{className:"bg-light text-teal-400",style:{width:"400px"}},e.children))}},options:this.state.patient_list,onInputChange:function(t){return e.populate_patients(t)},onChange:function(t){return e.on_selected_changed(t,"patient_list")},placeholder:"Search patients",styles:{container:function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"select",heading:"Doctor",isClearable:!0,parent_classes:"mb-1",options:this.state.doctor_list,onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"doctor_list")},placeholder:"Search Doctor",styles:{container:function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"select",heading:"Status",className:"",parent_classes:"mb-1",options:rt,classNamePrefix:"",placeholder:"Select Status",isClearable:!0,id:"status_selection",onChange:function(t){return e.on_selected_changed(t,"status_list")}})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"select",heading:"Blood group",className:"",parent_classes:"mb-1",options:at,classNamePrefix:"",placeholder:"(coming soon)",isClearable:!0,id:"blood_group_selection",isDisabled:!0,onChange:this.on_selected_changed}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"select",heading:"Branch",className:"",options:rt,classNamePrefix:"",placeholder:"Branch (Coming soon)",isClearable:!0,id:"branch_selection",onChange:this.on_selected_changed,isDisabled:!0})),l.a.createElement("div",{className:"col-lg-9"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"date-time",heading:"From",id:"dob_text_input",onChange:this.on_from_date_change,className:"clock_datatime_picker form-control",inputProps:{placeholder:"Where from",className:"border-0 w-100"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.date_from.value})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement($e,{field_type:"date-time",heading:"To",id:"dob_text_input",onChange:this.on_to_date_change,className:"clock_datatime_picker form-control ",inputProps:{placeholder:"Where to",className:"border-0 w-100"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.date_to.value})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{type:"button",className:"btn bg-dark btn-block btn-sm btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:function(){return e.setState({date_from:{value:""},date_to:{value:""},patient_checkbox:!1,doctor_checkbox:!1})}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-reset"})),"Reset filters")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right btn-sm pr-5 btn-block",style:{textTransform:"inherit"},onClick:this.refresh_button_click},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-reset"})),"Refresh"))),l.a.createElement("div",{className:"row mt-1"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right btn-sm pr-5 btn-block ",style:{textTransform:"inherit"},onClick:this.on_search_click},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-search4"})),"Search")))))))),this.state.loading_status?t:a,l.a.createElement(Tt,{visibility:this.state.user_preview_modal_visibility,modal_props:this.state.user_modal_props,on_click_back_drop:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})},on_click_cancel:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})}}))}}]),a}(n.Component);var Wt=Object(h.b)((function(e){return{notify:e}}),{notify:oe,set_active_page:ce})(Object(_.g)(Ut)),$t=a(166);var Jt=Object(h.b)(null,oe)(Object(_.g)((function(e){var t=Object(n.useState)(""),a=Object($t.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!1),c=Object($t.a)(s,2),i=c[0],d=c[1];return l.a.createElement(Me,{container_type:"darmian_me"},l.a.createElement("div",{className:"card shadow"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h4",null,"Reset your password")),l.a.createElement("div",{className:"card-body px-4"},l.a.createElement($e,{id:"email_text_input",label_tag:"Email",placeholder:"Enter your email",icon_class:"icon-envelop",input_type:"email",on_text_change_listener:function(e){return function(e){o(e.target.value),d(!1)}(e)},default_value:r,error:i})),l.a.createElement("div",{className:"card-footer"},l.a.createElement("button",{className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 float-right",onClick:function(){""===r&&d(!0)}},l.a.createElement("b",null,l.a.createElement("i",{className:"icon-user-check"})),"Sumit Request"))))}))),Zt=a(1059);function Qt(e,t){switch(t.type){case"CHANGE_SORT":return e.column===t.column?Object(Ve.a)(Object(Ve.a)({},e),{},{data:e.data.reverse(),direction:"ascending"===e.direction?"descending":"ascending"}):{column:t.column,data:pe.a.sortBy(e.data,[t.column]),direction:"ascending"};default:throw new Error}}var Xt=function(e){var t=l.a.useReducer(Qt,{column:null,data:e.rows,direction:null}),a=Object($t.a)(t,2),n=a[0],r=a[1],o=n.column,s=n.data,c=n.direction,i=function(e){return"boolean"===typeof e?e?l.a.createElement("i",{className:"icon-check2 bg-success"}):l.a.createElement("i",{className:"icon-cross2 bg-danger"}):"string"===typeof e?isNaN(new Date(e).getDate())?""===e?l.a.createElement("i",{className:"icon-dash"}):e:He()(e).format("ll"):null===e?l.a.createElement("i",{className:"icon-dash"}):e};return l.a.createElement(Zt.a,{sortable:!0,celled:!0,fixed:!0},l.a.createElement(Zt.a.Header,{className:"bg-dark"},l.a.createElement(Zt.a.Row,null,Object.keys(e.headCells).map((function(t,a){return l.a.createElement(Zt.a.HeaderCell,{sorted:o===e.headCells[t].id?c:null,onClick:function(){return r({type:"CHANGE_SORT",column:e.headCells[t].id})}},e.headCells[t].label)})))),l.a.createElement(Zt.a.Body,null,s.map((function(e,t){return l.a.createElement(Zt.a.Row,{key:e.name},Object.keys(e).map((function(t,a){return l.a.createElement(Zt.a.Cell,{key:a},i(e[t]))})))}))))};var ea=function(e){var t="bg-teal-400";switch(e.color){case"default":t="bg-teal-400";break;case"red":t="bg-danger";break;case"black":t="bg-dark";break;case"gray":t="bg-secondary"}return l.a.createElement("button",Object.assign({},e,{className:"btn ".concat(t," btn-labeled btn-labeled-right pr-5 ").concat(e.fuklWidth?"btn-block":""," ").concat(e.className),style:{textTransform:"inherit"}}),l.a.createElement("b",null,l.a.createElement("i",{className:e.icon})),e.children)};var ta=function(e){var t="bg-teal-400 border-teal-400 text-teal-400";switch(e.color){case"default":t="bg-teal-400 border-teal-400 text-teal-400";break;case"red":t="bg-danger border-danger text-danger";break;case"black":t="bg-dark border-dark text-dark";break;case"gray":t="bg-secondary border-secondary text-secondary"}return l.a.createElement("button",Object.assign({},e,{className:"btn btn-outline btn-sm ".concat(t," btn-icon ").concat(e.className)}),l.a.createElement("i",{className:e.icon}))},aa=a(464),na=(a(1046),[{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"phone_number",numeric:!1,disablePadding:!1,label:"Phone#"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"consultancy_fee",numeric:!0,disablePadding:!1,label:"Consultancy"},{id:"consultancy_percentage",numeric:!1,disablePadding:!1,label:"Percentage"},{id:"gender",numeric:!1,disablePadding:!1,label:"Gender"},{id:"actions",numeric:!1,disablePadding:!1,label:"Actions"}]),la=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_edit_doctor=function(e){n.setState({mode:"update",toUpdateDoctorId:e.doctor._id,addNewModalVisibility:!0,user_first_name:{value:e.doctor.first_name,error:!1},user_last_name:{value:e.doctor.last_name,error:!1},user_phone_number:{value:e.doctor.phone_number,error:!1},user_dob:{value:e.doctor.date_of_birth,error:!1},user_cnic:{value:e.doctor.cnic,error:!1},user_email:{value:e.doctor.email,error:!1},user_country:{value:e.doctor.country,error:!1},user_city:{value:e.doctor.city,error:!1},user_address:{value:e.doctor.address,error:!1},user_gender:{value:e.doctor.gender,error:!1},user_blood_group:{value:e.doctor.blood_group,error:!1},user_role:{value:"Doctor",error:!1},user_consultancy_fee:{value:e.details.consultancy_fee,error:!1},user_consultancy_percentage:{value:e.details.consultancy_percentage,error:!1},user_specialities:e.details.specialities,user_degrees:e.details.degrees,user_schedule:e.details.schedule},(function(){return console.log("state",n.state)}))},n.on_delete_doctor=function(e){Object(aa.confirmAlert)({title:"Delete doctor confirmation",message:"Are you sure to delete this doctor?",buttons:[{label:"Yes",onClick:function(){v.a.delete("".concat(M,"?tag=").concat(e)).then((function(){setTimeout((function(){return n.setState({loading:!0,rows:[]},(function(){return n.load_doctors()}))}),1e3),n.props.notify("info","","Successfully deleted doctor")})).catch((function(e){console.log("error",e),n.props.notify("error","",e.toString())}))}},{label:"No",onClick:function(){return n.props.notify("info","","Doctor not deleted")}}]})},n.load_doctors=function(){var e="".concat(E,"?role=Doctor");v.a.get(e).then((function(e){if(e.data){e=e.data.payload,console.log("doctors",e);for(var t=[],a=function(a){t.push({name:"Dr. ".concat(kt(e[a].doctor.first_name)," ").concat(kt(e[a].doctor.last_name)),phone_number:e[a].doctor.phone_number,email:e[a].doctor.email,consultancy_fee:e[a].details.consultancy_fee,consultancy_percentage:"".concat(e[a].details.consultancy_percentage,"% cut"),gender:"Male"===e[a].doctor.gender?l.a.createElement("span",{className:"badge badge-primary"},"Male"):l.a.createElement("span",{className:"badge bg-pink-400"},"Female"),actions:l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(ta,{icon:"icon-pencil",className:"mx-1",onClick:function(){return n.on_edit_doctor(e[a])}}),l.a.createElement(ta,{color:"red",icon:"icon-cross",onClick:function(){return n.on_delete_doctor(e[a].doctor._id)}}))}),a===e.length-1&&n.setState({rows:t,loading:!1})},r=0;r<e.length;++r)a(r);0===e.length&&n.setState({loading:!1})}}))},n.on_text_field_change=function(e){n.setState(Object(pt.a)({},e.target.id,{value:e.target.value,error:!1}))},n.on_selected_changed=function(e,t){null!==e?n.setState(Object(pt.a)({},e.id,{value:e.label,error:!1})):n.setState(Object(pt.a)({},t,{value:e.label,error:!1}))},n.on_user_date_of_birth_change=function(e){if(""===e)n.setState({user_dob:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({user_dob:{value:t,error:!1}})}}},n.delete_item=function(e,t){var a=n.state[t];a.splice(e,1),n.setState(Object(pt.a)({},t,a))},n.toggle_modal=function(e){n.setState(Object(pt.a)({},e,!n.state[e]))},n.add_item=function(e,t){var a,l=n.state[t];l.push({description:e}),n.setState((a={},Object(pt.a)(a,t,l),Object(pt.a)(a,"speciality_description",{value:"",error:!1}),Object(pt.a)(a,"degree_description",{value:"",error:!1}),Object(pt.a)(a,"addNewDegreeModalVisibility",!1),Object(pt.a)(a,"addNewSpecialityModalVisibility",!1),a))},n.reset_state=function(){n.setState({addNewModalVisibility:!1,addNewSpecialityModalVisibility:!1,addNewDegreeModalVisibility:!1,addNewScheduleModalVisibility:!1,user_first_name:{value:"",error:!1},user_last_name:{value:"",error:!1},user_phone_number:{value:"",error:!1},user_dob:{value:"",error:!1},user_cnic:{value:"",error:!1},user_email:{value:"",error:!1},user_country:{value:"Pakistan",error:!1},user_city:{value:"Lahore",error:!1},user_address:{value:"",error:!1},user_gender:{value:"Male",error:!1},user_blood_group:{value:"Unknown",error:!1},user_role:{value:"Doctor",error:!1},user_consultancy_fee:{value:"1500",error:!1},user_consultancy_percentage:{value:"70",error:!1},speciality_description:{value:"",error:!1},degree_description:{value:"",error:!1},user_specialities:[],user_degrees:[],user_schedule:[],mode:"create",toUpdateDoctorId:""})},n.on_submit=function(e){e.preventDefault(),console.log("this.state",n.state);var t={admin_id:n.props.active_user._id,doctor:{first_name:n.state.user_first_name.value.trim(),last_name:n.state.user_last_name.value.trim(),phone_number:n.state.user_phone_number.value.trim(),date_of_birth:n.state.user_dob.value,cnic:n.state.user_cnic.value.trim(),email:n.state.user_email.value.trim(),country:n.state.user_country.value,city:n.state.user_city.value,address:n.state.user_address.value.trim(),gender:n.state.user_gender.value.trim(),blood_group:n.state.user_blood_group.value.trim(),role:n.state.user_role.value.trim()},doctor_details:{consultancy_fee:n.state.user_consultancy_fee.value,consultancy_percentage:n.state.user_consultancy_percentage.value,specialities:n.state.user_specialities,degrees:n.state.user_degrees,schedule:n.state.user_schedule}};"create"===n.state.mode?v.a.post(D,t).then((function(e){console.log("res",e),n.setState({loading:!0,addNewModalVisibility:!1},(function(){return n.load_doctors()}))})).catch((function(e){console.log("res",e),n.props.notify("error","","Server not responding")})):(t.doctor_id=n.state.toUpdateDoctorId,v.a.put(P,t).then((function(e){console.log("response",e),n.props.notify("success","","Doctor successfully updated"),n.reset_state(),n.load_doctors()})).catch((function(e){console.log("err",e),n.props.notify("error","","There was an error updating doctor")})))},n.delete_doctor=function(e){console.log("delete doctor id",e)},n.state={loading:!0,rows:[],addNewModalVisibility:!1,addNewSpecialityModalVisibility:!1,addNewDegreeModalVisibility:!1,addNewScheduleModalVisibility:!1,user_first_name:{value:"",error:!1},user_last_name:{value:"",error:!1},user_phone_number:{value:"",error:!1},user_dob:{value:"",error:!1},user_cnic:{value:"",error:!1},user_email:{value:"",error:!1},user_country:{value:"Pakistan",error:!1},user_city:{value:"Lahore",error:!1},user_address:{value:"",error:!1},user_gender:{value:"Male",error:!1},user_blood_group:{value:"Unknown",error:!1},user_role:{value:"Doctor",error:!1},user_consultancy_fee:{value:"1500",error:!1},user_consultancy_percentage:{value:"70",error:!1},speciality_description:{value:"",error:!1},degree_description:{value:"",error:!1},user_specialities:[],user_degrees:[],user_schedule:[],mode:"create",toUpdateDoctorId:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=[l.a.createElement(p.b,{to:"/",className:"breadcrumb-item"},l.a.createElement("i",{className:"icon-home2 mr-2"}),"Search"),l.a.createElement("span",{className:"breadcrumb-item active"},"Doctors")];this.props.set_active_page(e),this.load_doctors()}},{key:"render",value:function(){var e=this;return l.a.createElement(Me,{container_type:"searchdoctors"},l.a.createElement("div",{className:"mb-2 d-flex justify-content-end"},l.a.createElement(ea,{icon:"icon-plus3",onClick:function(){return e.setState({addNewModalVisibility:!0})}},"Add a new doctor")),this.state.loading?l.a.createElement(ze,{size:150}):0===this.state.rows.length?l.a.createElement("div",{className:"alert alert-info mt-2 w-100"},l.a.createElement("strong",null,"Info!")," Not found."):l.a.createElement(Xt,{rows:this.state.rows,headCells:na,heading:"Doctors"}),l.a.createElement(vt.a,{visible:this.state.addNewModalVisibility,dialogClassName:"modal-lg",onClickBackdrop:function(){return e.setState({addNewModalVisibility:!1})}},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",{className:"mb-0"},"create"===this.state.mode?"Add a new doctor":"Update doctor")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("h5",{className:"font-weight-bold"},"Basic Information"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_first_name",heading:"First name",placeholder:"Enter first name",required:!0,onChange:this.on_text_field_change,value:this.state.user_first_name.value,error:this.state.user_first_name.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_last_name",heading:"Last name",placeholder:"Enter last name",required:!0,onChange:this.on_text_field_change,value:this.state.user_last_name.value,error:this.state.user_last_name.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_phone_number",heading:"Phone number",placeholder:"Enter phone number",required:!0,onChange:this.on_text_field_change,value:this.state.user_phone_number.value,error:this.state.user_phone_number.error})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_dob",heading:"Date of birth",icon_class:"icon-calendar3",placeholder:"Date of birth",input_type:"text",field_type:"date-time",date_format:"ll",time_format:!1,onChange:this.on_user_date_of_birth_change,value:this.state.user_dob.value,error:this.state.user_dob.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_cnic",heading:"CNIC",icon_class:"icon-vcard",input_type:"number",placeholder:"Enter CNIC",type:"text",pattern:"\\d*",maxlength:"13",onChange:this.on_text_field_change,value:this.state.user_cnic.value,error:this.state.user_cnic.error}))),l.a.createElement("div",{className:"col-md-4 px-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement($e,{id:"user_email",heading:"Email",icon_class:"icon-envelop",input_type:"email",placeholder:"Enter email",onChange:this.on_text_field_change,value:this.state.user_email.value,error:this.state.user_email.error})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("h5",{className:"font-weight-bold"},"Location"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement($e,{heading:"Country",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:st,classNamePrefix:"form-control",placeholder:"Select Country",id:"user_country",isDisabled:!0,onChange:function(t){return e.on_selected_changed(t,"user_country")},value:{id:"country_selection",label:this.state.user_country.value},defaultValue:{id:"country_selection",label:"Pakistan"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_country.error?"#FF0000":"",padding:1,borderRadius:5})}}})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement($e,{heading:"City",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:ot,classNamePrefix:"form-control",placeholder:"Select City",id:"user_city",onChange:function(t){return e.on_selected_changed(t,"user_city")},value:{id:"city_selection",label:this.state.user_city.value},defaultValue:{id:"city_selection",label:"Lahore"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_city.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement($e,{heading:"Address/Area",required:!0,className:"form-control form-control-lg",id:"user_address",value:this.state.user_address.value,onChange:function(t){return e.on_text_field_change(t)},placeholder:"Enter address / area you live in the city"})))),l.a.createElement("div",{className:"col-md-4 border-left"},l.a.createElement("h5",{className:"font-weight-bold"},"Specifications"),l.a.createElement($e,{heading:"Gender",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:nt,classNamePrefix:"form-control",placeholder:"Select Gender",id:"gender_selection",onChange:function(t){return e.on_selected_changed(t,"gender_selection")},value:{id:"gender_selection",label:this.state.user_gender.value},defaultValue:{id:"gender_selection",label:"Male"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_gender.error?"#FF0000":"",padding:1,borderRadius:5})}}}),l.a.createElement($e,{heading:"Blood group",field_type:"select",required:!0,isClearable:!0,menuPlacement:"auto",options:at,className:"Select-option",classNamePrefix:"form-control",placeholder:"Select blood group",id:"user_gender",onChange:function(t){return e.on_selected_changed(t,"user_gender")},value:{id:"blood_group_selection",label:this.state.user_blood_group.value},defaultValue:{id:"blood_group_selection",label:"Unknown"},styles:{container:function(t){return Object(Ve.a)(Object(Ve.a)({},t),{},{backgroundColor:e.state.user_gender.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),l.a.createElement("hr",null),l.a.createElement("h5",{className:"font-weight-bold"},"Pricing"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement($e,{id:"user_consultancy_fee",heading:"Consultancy fee",placeholder:"Enter consultancy fee",value:this.state.user_consultancy_fee.value,error:this.state.user_consultancy_fee.error,onChange:this.on_text_field_change})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement($e,{id:"user_consultancy_percentage",heading:"Consultancy percentage",placeholder:"Enter consultancy % shared with this doctor",value:this.state.user_consultancy_percentage.value,error:this.state.user_consultancy_percentage.error,onChange:this.on_text_field_change}))),l.a.createElement("hr",null),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("h5",{className:"font-weight-bold"},"Specialities's"),l.a.createElement(ea,{icon:"icon-plus3",color:"black",onClick:function(){return e.toggle_modal("addNewSpecialityModalVisibility")}},"Speciality")),l.a.createElement("div",{className:"row mt-2"},0===this.state.user_specialities.length?l.a.createElement("div",{className:"alert alert-info mt-2 mb-0 w-100"},l.a.createElement("strong",null,"Info!")," Not found."):l.a.createElement("div",{className:"table-responsive table-hover table-bordered"},l.a.createElement("table",{className:"table mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"Description"),l.a.createElement("th",{className:"text-center"},"Actions"))),l.a.createElement("tbody",null,this.state.user_specialities.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.description),l.a.createElement("td",{className:"text-center"},l.a.createElement(ta,{color:"red",icon:"icon-cross",onClick:function(){return e.delete_item(a,"user_specialities")}})))})))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("h5",{className:"font-weight-bold"},"Degree's"),l.a.createElement(ea,{icon:"icon-plus3",color:"black",onClick:function(){return e.toggle_modal("addNewDegreeModalVisibility")}},"Degree")),l.a.createElement("div",{className:"row mt-2"},0===this.state.user_degrees.length?l.a.createElement("div",{className:"alert alert-info mt-2 w-100"},l.a.createElement("strong",null,"Info!")," Not found."):l.a.createElement("div",{className:"table-responsive table-hover table-bordered"},l.a.createElement("table",{className:"table mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"Description"),l.a.createElement("th",{className:"text-center"},"Actions"))),l.a.createElement("tbody",null,this.state.user_degrees.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.description),l.a.createElement("td",{className:"text-center"},l.a.createElement(ta,{color:"red",icon:"icon-cross",onClick:function(){return e.delete_item(a,"user_degrees")}})))})))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"d-flex justify-content-between text-muted"},l.a.createElement("h5",{className:"font-weight-bold"},"Schedule"),l.a.createElement("span",null,"Coming soon"),l.a.createElement(ea,{icon:"icon-plus3",color:"black",disabled:!0},"Add schedule"))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(ea,{icon:"icon-plus3",onClick:function(t){return e.on_submit(t)}},"create"===this.state.mode?"Create Doctor":"Update doctor"),l.a.createElement(ea,{icon:"icon-cross",color:"red",onClick:function(t){return e.reset_state()}},"Cancel"))),l.a.createElement(vt.a,{visible:this.state.addNewSpecialityModalVisibility,onClickBackdrop:function(){return e.toggle_modal("addNewSpecialityModalVisibility")}},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",{className:"mb-0"},"Add Speciality")),l.a.createElement("div",{className:"modal-body"},l.a.createElement($e,{id:"speciality_description",heading:"Description",placeholder:"Enter description",value:this.state.speciality_description.value,error:this.state.speciality_description.error,onChange:this.on_text_field_change})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(ea,{icon:"icon-plus3",onClick:function(){return e.add_item(e.state.speciality_description.value,"user_specialities")}},"Add"))),l.a.createElement(vt.a,{visible:this.state.addNewDegreeModalVisibility,onClickBackdrop:function(){return e.toggle_modal("addNewDegreeModalVisibility")}},l.a.createElement("div",{className:"modal-header bg-teal-400"},l.a.createElement("h5",{className:"mb-0"},"Add Degree")),l.a.createElement("div",{className:"modal-body"},l.a.createElement($e,{id:"degree_description",heading:"Description",placeholder:"Enter description",value:this.state.degree_description.value,error:this.state.degree_description.error,onChange:this.on_text_field_change})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(ea,{icon:"icon-plus3",onClick:function(){return e.add_item(e.state.degree_description.value,"user_degrees")}},"Add"))))}}]),a}(n.Component);var ra=Object(h.b)((function(e){return{notify:e.notify,active_page:e.active_page,active_user:e.active_user}}),{notify:oe,set_active_page:ce})(la),oa=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement(_.d,null,l.a.createElement(_.b,{exact:!0,path:"/login",component:Ze}),l.a.createElement(_.b,{exact:!0,path:"/register",component:it}),l.a.createElement(_.b,{exact:!0,path:"/forgot_password",component:Jt}),l.a.createElement(ve,{exact:!0,path:"/",component:Ge}),l.a.createElement(ve,{exact:!0,path:"/profile",component:ut}),l.a.createElement(ve,{exact:!0,path:"/todayspatient",component:Vt}),l.a.createElement(ve,{exact:!0,path:"/visits",component:Wt}),l.a.createElement(ve,{exact:!0,path:"/search_doctors",component:ra})),l.a.createElement(fe.a,{hideProgressBar:!0}))}}]),a}(n.Component),sa=a(96),ca=Object(sa.combineReducers)({notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"notify":var a={position:fe.b.POSITION.TOP_RIGHT,pauseOnFocusLoss:!0};switch(t.payload.type){case"success":fe.b.success(t.payload.message,a);break;case"error":fe.b.error(t.payload.message,a);break;case"warning":fe.b.warn(t.payload.message,a);break;case"info":fe.b.info(t.payload.message,a);break;default:Object(fe.b)(t.payload.message,a)}return t.payload;default:return e}},left_sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"left_sidebar":return t.payload;default:return e}},active_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"active_user":return t.payload;default:return e}},active_page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"active_page":return t.payload;default:return e}},todays_patient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todays_patients":return console.log("todays patients",t.payload),200===t.payload.status?{loading:t.loading,data:t.payload.data.payload}:{loading:t.loading,data:t.payload};case"clear_todays_patients":return{loading:!0,data:[]};case"update_single_record":return void 0!==t.payload.new_item?e.data.map((function(e,a){return e._id!==t.payload.id?e:Object(Ve.a)(Object(Ve.a)({},e),t.payload.new_item)})):e.data;default:return e}}}),ia=a(465),da=a(466),ua=a.n(da),ma=a(467),pa=Object(sa.createStore)(ca,Object(ma.composeWithDevTools)(Object(sa.applyMiddleware)(ua.a,ia.a)));o.a.render(l.a.createElement(h.a,{store:pa},l.a.createElement(oa,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}()},135:function(e,t,a){e.exports=a.p+"static/media/LOGO.21ff2f94.png"},141:function(e,t,a){},204:function(e,t,a){e.exports=a.p+"static/media/placeholder.59e6f5b8.jpg"},391:function(e,t,a){},448:function(e,t,a){e.exports=a.p+"static/media/iffatanwarmedicalcomplex.36cda954.png"},477:function(e,t,a){e.exports=a(1049)},482:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},840:function(e,t){},862:function(e,t,a){},874:function(e,t,a){},875:function(e,t,a){},876:function(e,t,a){}},[[477,1,2]]]);
//# sourceMappingURL=main.68d2b5f5.chunk.js.map