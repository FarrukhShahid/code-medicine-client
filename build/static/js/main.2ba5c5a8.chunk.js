(this["webpackJsonpcode-medicine"]=this["webpackJsonpcode-medicine"]||[]).push([[0],{1002:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return Zt}));var n=a(0),r=a.n(n),o=a(26),s=a.n(o),l=(a(464),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var i=a(12),d=a(13),m=a(15),p=a(14),u=a(7),_=a(39),h=a(127),b=a(17),v=a(10),g=a.n(v),f="".concat("http","://").concat("18.188.119.132"),E="".concat(f,"/api"),y="".concat(E,"/users"),N="".concat(y,"/login"),k="".concat(y,"/register"),x="".concat(y,"/update"),w=("".concat(y,"/delete"),"".concat(y,"/logout"),"".concat(y,"/search/id")),S="".concat(y,"/search/token"),C="".concat(y,"/search/credentials"),O="".concat(y,"/admin"),j="".concat(O,"/patient/create"),P=("".concat(O,"/patient/update"),"".concat(O,"/patient/delete"),"".concat(O,"/doctor/create"),"".concat(O,"/doctor/update"),"".concat(O,"/doctor/delete"),"".concat(E,"/appointments")),D="".concat(P,"/create"),I="".concat(P,"/update"),F=("".concat(P,"/delete"),"".concat(P,"/search")),T=("".concat(P,"/search/id"),"".concat(P,"/search/today")),z="".concat(P,"/charges"),M=("".concat(z,"/update"),"".concat(P,"/invoice")),A=("".concat(P,"/checkout"),"".concat(E,"/procedures")),R="".concat(A,"/create"),L="".concat(A,"/update"),q="".concat(A,"/delete"),B=("".concat(A,"/search/id"),"".concat(A,"/appointment/id")),H=("".concat(E,"/doctor/details"),"".concat(E,"/branches"),"".concat(E,"/users")),Y="".concat(H,"/register"),W=("".concat(Y,"/admin"),"".concat(H,"/login"),"".concat(H,"/logout")),G="".concat(H,"/profile"),V=("".concat(G,"/update"),"".concat(H,"/search"),"".concat(H,"/search/id"),"".concat(E,"/appointments")),$=("".concat(V,"/create"),"".concat(V,"/update"),"".concat(V,"/search")),U="".concat($,"/id"),Z=("".concat($,"/today"),"".concat(V,"/charges")),J="".concat(Z,"/update"),X="".concat(V,"/checkout"),K=("".concat(V,"/invoice"),"".concat(V,"/procedures")),Q=("".concat(K,"/create"),"".concat(K,"/update"),"".concat(K,"/delete"),"".concat(E,"/profits")),ee=("".concat(Q,"/search/visit/id"),"".concat(Q,"/update"),"".concat(E,"/doctordetails"));"".concat(ee,"/search");function te(e,t,a){return{type:"notify",payload:{type:e,title:t,message:a}}}function ae(e){return{type:"active_user",payload:e}}function ne(e){return{type:"active_page",payload:e}}function re(e){return function(t){g.a.get("".concat(T,"?tag=").concat(new Date(e))).then((function(e){t({type:"todays_patients",payload:e,loading:!1})})).catch((function(e){t({type:"todays_patients",payload:{data:{message:e,loading:!1}}})}))}}function oe(){return{type:"clear_todays_patients"}}g.a.interceptors.request.use((function(e){var t=localStorage.getItem("user");return t&&(e.headers["code-medicine"]="".concat(t)),e}));var se=a(124),le=a.n(se),ce=a(102),ie=a.n(ce);var de=function(e){var t=e.custom;return e.custom?r.a.createElement(ie.a,{type:"Rings",color:t.color,height:e.size,width:e.size,timeout:t.timeout}):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(ie.a,{type:"Rings",color:"#00BFFF",height:e.size,width:e.size,timeout:12e4}))},me=a(73),pe=a.n(me);var ue=function(e){return r.a.createElement("div",{className:"virtual-body navbar-top"},r.a.createElement("div",{className:"navbar navbar-expand-md navbar-dark fixed-top"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("p",{className:"my-2"},"Cancel"))),r.a.createElement("div",{className:"page-content"},r.a.createElement(me.SkeletonTheme,{color:"#292b2c",highlightColor:"#4F5950"},r.a.createElement("div",{className:"sidebar sidebar-dark sidebar-main sidebar-fixed sidebar-expand-md px-2"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(pe.a,{className:"my-1",circle:!0,height:120,width:120})),r.a.createElement(pe.a,{className:"my-2",count:20,height:40}))),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"page-header page-header-light"},r.a.createElement(me.SkeletonTheme,{color:"#ffffff",highlightColor:"#f2f2f2"},r.a.createElement(pe.a,{className:"my-2",count:1,height:40}))),r.a.createElement("div",{className:"content"},r.a.createElement(me.SkeletonTheme,{color:"#ffffff",highlightColor:"#f2f2f2"},r.a.createElement(pe.a,{className:"my-2",height:150,count:1}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement(pe.a,{className:"my-2",height:300,count:3})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(pe.a,{className:"my-2",height:300,count:4}))))))))},_e=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).authorize_token=function(e){le.a.isEmpty(n.props.active_user)&&null!==e&&g.a.get("".concat(S,"?tag=").concat(e)).then((function(e){n.props.set_active_user(e.data.payload)})).catch((function(e){console.log(e),localStorage.clear(),n.props.set_active_user({})}))},n.check_for_token=function(){return null!==localStorage.getItem("user")},n.state={},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.authorize_token(localStorage.getItem("user"))}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(h.a)(e,["component"]),n=r.a.createElement(ue,null);return this.check_for_token()?le.a.isEmpty(this.props.active_user)||(n=r.a.createElement(_.b,Object.assign({},a,{render:function(e){return r.a.createElement(t,e)}}))):n=r.a.createElement(_.b,Object.assign({},a,{render:function(e){return r.a.createElement(_.a,{to:"/login"})}})),n}}]),a}(n.Component);var he=Object(b.b)((function(e){return{active_user:e.active_user}}),{set_active_user:ae})(_e),be=a(80),ve=a(431),ge=a.n(ve),fe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_sidebar_control_button_click=function(){!0===n.props.left_sidebar?n.props.left_sidebar_controls(!1):n.props.left_sidebar_controls(!0)},n.on_logout_button_click=function(){localStorage.clear(),n.props.set_active_user({}),n.props.history.push("/login")},n.state={},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar navbar-expand-md navbar-dark fixed-top"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(u.b,{onClick:this.on_sidebar_control_button_click,to:"#",className:"d-inline py-3 text-white"},r.a.createElement("i",{className:"icon-paragraph-justify2"}))),r.a.createElement("div",{className:"d-md-none"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar-mobile"},r.a.createElement("i",{className:"icon-tree5"})),r.a.createElement("button",{className:"navbar-toggler sidebar-mobile-main-toggle",onClick:this.on_sidebar_control_button_click,type:"button"},r.a.createElement("i",{className:"icon-paragraph-justify3"}))),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar-mobile"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-right"},r.a.createElement("img",{className:"border-left-light",src:ge.a,alt:"",style:{maxHeight:"30px"}})))),r.a.createElement("span",{className:"navbar-text ml-md-3 mr-md-auto"},r.a.createElement("span",{className:"badge bg-transparent"}))))}}]),a}(n.Component);var Ee=Object(b.b)((function(e){return{left_sidebar:e.left_sidebar,active_user:e.active_user}}),{left_sidebar_controls:function(e){return{type:"left_sidebar",payload:e}},set_active_user:ae})(Object(_.g)(fe)),ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""})}}]),a}(n.Component),Ne=(a(131),a(506),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_logout_button_click=function(){var e={token:localStorage.getItem("user")};g.a.post(W,e).then((function(e){!0===e.data.status?(localStorage.clear(),n.props.history.push("/login"),n.props.notify("success","",e.data.message)):n.props.notify("error","",e.data.message)})).catch((function(e){n.props.notify("error","",e.toString())}))},n.on_item_click=function(e){switch(e.target.id){case"search_link":""===n.state.search_toggle?n.setState({search_toggle:"nav-item-open"}):n.setState({search_toggle:""});break;case"chat_link":""===n.state.chat_toggle?n.setState({chat_toggle:"nav-item-open"}):n.setState({chat_toggle:""});break;case"reception_link":""===n.state.reception_toggle?n.setState({reception_toggle:"nav-item-open"}):n.setState({reception_toggle:""})}},n.state={search_toggle:"",chat_toggle:"",reception_toggle:"",current_page:"Home"},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.active_user.first_name.charAt(0).toUpperCase(),t=this.props.active_user.first_name.length>1?this.props.active_user.first_name.substring(1):"",a=this.props.active_user.last_name.charAt(0).toUpperCase(),n=this.props.active_user.last_name.length>1?this.props.active_user.last_name.substring(1):"";return r.a.createElement("div",{className:"sidebar sidebar-dark sidebar-main sidebar-fixed sidebar-expand-md"},r.a.createElement("div",{className:"sidebar-mobile-toggler text-center"},r.a.createElement(u.b,{to:"/",className:"sidebar-mobile-main-toggle"},r.a.createElement("i",{className:"icon-arrow-left8"})),"Menu",r.a.createElement(u.b,{to:"/",className:"sidebar-mobile-expand"},r.a.createElement("i",{className:"icon-screen-full"}),r.a.createElement("i",{className:"icon-screen-normal"}))),r.a.createElement("div",{className:"sidebar-content"},r.a.createElement("div",{className:"sidebar-user background_custom_left_side_bar d-flex align-items-center",style:{height:"25vh"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"media d-flex align-items-center"},r.a.createElement("div",{className:"mr-3"},r.a.createElement("div",{className:"img-fluid rounded-circle text-teal-400 bg-light h3 d-flex justify-content-center align-items-center p-2",style:{height:"50px",width:"50px"}},"".concat(e).concat(a))),r.a.createElement("div",{className:"media-body "},r.a.createElement("div",{className:"media-title font-weight-semibold "},r.a.createElement("span",{className:"text-shadow"},"".concat(e).concat(t," ").concat(a).concat(n))),r.a.createElement("div",{className:"font-size-xs opacity-50 text-shadow"},r.a.createElement("i",{className:"icon-pin font-size-sm"})," \xa0Pakistan"))))),r.a.createElement("div",{className:"card card-sidebar-mobile"},r.a.createElement("ul",{className:"nav nav-sidebar"},r.a.createElement("li",{className:"nav-item-header"},r.a.createElement("div",{className:"text-uppercase font-size-xs line-height-xs"},"Main")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link"},r.a.createElement("i",{className:"icon-home"}),r.a.createElement("span",null,"Dashboard"))),r.a.createElement("li",{className:"nav-item nav-item-submenu ".concat(this.state.search_toggle)},r.a.createElement(u.b,{className:"nav-link",to:"#",onClick:this.on_item_click,id:"search_link"},r.a.createElement("i",{className:"icon-search4"}),r.a.createElement("span",{className:""},"Search")),r.a.createElement("ul",{className:"nav nav-group-sub","data-submenu-title":"Home",style:{display:""===this.state.search_toggle?"none":"block"}},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link disabled"},"Patients",r.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/search_doctors",className:"nav-link"},"Doctors")))),r.a.createElement("li",{className:"nav-item nav-item-submenu ".concat(this.state.reception_toggle)},r.a.createElement(u.b,{className:"nav-link",to:"#",onClick:this.on_item_click,id:"reception_link"},r.a.createElement("i",{className:"icon-user"}),r.a.createElement("span",null,"Reception")),r.a.createElement("ul",{className:"nav nav-group-sub","data-submenu-title":"Reception",style:{display:""===this.state.reception_toggle?"none":"block"}},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/todayspatient",className:"nav-link active"},"Today's Patients")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/visits",className:"nav-link"},"All appointments")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link disabled"},"Emergency",r.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link disabled"},"Admissions",r.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link disabled"},"Requests",r.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))))),r.a.createElement("li",{className:"nav-item nav-item-submenu ".concat(this.state.chat_toggle)},r.a.createElement(u.b,{className:"nav-link",to:"#",onClick:this.on_item_click,id:"chat_link"},r.a.createElement("i",{className:"icon-envelop5"}),r.a.createElement("span",{className:""},"Chat")),r.a.createElement("ul",{className:"nav nav-group-sub","data-submenu-title":"Home",style:{display:""===this.state.chat_toggle?"none":"block"}},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link disabled"},"Messages",r.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link disabled"},"Requests",r.a.createElement("span",{className:"badge bg-transparent align-self-center ml-auto"},"Coming soon"))))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:"nav-link",onClick:this.on_logout_button_click,to:"#"},r.a.createElement("i",{className:"icon-exit3"}),r.a.createElement("span",null,"Logout")))))))}}]),a}(n.Component));var ke=Object(b.b)((function(e){return{active_user:e.active_user,left_sidebar:e.left_sidebar}}),{set_active_user:ae,notify:te})(Object(_.g)(Ne)),xe=a(195),we=a.n(xe),Se=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).on_logout_button_click=function(){g.a.post(W,{token:localStorage.getItem("user")},{headers:{"code-medicine":localStorage.getItem("user")}}).then((function(t){!0===t.data.status?(localStorage.clear(),e.props.set_active_user({}),e.props.history.push("/login"),e.props.notify("success","",t.data.message)):e.props.notify("error","",t.data.message)})).catch((function(t){e.props.notify("error","",t)}))},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-header page-header-light"},r.a.createElement("div",{className:"breadcrumb-line breadcrumb-line-light header-elements-md-inline"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"breadcrumb py-0"},null!==this.props.active_page?this.props.active_page.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},e)})):""),r.a.createElement(u.b,{to:"/",className:"header-elements-toggle text-default d-md-none"},r.a.createElement("i",{className:"icon-more"}))),r.a.createElement("div",{className:"header-elements d-none"},r.a.createElement("div",{className:"breadcrumb justify-content-center py-0"},r.a.createElement(u.b,{to:"#",onClick:function(){alert("Please mail us on codemedicine29@gmail.com")},className:"breadcrumb-elements-item"},r.a.createElement("i",{className:"icon-comment-discussion mr-2"}),"Support"),r.a.createElement("div",{className:"breadcrumb-elements-item dropdown p-0"},r.a.createElement(u.b,{to:"#",className:"breadcrumb-elements-item dropdown-toggle","data-toggle":"dropdown"},r.a.createElement("img",{src:we.a,style:{height:30,width:30},className:"rounded-circle mr-2",alt:""}),r.a.createElement("span",{className:""},this.props.active_user.first_name)),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement(u.b,{to:"/profile",className:"dropdown-item"},r.a.createElement("i",{className:"icon-user-plus"})," My profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(u.b,{onClick:this.on_logout_button_click,to:"#",className:"dropdown-item"},r.a.createElement("i",{className:"icon-switch2"})," Logout")))))))}}]),a}(n.Component);var Ce=Object(b.b)((function(e){return{active_user:e.active_user,active_page:e.active_page}}),{set_active_user:ae,notify:te})(Object(_.g)(Se)),Oe=(a(507),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={type:n.props.container_type,user_auth_check_interval:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="",t="",a="",n="";switch(this.state.type){case"login":case"register":case"darmian_me":e=!1,t=!1,a=!1,n=!1;break;default:e=!0,t=!0,a=!0,n=!0}var o=r.a.createElement("div",{className:"virtual-body ".concat(e?"navbar-top":""," ").concat(this.props.left_sidebar?window.innerWidth>=500?"sidebar-xs":"sidebar-mobile-main":"")},e?r.a.createElement(Ee,null):"",r.a.createElement("div",{className:"page-content"},a?r.a.createElement(ke,null):"",r.a.createElement("div",{className:"content-wrapper"},n?r.a.createElement(Ce,null):"",r.a.createElement("div",{className:"content ".concat("login"===this.state.type||"register"===this.state.type?"p-0":"")},this.props.children),t?r.a.createElement(ye,null):""))),s=r.a.createElement("div",{className:"virtual-body d-flex justify-content-center align-items-center background_custom"},this.props.children);return"darmian_me"===this.state.type?s:o}}]),a}(n.Component));var je=Object(b.b)((function(e){return{left_sidebar:e.left_sidebar,active_user:e.active_user}}),{notify:te,set_active_user:ae})(Object(_.g)(Oe)),Pe=a(157),De=a.n(Pe),Ie=a(3),Fe=a(432),Te=a.n(Fe),ze=(a(844),a(19)),Me=a.n(ze),Ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).order_data=function(e){console.log("socket data",e);var t=e.patients_per_day,a=[];if(t.length>0)for(var r=0;r<t.length;++r){var o=t[r];if(a.push({date:Me()("".concat(o._id.month,"/").concat(o._id.day,"/").concat(o._id.year)).format("LL"),count:o.count}),r===t.length-1){var s=e.patient_attended,l=e.patient_left+e.patient_attended;n.setState({doctors:e.doctors,patient_left:e.patient_left,patient_attended:e.patient_attended,total_attended:e.total_patients_attended,total_appointments:e.total_patients_appointments_registered,checkout_percentage:Math.ceil(s/(0===l?1:l)*100),current_date_time:Me()(new Date).format("LLLL"),loading_status:!1,patients_per_day:a.sort(n.compare_dates)})}}else{var c=e.patient_attended,i=e.patient_left+e.patient_attended;n.setState({doctors:e.doctors,patient_left:e.patient_left,patient_attended:e.patient_attended,total_attended:e.total_patients_attended,total_appointments:e.total_patients_appointments_registered,checkout_percentage:Math.ceil(c/(0===i?1:i)*100),current_date_time:Me()(new Date).format("LLLL"),loading_status:!1,patients_per_day:[]})}},n.state={doctors:0,patient_left:0,patient_attended:0,total_attended:0,total_appointments:0,checkout_percentage:100,loading_status:!0,patients_per_day:[],current_date_time:Me()(new Date).format("LLLL")},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[r.a.createElement(u.b,{to:"/",className:"breadcrumb-item"},r.a.createElement("i",{className:"icon-home2 mr-2"}),"Home"),r.a.createElement("span",{className:"breadcrumb-item active"},"Dashboard")];this.props.set_active_page(t);var a=localStorage.getItem("user");g.a.get("".concat(S,"?tag=").concat(a)).then((function(t){e.props.set_active_user(t.data.payload),e.socket=Te()("".concat(f)),e.socket.on("FromAPI",(function(t){return e.order_data(t)}))})).catch((function(e){console.log(e)}))}},{key:"compare_dates",value:function(e,t){return new Date(e.date)-new Date(t.date)}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"render",value:function(){var e={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",detail:{formatter:"{value}%"},data:[{value:this.state.checkout_percentage}]}]},t={tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},xAxis:{type:"category",boundaryGap:!1,data:this.state.patients_per_day.map((function(e){return e.date}))},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"Patients",type:"line",symbol:"none",itemStyle:{color:"#00338D"},areaStyle:{color:new Ie.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#015BF9"},{offset:1,color:"#6198F7"}])},data:this.state.patients_per_day.map((function(e){return e.count}))}]},a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"horizontal",left:10,data:["Attended","Waiting"]},series:[{name:"Patients Attended history",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:this.state.total_attended,name:"Attended"},{value:this.state.total_appointments-this.state.total_attended,name:"Waiting"}]}]};return r.a.createElement(je,{container_type:"home"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 d-flex align-items-stretch "},r.a.createElement("div",{className:"card w-100  border-left-3 border-top-0 border-bottom-0 border-right-0 border-info "},r.a.createElement("div",{className:"card-body d-flex justify-content-around align-items-center py-1"},r.a.createElement("div",{className:""},this.state.loading_status?r.a.createElement(de,{size:55,custom:{color:"#5bc0de"}}):r.a.createElement("h1",{className:"font-weight-bold text-center values-text mb-0 text-info"},this.state.doctors),r.a.createElement("h5",null,"Doctors")),r.a.createElement("i",{className:"fa fa-stethoscope fa-5x text-info"})))),r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"card border-left-3 border-top-0 border-bottom-0 border-right-0 border-info "},r.a.createElement("div",{className:"card-header pb-0"},r.a.createElement("div",{className:"h6 mb-0 d-flex w-100  justify-content-center"},r.a.createElement("div",{className:"heading"},r.a.createElement("span",{className:"filter font-weight-bold "},"Patients Today")))),r.a.createElement("div",{className:"card-body d-flex justify-content-around align-items-center py-1"},r.a.createElement("div",{className:""},this.state.loading_status?r.a.createElement(de,{size:55,custom:{color:"#d9534f"}}):r.a.createElement("h1",{className:"font-weight-bold text-center values-text mb-0 text-danger"},this.state.patient_left),r.a.createElement("h5",null,"Waiting")),r.a.createElement("i",{className:"fa fa-heartbeat fa-5x text-danger"}),r.a.createElement("div",{className:"border-left mx-3"}),r.a.createElement("div",null,this.state.loading_status?r.a.createElement(de,{size:55,custom:{color:"#5cb85c"}}):r.a.createElement("h1",{className:"font-weight-bold text-center values-text mb-0 text-success"},this.state.patient_attended),r.a.createElement("h5",null,"Checked out")),r.a.createElement("i",{className:"fa fa-heartbeat fa-5x text-success"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-elements-inline"},r.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients per doctor")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(De.a,{option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["Total","Attended"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["Dr. Yasir","Dr. Hamad","Dr. Shiza","Dr. Farukh","Dr. Baig"]},series:[{name:"Total",type:"bar",data:[14,5,8,2,1]},{name:"Attended",type:"bar",data:[6,3,4,2,0]}]}}))))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-elements-inline"},r.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients Attended")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(De.a,{option:e})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-elements-inline"},r.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients Attended history")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(De.a,{option:a}))))),r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header header-elements-inline"},r.a.createElement("h5",{className:"card-title",style:{fontSize:"20px"}},"Patients Attendence History")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(De.a,{option:t})))))))}}]),a}(n.Component);var Re=Object(b.b)((function(e){return{notify:e.notify,active_user:e.active_user,active_page:e.active_page}}),{notify:te,set_active_user:ae,set_active_page:ne})(Ae),Le=a(20),qe=a(24),Be=a(44),He=a.n(Be),Ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={options:n.props.options,error:n.props.error},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.id,t=this.props.label_tag,a=this.props.input_type,n=this.props.placeholder,o=this.props.icon_class,s=this.props.on_text_change_listener,l=this.props.default_value,c=this.props.field_type,i=this.props.custom_classes,d=this.props.disabled,m=this.props.size?this.props.size:"form-control-lg",p=r.a.createElement("label",{className:"col-form-label-lg mb-0 pb-1"},t),u=r.a.createElement("input",{type:a,className:"form-control ".concat(m," ").concat(this.props.error?"border-danger":""),id:e,placeholder:n,onChange:s,value:l,disabled:d}),_=r.a.createElement("textarea",{rows:"3",cols:"3",className:"form-control form-control-lg ".concat(this.props.error?"border-danger":""),id:e,placeholder:n,onChange:s,value:l}),b=r.a.createElement(qe.a,{isClearable:!0,components:{ValueContainer:function(e){var t=e.children,a=Object(h.a)(e,["children"]);return r.a.createElement(Le.z.ValueContainer,a,r.a.createElement("div",{className:"input-group "},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text border-top-0 border-bottom-0 border-left-0"},r.a.createElement("i",{className:o}))),r.a.createElement("div",{className:"ml-2 my-1"},t)))}},name:"color",options:this.state.options,placeholder:n,menuPosition:"auto",id:e,onInputChange:s,onChange:this.props.on_selected_change,className:i}),v=this.props.date_format,g=this.props.time_format,f=r.a.createElement(He.a,{id:e,onChange:s,className:"clock_datatime_picker form-control form-control-lg ".concat(this.props.error?"border-danger":""),inputProps:{placeholder:n,className:"border-0 w-100"},input:!d,dateFormat:v,timeFormat:g,closeOnSelect:!0,value:l}),E="";return E="text-area"===c?_:"date-time"===c?f:"select"===c?b:"custom"===c?this.props.custom_field:u,r.a.createElement("div",{className:"form-group row ".concat(i)},p,r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text ".concat(this.props.error?"alpha-danger text-danger border-danger":"")},r.a.createElement("i",{className:o}))),E))}}]),a}(n.Component),We=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_text_field_change=function(e){switch(e.target.id){case"email_text_input":n.setState({email:{value:e.target.value,error:!1}});break;case"password_text_input":n.setState({password:{value:e.target.value,error:!1}});break;case"remember_me_text_input":n.setState({remember_me_option:e.target.checked})}},n.__check_hard_constraints=function(e){return""===e.email?(n.props.notify("error","","Please specify a username or phone number"),!1):""!==e.password||(n.props.notify("error","","Please give your password"),!1)},n.on_submit=function(e){e.preventDefault(),n.setState({loading_status:!0});var t={email:n.state.email.value.trim(),password:n.state.password.value.trim(),remember_me:n.state.remember_me_option};g.a.post(N,t).then((function(e){n.setState({loading_status:!1}),console.log("user login",e.data),localStorage.setItem("user",e.data.token),n.props.notify("success","",e.data.message),n.props.history.push("/")})).catch((function(e){e.response&&(console.log("login",e.response),e.response.status>=500?n.props.notify("error","","Server not responding! please try again later"):e.response.status>=400&&e.response.status<500&&n.props.notify("error","",e.response.data.message),n.setState({loading_status:!1,email:{value:n.state.email.value,error:!0},password:{value:n.state.password.value,error:!0}})),console.log("login error",e)}))},n.state={email:{value:"",error:!1},password:{value:"",error:!1},remember_me_option:!0,loading_status:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t="";if(this.state.loading_status)t=r.a.createElement("div",{className:"mt-3"},r.a.createElement("div",{className:"d-flex justify-content-center "},r.a.createElement(ie.a,{type:"Rings",color:"#00BFFF",height:150,width:150,timeout:6e4})),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("p",null,"Loading...")));else{var a=r.a.createElement("div",{className:""},r.a.createElement(Ye,{id:"email_text_input",label_tag:"Email",placeholder:"someone@hello.com",icon_class:"icon-user",input_type:"email",on_text_change_listener:this.on_text_field_change,default_value:this.state.email.value,error:this.state.email.error}),r.a.createElement(Ye,{id:"password_text_input",label_tag:"Password",placeholder:"Enter your password",icon_class:"icon-lock2",input_type:"password",on_text_change_listener:this.on_text_field_change,default_value:this.state.password.value,error:this.state.password.error})),n=r.a.createElement("div",{className:"form-group d-flex align-items-center"},r.a.createElement("div",{className:"form-check mb-0"},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("div",{className:"uniform-checker"},r.a.createElement("span",{className:this.state.remember_me_option?"checked":""},r.a.createElement("input",{type:"checkbox",name:"remember",id:"remember_me_text_input",defaultChecked:this.state.remember_me_option,value:this.state.remember_me_option,onChange:this.on_text_field_change,className:"form-input-styled"}))),"Remember")),r.a.createElement(u.b,{to:"/forgot_password",className:"ml-auto"},"Forgot password?"));t=r.a.createElement("div",{className:""},a,r.a.createElement("hr",null),n)}return r.a.createElement(je,{container_type:"login"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 col-md-6 p-0"},r.a.createElement("form",{method:"post",onSubmit:this.on_submit},r.a.createElement("div",{className:"card m-0",style:{height:"100vh"}},r.a.createElement("div",{className:"card-header text-center h4 font-weight-light"},r.a.createElement("span",null,"Sign in"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"card-body px-5"},t,r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group "},r.a.createElement("button",{type:"submit",className:"btn btn-block bg-teal-400 btn-labeled btn-labeled-right ml-auto",style:{textTransform:"inherit"},onClick:this.on_submit},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-circle-right2"})),"Sign in")),r.a.createElement("div",{className:"form-group text-center text-muted content-divider"},r.a.createElement("span",{className:"px-2"},"Don't have an account?")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",className:"btn btn-block bg-dark btn-labeled btn-labeled-right ml-auto",style:{textTransform:"inherit"},onClick:function(){return e.props.history.push("/register")}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus2"})),"Sign up")),r.a.createElement("span",{className:"form-text text-center text-muted"},"By continuing, you're confirming that you've read our ",r.a.createElement(u.b,{to:"/login"},"Terms & Conditions")," and ",r.a.createElement(u.b,{to:"/login"},"Cookie Policy")))))),r.a.createElement("div",{className:"col-lg-8 col-md-6 d-none d-lg-block d-xl-block d-md-block background_custom"}))))}}]),a}(n.Component);var Ge=Object(b.b)((function(e){return{notify:e.notify,active_user:e.active_user}}),{notify:te,set_active_user:ae})(Object(_.g)(We)),Ve=a(27),$e=a.n(Ve),Ue=a(43),Ze=(a(855),a(265)),Je=(a(856),[{id:"blood_group_selection",label:"A+"},{id:"blood_group_selection",label:"A-"},{id:"blood_group_selection",label:"B+"},{id:"blood_group_selection",label:"B-"},{id:"blood_group_selection",label:"AB+"},{id:"blood_group_selection",label:"AB-"},{id:"blood_group_selection",label:"O+"},{id:"blood_group_selection",label:"O-"},{id:"blood_group_selection",label:"Unknown"}]),Xe=[{id:"gender_selection",label:"Male"},{id:"gender_selection",label:"Female"},{id:"gender_selection",label:"other"}],Ke=[{id:"role_selection",label:"Patient"},{id:"role_selection",label:"Doctor"},{id:"role_selection",label:"Admin"}],Qe=[{id:"status_selection",label:"Waiting"},{id:"status_selection",label:"Checked in"},{id:"status_selection",label:"Checked out"},{id:"status_selection",label:"Emergency"}],et=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_text_field_change=function(e){switch(e.target.id){case"first_name_text_input":n.setState({first_name:{value:e.target.value,error:!1}});break;case"last_name_text_input":n.setState({last_name:{value:e.target.value,error:!1}});break;case"cnic_text_input":e.target.value.length<=13&&n.setState({cnic:{value:e.target.value,error:!1}});break;case"phone_number_text_input":e.target.value.length<=11&&n.setState({phone_number:{value:e.target.value,error:!1}});break;case"email_text_input":n.setState({email:{value:e.target.value,error:!1}});break;case"password_text_input":n.setState({password:{value:e.target.value,error:!1}});break;case"verify_password_text_input":n.setState({verify_password:{value:e.target.value,error:!1}});break;case"address_text_input":n.setState({address:{value:e.target.value,error:!1}})}},n.on_date_of_birth_change=function(e){if(""===e)n.setState({dob:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({dob:{value:t}})}}},n.on_selected_changed=function(e){switch(e.id){case"blood_group_selection":n.setState({blood_group:{value:e.label,error:!1}});break;case"gender_selection":n.setState({gender:{value:e.label,error:!1}});break;case"role_selection":n.setState({role:{value:e.label,error:!1}})}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=/^[A-Za-z]+$/,o=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||e.match(r))||!(!n||e.match(o)))},n.check_hard_constraints=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!e.includes(t))return!0;switch(a){case"eq":if(e.length!==n)return!0;break;case"min":if(e.length<n)return!0;break;case"max":if(e.length>n)return!0}return!1},n.on_submit=function(){var e=Object(Ue.a)($e.a.mark((function e(t){var a,r,o;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({loading_status:!0}),a=!1,n.check_input(n.state.first_name.value,!0,!0,!1)&&(n.setState({current_page:0,first_name:{value:n.state.first_name.value,error:!0}}),a=!0),n.check_input(n.state.last_name.value,!0,!0,!1)&&(n.setState({current_page:0,last_name:{value:n.state.last_name.value,error:!0}}),a=!0),(n.check_input(n.state.email.value,!0,!1,!1)||n.check_hard_constraints(n.state.email.value,"@"))&&(n.setState({current_page:0,email:{value:n.state.email.value,error:!0}}),a=!0),(n.check_input(n.state.phone_number.value,!0,!1,!0)||n.check_hard_constraints(n.state.phone_number.value,"","eq",11))&&(n.setState({current_page:0,phone_number:{value:n.state.phone_number.value,error:!0}}),a=!0),(n.check_input(n.state.password.value,!0,!1,!1)||n.check_hard_constraints(n.state.password.value,"","min",8))&&(n.setState({current_page:1,password:{value:n.state.password.value,error:!0}}),a=!0),n.state.password.value!==n.state.verify_password.value&&(n.setState({password:{value:n.state.password.value,error:!0},verify_password:{value:n.state.verify_password.value,error:!0},current_page:1}),a=!0),(n.check_input(n.state.cnic.value,!0,!1,!0)||n.check_hard_constraints(n.state.cnic.value,"","eq",13))&&(n.setState({current_page:2,cnic:{value:n.state.cnic.value,error:!0}}),a=!0),n.check_input(n.state.dob.value,!0,!1,!1)&&(n.setState({current_page:2,dob:{value:n.state.dob.value,error:!0}}),a=!0),n.check_input(n.state.address.value,!0,!1,!1)&&(n.setState({current_page:2,address:{value:n.state.address.value,error:!0}}),a=!0),n.check_input(n.state.role.value,!0,!0,!1)&&(n.setState({current_page:3,role:{value:n.state.role.value,error:!0}}),a=!0),n.check_input(n.state.gender.value,!0,!0,!1)&&(n.setState({current_page:3,gender:{value:n.state.gender.value,error:!0}}),a=!0),n.check_input(n.state.blood_group.value,!0,!1,!1)&&(n.setState({current_page:3,blood_group:{value:n.state.blood_group.value,error:!0}}),a=!0),!0!==a){e.next=18;break}return n.props.notify("error","","Invalid info"),n.setState({loading_status:!1}),e.abrupt("return");case 18:return r={first_name:n.state.first_name.value.trim(),last_name:n.state.last_name.value.trim(),email:n.state.email.value.trim(),password:n.state.password.value.trim(),verify_password:n.state.verify_password.value.trim(),phone_number:n.state.phone_number.value.trim(),cnic:n.state.cnic.value.trim(),role:n.state.role.value.trim(),dob:n.state.dob.value,gender:n.state.gender.value.trim(),blood_group:n.state.blood_group.value.trim(),address:n.state.address.value.trim()},e.next=21,g.a.post(k,r);case 21:o=e.sent;try{o.data.status?(n.props.notify("success","",o.data.message),n.props.history.push("/login")):(n.props.notify("error","",o.data.message),n.setState({loading_status:!1}))}catch(t){n.props.notify("error","","We are sorry for invonvenience. Server is not responding! please try again later"),n.setState({loading_status:!1})}case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.next_button_click=function(e){e.preventDefault(),n.state.current_page<3?n.setState({current_page:n.state.current_page+1}):3===n.state.current_page&&n.on_submit()},n.back_button_click=function(e){n.state.current_page>=0&&n.setState({current_page:n.state.current_page-1})},n.state={first_name:{value:"",error:!1},last_name:{value:"",error:!1},email:{value:"",error:!1},password:{value:"",error:!1},verify_password:{value:"",error:!1},gender:{value:"",error:!1},dob:{value:"",error:!1},blood_group:{value:"",error:!1},role:{value:"",error:!1},phone_number:{value:"",error:!1},cnic:{value:"",error:!1},address:{value:"",error:!1},loading_status:!1,role_select_modal_visibility:!1,current_page:0},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"mt-3"},r.a.createElement("div",{className:"d-flex justify-content-center "},r.a.createElement(ie.a,{type:"Rings",color:"#00BFFF",height:150,width:150,timeout:6e4})),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("p",null,"Loading..."))),a=t;if(this.state.loading_status)a=t;else{var n=r.a.createElement("div",{className:""},r.a.createElement(Ye,{id:"email_text_input",label_tag:"Email",placeholder:"someone@hello.com",icon_class:"icon-envelop",input_type:"email",on_text_change_listener:this.on_text_field_change,default_value:this.state.email.value,error:this.state.email.error}),r.a.createElement(Ye,{id:"first_name_text_input",label_tag:"First name",placeholder:"Enter your first name",icon_class:"icon-user-check",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.first_name.value,error:this.state.first_name.error}),r.a.createElement(Ye,{id:"last_name_text_input",label_tag:"Last name",placeholder:"Enter your last name",icon_class:"icon-user-check",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.last_name.value,error:this.state.last_name.error}),r.a.createElement(Ye,{id:"phone_number_text_input",label_tag:"Phone Number",placeholder:"Enter your phone number",icon_class:"icon-phone2",input_type:"number",on_text_change_listener:this.on_text_field_change,default_value:this.state.phone_number.value,error:this.state.phone_number.error})),o=r.a.createElement("div",{className:""},r.a.createElement(Ye,{id:"password_text_input",label_tag:"Password",placeholder:"Enter password",icon_class:"icon-user-lock",input_type:"password",on_text_change_listener:this.on_text_field_change,default_value:this.state.password.value,error:this.state.password.error}),r.a.createElement(Ye,{id:"verify_password_text_input",label_tag:"Verify Password",placeholder:"Re-enter password",icon_class:"icon-user-lock",input_type:"password",on_text_change_listener:this.on_text_field_change,default_value:this.state.verify_password.value,error:this.state.verify_password.error})),s=r.a.createElement("div",{className:""},r.a.createElement(Ye,{id:"cnic_text_input",label_tag:"CNIC",placeholder:"Enter your cnic",icon_class:"icon-vcard",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.cnic.value,error:this.state.cnic.error}),r.a.createElement(Ye,{id:"dob_text_input",label_tag:"Date of birth",icon_class:"icon-calendar3",placeholder:"Date of birth",input_type:"text",field_type:"date-time",date_format:"ll",time_format:!1,on_text_change_listener:this.on_date_of_birth_change,default_value:this.state.dob.value,error:this.state.dob.error}),r.a.createElement(Ye,{id:"address_text_input",label_tag:"What is your current address",placeholder:"Enter your address",icon_class:"icon-home",input_type:"text",on_text_change_listener:this.on_text_field_change,default_value:this.state.address.value,error:this.state.address.error,field_type:"text-area"})),l=r.a.createElement("div",{className:""},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-form-label-lg"},"What is your blood group"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-droplet"}))),r.a.createElement(qe.a,{className:"w-75",options:Je,classNamePrefix:"",components:Object(Ze.a)(),placeholder:"Select blood group",id:"blood_group_selection",onChange:this.on_selected_changed}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-form-label-lg"},"Specify your gender"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-man-woman"}))),r.a.createElement(qe.a,{className:"w-75",options:Xe,components:Object(Ze.a)(),classNamePrefix:"",placeholder:"Select gender",id:"gender_selection",onChange:this.on_selected_changed}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-form-label-lg"},"How you want to go into this"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-user-tie"}))),r.a.createElement(qe.a,{className:"w-75",options:Ke,classNamePrefix:"",placeholder:"Select role",id:"role_selection",onChange:this.on_selected_changed}))));a=0===this.state.current_page?n:1===this.state.current_page?o:2===this.state.current_page?s:l}return r.a.createElement(je,{container_type:"register"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 col-md-6 p-0"},r.a.createElement("form",{method:"post",action:this.next_button_click},r.a.createElement("div",{className:"card m-0 ",style:{height:"100vh"}},r.a.createElement("div",{className:"card-header text-center h4 font-weight-light"},r.a.createElement("span",null,"Sign up"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"card-body px-5"},a),r.a.createElement("div",{className:"row card-footer"},r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{id:"back_button",type:"button",className:"btn btn-block bg-teal-400 btn-labeled btn-labeled-left pl-5 mr-2",style:{textTransform:"inherit",display:0===this.state.current_page?"none":"inline"},onClick:this.back_button_click},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-arrow-left13"})),"Back")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"btn btn-block bg-danger btn-labeled btn-labeled-right pr-5 mr-2",style:{textTransform:"inherit"},onClick:function(){return e.props.history.push("/login")}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Cancel")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"submit",className:"btn btn-block bg-teal-400 btn-labeled btn-labeled-right pr-5",id:"next_button",onClick:this.next_button_click},3===this.state.current_page?r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})):r.a.createElement("b",null,r.a.createElement("i",{className:"icon-arrow-right14"})),3===this.state.current_page?"Register":"Next")))))),r.a.createElement("div",{className:"col-lg-8 col-md-6 d-none d-lg-block d-xl-block d-md-block background_custom",style:{height:"100vh"}}))))}}]),a}(n.Component);var tt=Object(b.b)((function(e){return{notify:e}}),{notify:te})(Object(_.g)(et)),at=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).request_update=function(e){n.setState({loading_status:!0},(function(){g.a.put(x,e,{headers:{"code-medicine":localStorage.getItem("user")}}).then((function(e){!0===e.data.status?(n.setState({loading_status:!1}),n.props.notify("success","",e.data.message)):(n.setState({loading_status:!1}),n.props.notify("error","",e.data.message))})).catch((function(e){console.log("request error",e),n.setState({loading_status:!1}),n.props.notify("error","",e.toString())}))}))},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=/^[A-Za-z]+$/,o=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||e.match(r))||(!(!n||e.match(o))||void 0))},n.on_click_update=function(){var e=!1;if(n.check_input(n.state.first_name.value,!0,!0,!1)&&(n.setState({first_name:{value:n.state.first_name.value,error:!0}}),e=!0),n.check_input(n.state.last_name.value,!0,!0,!1)&&(n.setState({last_name:{value:n.state.last_name.value,error:!0}}),e=!0),n.check_input(n.state.email.value,!0,!1,!1)&&(n.setState({email:{value:n.state.email.value,error:!0}}),e=!0),n.check_input(n.state.phone_number.value,!0,!1,!0)&&(n.setState({phone_number:{value:n.state.phone_number.value,error:!0}}),e=!0),n.check_input(n.state.cnic.value,!0,!1,!0)&&(n.setState({cnic:{value:n.state.cnic.value,error:!0}}),e=!0),!0!==e){var t={first_name:n.state.first_name.value,last_name:n.state.last_name.value,email:n.state.email.value,gender:n.state.gender.value,date_of_birth:n.state.date_of_birth.value,register_date:n.state.register_date.value,blood_group:n.state.blood_group.value,role:n.state.role.value,phone_number:n.state.phone_number.value,cnic:n.state.cnic.value,address:n.state.address.value};n.request_update(t)}else n.props.notify("error","","Invalid input")},n.on_text_changed=function(e){switch(e.target.id){case"first_name_text_input":n.setState({first_name:{value:e.target.value,error:!1}});break;case"last_name_text_input":n.setState({last_name:{value:e.target.value,error:!1}});break;case"cnic_text_input":n.setState({cnic:{value:e.target.value,error:!1}});break;case"phone_number_text_input":n.setState({phone_number:{value:e.target.value,error:!1}});break;case"address_text_input":n.setState({address:{value:e.target.value,error:!1}});break;case"email_text_input":n.setState({email:{value:e.target.value,error:!1}})}},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"blood_group_selection":n.setState({blood_group:{value:e.label}});break;case"gender_selection":n.setState({gender:{value:e.label}})}else switch(t){case"blood_group_selection":n.setState({user_blood_group:{value:""}});break;case"gender_selection":n.setState({user_gender:{value:""}})}},n.state={first_name:{value:"",error:!1},last_name:{value:"",error:!1},email:{value:"",error:!1},gender:{value:"",error:!1},date_of_birth:{value:"",error:!1},register_date:{value:"",error:!1},blood_group:{value:"",error:!1},role:{value:"",error:!1},phone_number:{value:"",error:!1},cnic:{value:"",error:!1},address:{value:"",error:!1},loading_status:!1,previous_payload:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[r.a.createElement(u.b,{to:"/",className:"breadcrumb-item"},r.a.createElement("i",{className:"icon-home2 mr-2"}),"Home"),r.a.createElement("span",{className:"breadcrumb-item active"},"Profile")];this.props.set_active_page(t),console.log("profile component did mount user",localStorage.user),localStorage.user?this.setState({loading_status:!0},(function(){g.a.get("".concat(S,"?tag=").concat(localStorage.user)).then((function(t){console.log("res",t),e.props.set_active_user(t.data.payload),e.setState({first_name:{value:t.data.payload.first_name,error:!1},last_name:{value:t.data.payload.last_name,error:!1},email:{value:t.data.payload.email,error:!1},cnic:{value:t.data.payload.cnic,error:!1},phone_number:{value:t.data.payload.phone_number,error:!1},address:{value:t.data.payload.address,error:!1},date_of_birth:{value:Me()(t.data.payload.date_of_birth).format("ll"),error:!1},register_date:{value:Me()(t.data.payload.register_date).format("lll"),error:!1},blood_group:{value:t.data.payload.blood_group,error:!1},gender:{value:t.data.payload.gender,error:!1},role:{value:t.data.payload.role,error:!1},loading_status:!1})})).catch((function(t){t&&(console.log(t.response),t.response.status>=500?(e.props.notify("error","","No response"),e.setState({loading_status:!1})):t.response.status>=400&&t.response.status<500&&(e.props.notify("info","","".concat(t.response.status,". Please refresh the page.")),e.setState({loading_status:!1})))}))})):(console.log("profile component did mount","No token found"),this.props.history.push("/login"))}},{key:"render",value:function(){var e=this,t=function(e){var t=e.children,a=Object(h.a)(e,["children"]);return r.a.createElement(Le.z.ValueContainer,a,r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"ml-2 my-0"},t)))},a=r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-2 col-sm-12 d-flex justify-content-center"},r.a.createElement("div",{className:"card-img-actions d-inline-block mb-3"},r.a.createElement("img",{className:"img-fluid rounded-circle",src:we.a,style:{width:100,height:100},alt:""}),r.a.createElement("div",{className:"card-img-actions-overlay card-img rounded-circle"},r.a.createElement(u.b,{to:"#",className:"btn btn-outline bg-white text-white border-white border-2 btn-icon rounded-round"},r.a.createElement("i",{className:"icon-plus3"}))))),r.a.createElement("div",{className:"col-lg-3 col-sm-12 px-3"},r.a.createElement(Ye,{id:"first_name_text_input",label_tag:"First Name",placeholder:"First name",icon_class:"icon-user",default_value:this.state.first_name.value,on_text_change_listener:this.on_text_changed,error:this.state.first_name.error})),r.a.createElement("div",{className:"col-lg-3 col-sm-12 px-3"},r.a.createElement(Ye,{id:"last_name_text_input",label_tag:"Last Name",placeholder:"Last name",icon_class:"icon-user",type:"email",default_value:this.state.last_name.value,on_text_change_listener:this.on_text_changed,error:this.state.last_name.error})),r.a.createElement("div",{className:"col-lg-4 col-sm-12 px-3"},r.a.createElement(Ye,{id:"email_text_input",label_tag:"Email",placeholder:"Email",icon_class:"icon-envelop4",default_value:this.state.email.value,on_text_change_listener:this.on_text_changed,disabled:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-sm-12 px-3"},r.a.createElement(Ye,{id:"phone_number_text_input",label_tag:"Phone number",placeholder:"Phone number",icon_class:"icon-phone2",default_value:this.state.phone_number.value,on_text_change_listener:this.on_text_changed,error:this.state.phone_number.error})),r.a.createElement("div",{className:"col-lg-3 col-sm-12 px-3"},r.a.createElement(Ye,{id:"cnic_text_input",label_tag:"CNIC",placeholder:"CNIC",icon_class:"icon-vcard",default_value:this.state.cnic.value,on_text_change_listener:this.on_text_changed,error:this.state.cnic.error})),r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:""},r.a.createElement("label",{className:"col-form-label-lg"},"Blood Group"),r.a.createElement(qe.a,{isClearable:!0,components:{ValueContainer:t},name:"color",options:Je,placeholder:"Blood Group",menuPosition:"auto",id:"blood_group_selection",onChange:this.on_selected_changed,value:[{id:"blood_group_selection",label:this.state.blood_group.value}]}))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:""},r.a.createElement("label",{className:"col-form-label-lg"},"Gender"),r.a.createElement(qe.a,{isClearable:!0,components:{ValueContainer:t},name:"color",options:Xe,placeholder:"Gender",menuPosition:"auto",id:"gender_selection",onChange:this.on_selected_changed,value:[{id:"gender_selection",label:this.state.gender.value}]}))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:""},r.a.createElement("label",{className:"col-form-label-lg"},"Role"),r.a.createElement(qe.a,{isClearable:!0,components:{ValueContainer:t},name:"color",options:Ke,placeholder:"Role",menuPosition:"auto",id:"role_selection",onChange:this.on_selected_changed,value:[{id:"role_selection",label:this.state.role.value}]})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-sm-12 px-3"},r.a.createElement(Ye,{id:"address_text_input",label_tag:"Address",placeholder:"Address",icon_class:"icon-home",field_type:"text-area",default_value:this.state.address.value,on_text_change_listener:this.on_text_changed,error:this.state.address.error})),r.a.createElement("div",{className:"col-lg-3 col-sm-12 px-3"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-form-label-lg "},"Date of birth"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar3 text-muted"}))),r.a.createElement(He.a,{id:"user_dob_text_input",onChange:this.on_user_date_of_birth_change,className:"clock_datatime_picker form-control form-control-lg",inputProps:{placeholder:"Date of birth",className:"border-0 w-100"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.date_of_birth.value,disabled:!0})))),r.a.createElement("div",{className:"col-lg-3 col-sm-12 px-3"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-form-label-lg "},"Register Date"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar3 text-muted"}))),r.a.createElement(He.a,{id:"user_dob_text_input",className:"clock_datatime_picker form-control form-control-lg",inputProps:{placeholder:"Register Date",className:"border-0 w-100",disabled:!0},input:!0,dateFormat:"lll",timeFormat:!1,closeOnSelect:!0,value:this.state.register_date.value}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 float-right",onClick:this.on_click_update},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-floppy-disk"})),"Save"),r.a.createElement("button",{className:"btn bg-dark btn-labeled btn-labeled-right pr-5 float-right mr-2",onClick:function(){return e.props.history.push("/")}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Leave"))));return r.a.createElement(je,{container_type:"home"},r.a.createElement("div",{className:"card border-top-info"},r.a.createElement("div",{className:"card-body"},this.state.loading_status?r.a.createElement(de,{size:150}):a)))}}]),a}(n.Component);var nt=Object(b.b)((function(e){return{active_user:e.active_user,notify:e.notify}}),{set_active_user:ae,notify:te,set_active_page:ne})(Object(_.g)(at)),rt=(a(857),a(126)),ot=a(153),st=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handle_change=function(e){n.setState(Object(rt.a)({},e.target.id,{value:e.target.value,error:!1}),(function(){n.state.description_text_input.value!==n.state.prev_description||parseInt(n.state.charges_text_input.value)!==n.state.prev_fee||parseInt(n.state.discount_text_input.value)!==n.state.prev_discount?n.setState({edited:!0}):n.setState({edited:!1})}))},n.on_save_click=function(){if(n.setState({save_click_loading:!0}),"new"===n.props.data.type){var e={appointment_id:n.props.appointment_id,fee:parseInt(n.state.charges_text_input.value),discount:parseInt(n.state.discount_text_input.value),description:n.state.description_text_input.value};g.a.post(R,e).then((function(e){n.setState({save_click_loading:!1,edited:!1}),n.props.notify("success","",e.data.message),n.props.save_opp(n.props.index,{id:e.data.payload._id,fee:e.data.payload.fee,discount:e.data.payload.discount,description:e.data.payload.description})})).catch((function(e){console.log("error",e),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("error","","Network error")}))}else if("previous"===n.props.data.type){var t={appointment_id:n.props.appointment_id,procedure_id:n.props.data.id,fee:parseInt(n.state.charges_text_input.value),discount:parseInt(n.state.discount_text_input.value),description:n.state.description_text_input.value};g.a.put(L,t).then((function(e){console.log("success"),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("success","",e.data.message),n.props.save_opp(n.props.index,{id:n.props.data.id,fee:parseInt(n.state.charges_text_input.value),discount:parseInt(n.state.discount_text_input.value),description:n.state.description_text_input.value})})).catch((function(e){console.log("error",e),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("error","","Network error")}))}},n.on_delete_click=function(){if("new"!==n.props.data.type){var e={procedure_id:n.props.data.id};n.props.delete_opp(n.props.index),g.a.delete(q,{data:e}).then((function(e){console.log("success"),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("success","",e.data.message)})).catch((function(e){console.log("error",e),n.setState({save_click_loading:!1,edited:!1}),n.props.notify("error","","Network error"+e.toString())}))}else n.props.delete_opp(-1)},n.state={description_text_input:{value:n.props.data.procedure_description,error:!1},charges_text_input:{value:n.props.data.procedure_fee,error:!1},discount_text_input:{value:n.props.data.procedure_discount,error:!1},prev_description:n.props.data.procedure_description,prev_fee:n.props.data.procedure_fee,prev_discount:n.props.data.procedure_discount,edited:!1,save_click_loading:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t="btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 secondary btn-icon ml-1 mb-1 ".concat(this.state.save_click_loading?"p-0":""),a="btn btn-outline-dark btn-sm secondary btn-icon ml-1 mb-1 ".concat(this.state.save_click_loading?"p-0":"");return r.a.createElement("tr",null,r.a.createElement("td",{className:"p-1"},r.a.createElement("input",{id:"description_text_input",placeholder:"Enter Reason",disabled:this.state.save_click_loading,input_type:"text",className:"form-control form-control-sm",onChange:function(t){return e.handle_change(t)},defaultValue:this.state.description_text_input.value,style:{border:0}})),r.a.createElement("td",{className:"p-1"},r.a.createElement("input",{id:"charges_text_input",placeholder:"Charges",input_type:"text",disabled:this.state.save_click_loading,className:"form-control form-control-sm",onChange:function(t){return e.handle_change(t)},defaultValue:this.state.charges_text_input.value,style:{border:0}})),r.a.createElement("td",{className:"p-1"},r.a.createElement("input",{id:"discount_text_input",placeholder:"Discount",disabled:this.state.save_click_loading,className:"form-control form-control-sm",onChange:function(t){return e.handle_change(t)},defaultValue:this.state.discount_text_input.value,style:{border:0}})),r.a.createElement("td",{className:"p-1"},r.a.createElement("div",{className:"d-flex align-items-end justify-content-center"},r.a.createElement("button",{className:"btn btn-outline btn-sm bg-danger border-danger text-danger secondary btn-icon mb-1",onClick:this.on_delete_click},r.a.createElement("i",{className:"icon-cross"})),this.state.edited?r.a.createElement("button",{className:"new"===this.props.data.type?t:a,onClick:this.on_save_click},this.state.save_click_loading?r.a.createElement(de,{size:"30"}):r.a.createElement("i",{className:"icon-floppy-disk"})):"")))}}]),a}(n.Component),lt=Object(b.b)(null,{notify:te})(st),ct=a(53),it=a.n(ct),dt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).save_procedure=function(e,t){var a=n.state.procedures_list;a[e].type="previous",a[e].procedure_fee=t.fee,a[e].procedure_discount=t.discount,a[e].procedure_description=t.description,a[e].id=t.id,n.setState({procedures_list:a},(function(){n.handle_total_values()}))},n.delete_procedure=function(e){var t=n.state.procedures_list;-1===e?t.pop():t.splice(e,1),n.setState({procedures_list:[]},(function(){n.setState({procedures_list:t},(function(){return n.handle_total_values()}))}))},n.add_procedure_click=function(){0===n.state.procedures_list.filter((function(e){return"new"===e.type})).length?n.add_procedure({id:null,procedure_fee:0,procedure_discount:0,procedure_description:"",type:"new"}):n.props.notify("info","","There is an unsaved procedure. Please save it first")},n.handle_change=function(e){var t=Object(ot.a)(n);n.setState(Object(rt.a)({},e.target.id,{value:e.target.value,error:!1}),(function(){t.handle_total_values()}))},n.handle_total_values=function(){for(var e=0,t=0,a=0;a<n.state.procedures_list.length;++a)e+=n.state.procedures_list[a].procedure_fee,t+=n.state.procedures_list[a].procedure_discount;var r=n.state.consultancy_fee_text_input.value.length>0?parseInt(n.state.consultancy_fee_text_input.value):0,o=n.state.discount_text_input.value.length>0?parseFloat(n.state.discount_text_input.value):0,s=n.state.follow_up_text_input.value.length>0?parseFloat(n.state.follow_up_text_input.value):0;n.setState({total:r+s-o+(e-t),minimum_payable:r-o+(e-t),discount:o+t})},n.show_procedures=function(){return n.state.procedures_list.map((function(e,t){return r.a.createElement(lt,{key:t,appointment_id:n.props.appointment_id,data:e,index:t,save_opp:n.save_procedure,delete_opp:n.delete_procedure})}))},n.handle_close_modal=function(e){n.setState({procedures_list:[],consultancy_fee_text_input:{value:"1500",error:!1},discount_text_input:{value:"",error:!1},follow_up_text_input:{value:"",error:!1},paid_text_input:{value:"",error:!1},total:0,discount:0}),n.props.cancelProcedureModal()},n.handle_save_button_click=function(){for(var e=0;e<n.state.procedures_list.length;++e)if("new"===n.state.procedures_list[e].type)return void n.props.notify("info","","There is an unsaved procedure.");var t={appointment_id:n.props.appointment_id,consultancy:parseInt(n.state.consultancy_fee_text_input.value),discount:parseInt(n.state.discount_text_input.value),follow_up:parseInt(n.state.follow_up_text_input.value),paid:parseInt(n.state.paid_text_input.value)};g.a.put(J,t).then((function(e){n.props.notify("success","",e.data.message)})).catch((function(e){n.props.notify("error","","Changes could not be saved!"+e.toString())}))},n.handle_checkout_button_click=function(){if(parseInt(""===n.state.paid_text_input.value?0:n.state.paid_text_input.value)<n.state.minimum_payable)n.props.notify("error","","Payment is less that minimum payable amount.");else{var e={appointment_id:n.props.appointment_id},t=Object(ot.a)(n);g.a.post(X,e).then((function(e){n.props.notify("info","",e.data.message),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),setTimeout((function(){n.handle_close_modal()}),1e3)})).catch((function(e){e.response?(e.response.status,t.props.notify("error","",e.response.data.message)):t.props.notify("error","",e.toString())}))}},n.scrollToBottom=function(){n.last_element.scrollIntoView({behavior:"smooth"})},n.calculate_balance=function(){return n.state.paid_text_input.value.length>0?-1*(n.state.total-parseInt(n.state.paid_text_input.value)):0},n.state={consultancy_fee_text_input:{value:"1500",error:!1},discount_text_input:{value:"",error:!1},follow_up_text_input:{value:"",error:!1},paid_text_input:{value:"",error:!1},total:0,discount:0,minimum_payable:0,procedures_list:[],loading_status:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.handle_total_values()}},{key:"add_procedure",value:function(e){var t=this,a=this.state.procedures_list;a.push(e),this.setState({procedures_list:a},(function(){t.scrollToBottom()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(console.log("willReceiveProps",e),e.new_procedure_visibility){if(e.prev_procedure_list&&e.prev_procedure_list.length>0)for(var a=e.prev_procedure_list,n=[],r=0;r<a.length;++r)n.push({id:e.prev_procedure_list[r]._id,procedure_fee:e.prev_procedure_list[r].fee,procedure_discount:e.prev_procedure_list[r].discount,procedure_description:e.prev_procedure_list[r].description,type:"previous"}),r===a.length-1&&this.setState({procedures_list:n,loading_status:!1},(function(){return t.handle_total_values()}));else e.prev_procedure_list&&0===e.prev_procedure_list.length&&this.setState({procedures_list:[],loading_status:!1});e.appointment_id&&g.a.get("".concat(Z,"?tag=").concat(e.appointment_id)).then((function(e){t.setState({consultancy_fee_text_input:{value:0===e.data.payload.consultancy?"":e.data.payload.consultancy.toString(),error:!1},discount_text_input:{value:0===e.data.payload.discount?"":e.data.payload.discount.toString(),error:!1},follow_up_text_input:{value:0===e.data.payload.follow_up?"":e.data.payload.follow_up.toString(),error:!1},paid_text_input:{value:0===e.data.payload.paid?"":e.data.payload.paid.toString(),error:!1}},(function(){t.handle_total_values()}))})).catch((function(e){t.props.notify("error","",e.toString())}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(it.a,{visible:this.props.new_procedure_visibility,onClickBackdrop:this.props.procedure_backDrop,fade:!0,dialogClassName:"modal-dialog modal-lg "},r.a.createElement("div",{className:"modal-header d-flex flex-lg-row flex-column bg-teal-400"},r.a.createElement("h5",{className:"modal-title"},"Appointment details"),r.a.createElement("div",{className:""},r.a.createElement("button",{type:"button",className:"btn bg-secondary btn-sm btn-labeled btn-labeled-right pr-5 mr-1",style:{textTransform:"inherit"},disabled:!0},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})),"Add FollowUp with appointments"),r.a.createElement("button",{type:"button",className:"btn bg-dark btn-sm btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.add_procedure_click},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})),"Add Procedures"))),r.a.createElement("div",{className:"modal-body pt-1",style:{height:"65vh",overflowY:"auto",overflowX:"hidden"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-6 px-3"},r.a.createElement(Ye,{id:"consultancy_fee_text_input",label_tag:"Consultancy Fee",icon_class:"icon-cash3",placeholder:"Fee",disabled:!1,default_value:this.state.consultancy_fee_text_input.value,error:this.state.consultancy_fee_text_input.error,on_text_change_listener:this.handle_change,size:"form-control-sm"})),r.a.createElement("div",{className:"col-lg-3 col-6 px-3"},r.a.createElement(Ye,{id:"discount_text_input",label_tag:"Discount over total",icon_class:"icon-arrow-down132",placeholder:"Discount",default_value:this.state.discount_text_input.value,error:this.state.discount_text_input.error,on_text_change_listener:this.handle_change,size:"form-control-sm"})),r.a.createElement("div",{className:"col-lg-3 col-6 px-3 border-right"},r.a.createElement(Ye,{id:"follow_up_text_input",label_tag:"Follow ups Fee",icon_class:"icon-loop",placeholder:"Follow ups Fee",custom_classes:"",disabled:!1,default_value:this.state.follow_up_text_input.value,error:this.state.follow_up_text_input.error,on_text_change_listener:this.handle_change,size:"form-control-sm"})),r.a.createElement("div",{className:"col-lg-3 col-6 px-3 "},r.a.createElement(Ye,{id:"paid_text_input",label_tag:"Paid",icon_class:"icon-cash3",placeholder:"Fee paid",custom_classes:"",disabled:!1,default_value:this.state.paid_text_input.value,error:this.state.paid_text_input.error,on_text_change_listener:this.handle_change,size:"form-control-sm"}))),r.a.createElement("hr",{className:"mt-1 mb-1"}),this.state.loading_status?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(de,{size:150})):r.a.createElement("div",{className:"table-responsive px-1"},r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-0"},"Procedure reason"),r.a.createElement("th",{className:"border-0"},"Charges"),r.a.createElement("th",{className:"border-0"},"Discount"),r.a.createElement("th",{className:"border-0"},"Actions"))),r.a.createElement("tbody",null,this.show_procedures()))),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.last_element=t}})),r.a.createElement("div",{className:"modal-footer d-flex flex-lg-row flex-column border border-top pt-3"},r.a.createElement("div",{className:"mr-auto"},r.a.createElement("span",{className:"badge badge-light badge-striped badge-striped-left border-left-teal-400"},r.a.createElement("span",{className:"h6 font-weight-bold mr-1"},"Total: ",this.state.total)),r.a.createElement("span",{className:"ml-2 badge badge-light badge-striped badge-striped-left border-left-teal-400"},r.a.createElement("span",{className:"h6 font-weight-bold mr-1"},"Discount: ",this.state.discount)),r.a.createElement("span",{className:"ml-2 badge badge-light badge-striped badge-striped-left border-left-teal-400"},r.a.createElement("span",{className:"h6 font-weight-bold mr-1"},"Paid: ",this.state.paid_text_input.value.length>0?this.state.paid_text_input.value:0)),r.a.createElement("span",{className:"ml-2 badge badge-light badge-striped badge-striped-left border-left-teal-400"},r.a.createElement("span",{className:"h6 font-weight-bold mr-1"},"Bal: ",this.calculate_balance()))),r.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5 mt-1",style:{textTransform:"inherit"},onClick:this.handle_close_modal},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Cancel"),r.a.createElement("button",{type:"button",className:"btn bg-dark btn-labeled btn-labeled-right pr-5 mt-1",style:{textTransform:"inherit"},onClick:this.handle_save_button_click},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-floppy-disk"})),"Save"),r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 mt-1",style:{textTransform:"inherit"},onClick:this.handle_checkout_button_click},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-checkmark2"})),"Checkout")))}}]),a}(n.Component),mt=Object(b.b)(null,{notify:te,update_appointment:function(e){return{type:"update_single_record",payload:{id:e,new_item:g.a.get("".concat(U,"?tag=").concat(e)).data}}},load_todays_appointments:re,clear_todays_appointments:oe})(dt),pt=a(433),ut=a.n(pt),_t=a(434),ht=a.n(_t),bt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).get_total=function(){return null!==n.state.data?parseInt(n.state.data.appointment_charges.procedures)+parseInt(n.state.data.appointment_charges.consultancy)+parseInt(n.state.data.appointment_charges.follow_up)-parseInt(n.state.data.appointment_charges.discount):0},n.state={data:null,loading:!0},n}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){var a=this;!0===e.modal_visibility&&(console.log("fetching data"),g.a.get("".concat(M,"?tag=").concat(e.appointment_id)).then((function(e){console.log("fetched",e.data),a.setState({data:e.data.payload,loading:!1})})))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("img",{src:ut.a,className:"img-fluid",alt:"logo"})),this.state.data?r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"table-responsive card"},r.a.createElement("table",{className:"table table-hover mb-0"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"MRN# ")),r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:""},this.props.appointment_id))),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"Patient ")),r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:""},"".concat(this.state.data.patient.first_name," ").concat(this.state.data.patient.last_name)))),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"Contact")),r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:""},"".concat(this.state.data.patient.phone_number)))),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"Doctor ")),r.a.createElement("td",{className:"py-1"},r.a.createElement("span",{className:""},"".concat(this.state.data.doctor.first_name," ").concat(this.state.data.doctor.last_name)))))))):r.a.createElement(de,{size:150})),a=null!==this.state.data&&this.state.data.appointment_procedures.length>0?r.a.createElement("div",{className:"table-responsive card"},r.a.createElement("table",{className:"table table-hover mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"py-1"},r.a.createElement("b",null,"Description")),r.a.createElement("th",{className:"py-1"},r.a.createElement("b",null,"Charges")),r.a.createElement("th",{className:"py-1"},r.a.createElement("b",null,"Discount")))),r.a.createElement("tbody",null,this.state.data?this.state.data.appointment_procedures.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"py-1"},e.description),r.a.createElement("td",{className:"py-1"},e.fee),r.a.createElement("td",{className:"py-1"},e.discount))})):"No procedure found"))):"",n=r.a.createElement("div",{className:"table-responsive card"},r.a.createElement("table",{className:"table table-hover mb-0"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},"Procedures total fee"),r.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.procedures:"")),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},"Consultancy fee"),r.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.consultancy:"")),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},"Follow up fee"),r.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.follow_up:"")),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1"},"Discount on Appointment charges"),r.a.createElement("td",{className:"py-1"},this.state.data?this.state.data.appointment_charges.discount:"")),r.a.createElement("tr",null,r.a.createElement("td",{className:"py-1 h5"},"Total"),r.a.createElement("td",{className:"py-1 h5"},this.get_total())))));return r.a.createElement(it.a,{visible:this.props.modal_visibility,onClickBackdrop:this.props.close_modal,fade:!0,dialogClassName:"modal-dialog modal-lg "},r.a.createElement("div",{className:"modal-body pb-0",ref:function(t){return e.componentRef=t}},r.a.createElement("div",{className:"container-fluid"},t,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},null!==this.state.data&&this.state.data.appointment_procedures.length>0?r.a.createElement("h4",{className:"font-weight-bold"},"Procedures"):"",a,r.a.createElement("h4",{className:"font-weight-bold"},"Appointment Charges"),n)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right btn-sm pr-5",style:{textTransform:"inherit"},onClick:this.props.close_modal},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Close"),r.a.createElement(ht.a,{trigger:function(){return r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right btn-sm pr-5",style:{textTransform:"inherit"}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-printer2"})),"Print")},content:function(){return e.componentRef}})))}}]),a}(n.Component),vt=a(1013),gt=a(1011),ft=a(33),Et=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).populate_patients=function(e){e.length>=1?n.render_users(e,"Patient"):n.setState({patients:[{id:"appointment_patient_selection",reference:n.props.payload.patient_ref.id,label:"".concat(n.props.payload.patient_ref.first_name," ").concat(n.props.payload.patient_ref.last_name," | ").concat(n.props.payload.patient_ref.phone_number)}]})},n.populate_doctors=function(e){e.length>=1?n.render_users(e,"Doctor"):n.setState({doctors:[{id:"appointment_doctor_selection",reference:n.props.payload.doctor_ref.id,label:"".concat(n.props.payload.doctor_ref.first_name," ").concat(n.props.payload.doctor_ref.last_name," | ").concat(n.props.payload.doctor_ref.phone_number)}]})},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"appointment_patient_selection":var a={id:"appointment_patient_selection",reference:e.reference,label:e.label};n.setState({appointment_patient:{value:e.reference,error:!1},patient_select_value:a});break;case"appointment_doctor_selection":var r={id:"appointment_doctor_selection",reference:e.reference,label:e.label};n.setState({appointment_doctor:{value:e.reference,error:!1},doctor_select_value:r})}else switch(t){case"appointment_patient_selection":n.setState({appointment_patient:{value:"",error:!1},patient_select_value:""});break;case"appointment_doctor_selection":n.setState({appointment_doctor:{value:"",error:!1},doctor_select_value:""})}},n.on_text_field_change=function(e){switch(e.target.id){case"appointment_reason_text_input":n.setState({appointment_reason:{value:e.target.value,error:!1}})}},n.on_apointment_date_change=function(e){if(""===e)n.setState({appointment_date:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({appointment_date:{value:t,error:!1}})}}},n.on_apointment_time_change=function(e){if(""===e)n.setState({appointment_time:{value:"",error:!1}});else{var t=null;try{t=e.format("LT")}catch(a){t=""}finally{n.setState({appointment_time:{value:t,error:!1}})}}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=/^[A-Za-z]+$/,o=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||""===e||e.match(r))||!(!n||""===e||e.match(o)))},n.on_submit=function(){n.setState({loading_status:!0});var e=!1;if(n.check_input(n.state.appointment_patient.value,!0)&&(n.setState({appointment_patient:{value:n.state.appointment_patient.value,error:!0}}),e=!0),n.check_input(n.state.appointment_doctor.value,!0)&&(n.setState({appointment_doctor:{value:n.state.appointment_doctor.value,error:!0}}),e=!0),n.check_input(n.state.appointment_reason.value)&&(n.setState({appointment_reason:{value:n.state.appointment_reason.value,error:!0}}),e=!0),n.check_input(n.state.appointment_date.value,!0)&&(n.setState({appointment_date:{value:n.state.appointment_date.value,error:!0}}),e=!0),n.check_input(n.state.appointment_time.value,!0)&&(n.setState({appointment_time:{value:n.state.appointment_time.value,error:!0}}),e=!0),!0===e)return n.props.notify("error","","Invalid inputs"),void n.setState({loading_status:!1});localStorage.setItem("h7vjys8yyd12",n.props.id);var t={appointment_id:n.props.payload.visit_id,doctor_id:n.state.appointment_doctor.value,appointment_date:"".concat(Me()(n.state.appointment_date.value).format("YYYY-MM-DD"),"T").concat(Me()(n.state.appointment_time.value,["h:mm A"]).format("HH:mm:ss"),"Z"),appointment_time:n.state.appointment_time.value,appointment_description:n.state.appointment_reason.value};console.log("data update",t),g.a.put(I,t).then((function(e){console.log("res",e),n.props.notify("success","",e.data.message),n.setState({loading_status:!1}),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),setTimeout((function(){return n.props.close()}),2e3)})).catch((function(e){console.log("res err",e),n.props.notify("error","","Network error ".concat(e.toString())),n.setState({loading_status:!1})}))},n.state={patients:[{id:"appointment_patient_selection",reference:n.props.payload.patient_ref.id,label:"".concat(n.props.payload.patient_ref.first_name," ").concat(n.props.payload.patient_ref.last_name," | ").concat(n.props.payload.patient_ref.phone_number," | ").concat(n.props.payload.patient_ref.email)}],doctors:[{id:"appointment_doctor_selection",reference:n.props.payload.doctor_ref.id,label:"".concat(n.props.payload.doctor_ref.first_name," ").concat(n.props.payload.doctor_ref.last_name," | ").concat(n.props.payload.doctor_ref.phone_number," | ").concat(n.props.payload.doctor_ref.email)}],appointment_patient:{value:n.props.payload.patient_ref.id,error:!1},appointment_doctor:{value:n.props.payload.doctor_ref.id,error:!1},appointment_reason:{value:n.props.payload.reason,error:!1},appointment_date:{value:Me.a.utc(n.props.payload.date).format("ll"),error:!1},appointment_time:{value:n.props.payload.time,error:!1},patient_select_value:{id:"appointment_patient_selection",reference:n.props.payload.patient_ref.id,label:"".concat(n.props.payload.patient_ref.first_name," ").concat(n.props.payload.patient_ref.last_name," | ").concat(n.props.payload.patient_ref.phone_number," | ").concat(n.props.payload.patient_ref.email)},doctor_select_value:{id:"appointment_doctor_selection",reference:n.props.payload.doctor_ref.id,label:"".concat(n.props.payload.doctor_ref.first_name," ").concat(n.props.payload.doctor_ref.last_name," | ").concat(n.props.payload.doctor_ref.phone_number," | ").concat(n.props.payload.doctor_ref.email)}},n}return Object(d.a)(a,[{key:"request",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r=arguments;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>2&&void 0!==r[2]?r[2]:"post",e.prev=1,"post"!==n){e.next=8;break}return e.next=5,g.a.post(a,t,{headers:{"code-medicine":localStorage.getItem("user")}});case 5:return e.abrupt("return",e.sent);case 8:if("get"!==n){e.next=12;break}return e.next=11,g.a.get(a,{headers:{"code-medicine":localStorage.getItem("user")}});case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r,o,s,l;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.next=3,this.request({},n,"get");case 3:if(r=e.sent,o=[],"patient"===a?o.push({id:"appointment_patient_selection",reference:this.props.payload.patient_ref.id,label:"".concat(this.props.payload.patient_ref.first_name," ").concat(this.props.payload.patient_ref.last_name," | ").concat(this.props.payload.patient_ref.phone_number," | ").concat(this.props.payload.patient_ref.email)}):o.push({id:"appointment_doctor_selection",reference:this.props.payload.doctor_ref.id,label:"".concat(this.props.payload.doctor_ref.first_name," ").concat(this.props.payload.doctor_ref.last_name," | ").concat(this.props.payload.doctor_ref.phone_number," | ").concat(this.props.payload.doctor_ref.email)}),200===r.status){for(s=0;s<r.data.payload.count;++s)l=r.data.payload.users[s],o.push({id:"appointment_".concat(a.toLowerCase(),"_selection"),reference:l._id,label:"".concat(l.first_name," ").concat(l.last_name," | ").concat(l.phone_number," | ").concat(l.email)});"Patient"===a?this.setState({patients:o}):"Doctor"===a&&this.setState({doctors:o})}case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},"Select or add user",r.a.createElement("div",{className:"form-group form-group-feedback form-group-feedback-right"},r.a.createElement(qe.a,{id:"appointment_patient_selection",isClearable:!0,menuPlacement:"auto",isDisabled:!0,options:this.state.patients,classNamePrefix:"form-control",placeholder:"Select Patient",onInputChange:function(t){return e.populate_patients(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_patient_selection")},value:this.state.patient_select_value,styles:{container:function(t){return Object(ft.a)(Object(ft.a)({},t),{},{backgroundColor:e.state.appointment_patient.error?"#FF0000":"",padding:1,borderRadius:5})}}}),r.a.createElement("div",{className:"form-control-feedback"},r.a.createElement("i",{className:"icon-user-check text-muted"})))),r.a.createElement("div",{className:"col-md-6"},"Which doctor will be suitable",r.a.createElement("div",{className:"form-group form-group-feedback form-group-feedback-right"},r.a.createElement(qe.a,{id:"appointment_doctor_selection",isClearable:!0,options:this.state.doctors,classNamePrefix:"form-control",placeholder:"Select a Doctor",menuPlacement:"auto",onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_doctor_selection")},value:this.state.doctor_select_value,styles:{container:function(t){return Object(ft.a)(Object(ft.a)({},t),{},{backgroundColor:e.state.appointment_doctor.error?"#FF0000":"",padding:1,borderRadius:5})}}}),r.a.createElement("div",{className:"form-control-feedback"},r.a.createElement("i",{className:"icon-user-tie text-muted"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Ye,{id:"appointment_reason_text_input",label_tag:"What is the reason for the visit",icon_class:"icon-user-check",input_type:"text",placeholder:"Enter visit reason",field_type:"text-area",on_text_change_listener:this.on_text_field_change,default_value:this.state.appointment_reason.value,error:this.state.appointment_reason.error}))),r.a.createElement("div",{className:"row mb-1"},r.a.createElement("div",{className:"col-6"}),r.a.createElement("div",{className:"col-6"},"What is the date and time of appointment")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"}),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(He.a,{id:"dob_text_input",onChange:this.on_apointment_date_change,className:"clock_datatime_picker",inputProps:{placeholder:"Select Date",width:"100%",className:"form-control"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.appointment_date.value})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(He.a,{id:"dob_text_input",onChange:this.on_apointment_time_change,className:"clock_datatime_picker",inputProps:{placeholder:"Select Time",width:"100%",className:"form-control"},input:!0,dateFormat:!1,timeFormat:!0,closeOnSelect:!0,strictParsing:!0,value:this.state.appointment_time.value}))));return r.a.createElement(it.a,{visible:this.props.visibility,onClickBackdrop:function(){return e.props.close()},fade:!0,dialogClassName:"modal-dialog-centered modal-lg"},r.a.createElement("div",{className:"modal-header bg-teal-400"},r.a.createElement("h5",{className:"modal-title"},"New Appointment")),this.state.loading_status?r.a.createElement(de,{size:150}):t,r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:function(){return e.props.close()}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Cancel"),r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.on_submit},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})),"Update")))}}]),a}(n.Component),yt=Object(b.b)(null,{notify:te,load_todays_appointments:re,clear_todays_appointments:oe})(Et),Nt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).toggle_row=function(){o.state.toggle?o.setState({toggle:!1,toggle_icon:"icon-eye-plus"}):o.setState({toggle:!0,toggle_icon:"icon-eye-minus"})},o.view_user=function(e){o.props.open_user_view_modal(e)},o.render_read_only_cols=function(){var e={charges:r.a.createElement(gt.a,{trigger:r.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 secondary btn-icon ",onClick:function(){return o.props.open_procedure_modal(o.props.row_data._id)}},r.a.createElement("i",{className:"icon-plus2"})),content:r.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mr-1 mt-3 py-1"},"View or Add procedures"),flowing:!0,position:"left center"}),invoice:r.a.createElement(gt.a,{trigger:r.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon ml-2",onClick:function(){return o.props.open_invoice_modal(o.props.row_data._id)}},r.a.createElement("i",{className:"icon-file-text2"})),content:r.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},"Generate Invoice"),flowing:!0,position:"top left"}),edit:r.a.createElement(gt.a,{trigger:r.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon ml-2",onClick:function(){return o.setState({update_appointment_modal_visibility:!0})}},r.a.createElement("i",{className:"icon-pencil3"})),flowing:!0,content:r.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},"Edit appointment"),position:"top center"}),follow_ups:r.a.createElement(gt.a,{trigger:r.a.createElement("button",{className:"btn btn-outline btn-sm bg-teal-400 border-teal-400 text-teal-400 btn-icon ml-2",onClick:function(){return alert("There are no follow ups")}},r.a.createElement("i",{className:"icon-loop"})),flowing:!0,content:r.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},"Follow ups"),position:"top right"}),details:r.a.createElement(gt.a,{trigger:r.a.createElement("button",{className:"btn btn-outline btn-sm bg-dark border-dark text-dark btn-icon ml-2",onClick:o.toggle_row},r.a.createElement("i",{className:o.state.toggle_icon})),flowing:!0,content:r.a.createElement("div",{className:"card card-body bg-dark text-white shadow ml-1 mt-3 py-1"},"Show more details"),position:"right center"})};return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 mt-0 text-teal-400 border-left-2 border-left-teal-400 btn-block d-flex align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"btn btn-outline bg-teal-400 text-teal-400 btn-block jackInTheBox animated",style:{verticalAlign:"center"},onClick:function(){return o.view_user(o.state.row_data.patient.id)}},r.a.createElement("span",{className:"img-fluid rounded-circle text-white bg-teal-400 h3 p-2"},o.state.row_data.patient.first_name.charAt(0).toUpperCase()+o.state.row_data.patient.last_name.charAt(0).toUpperCase()),r.a.createElement("h4",{className:"mt-2"},o.state.row_data.patient.first_name+" "+o.state.row_data.patient.last_name),r.a.createElement("span",null,r.a.createElement("i",{className:"icon-phone-wave mr-1"})," ",o.state.row_data.patient.phone_number))),r.a.createElement("div",{className:"col-lg-2 col-md-6 col-sm-6 mt-0 text-teal-400 border-left-2 border-bottom-sm-2 border-left-teal-400 border-right-teal-400 border-right-2 btn-block d-flex align-items-center justify-content-center text-center"},r.a.createElement("div",{className:" jackInTheBox animated"},r.a.createElement("h1",{className:"mb-0"},Me()(o.state.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").format("hh:mm a")),r.a.createElement("p",null,o.state.appointment_time_difference_from_now))),r.a.createElement("div",{className:"col-lg-7 col-md-12 col-sm-12 mt-sm-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 font-weight-bold h6"},"Appointment with ",r.a.createElement(u.b,{className:"text-teal-400 font-weight-bold ml-1",to:"#",onClick:function(){return o.view_user(o.state.row_data.doctor.id)}},o.state.row_data.doctor.first_name+" "+o.state.row_data.doctor.last_name,r.a.createElement("i",{className:"icon-user-tie ml-1"})),r.a.createElement("span",{className:"text-muted float-lg-right float-md-right float-left"},"".concat(Me()(o.state.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").format("LL"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 h6"},r.a.createElement("span",{className:"font-weight-bold"},"Reason"),r.a.createElement("span",{className:" h6 text-muted"}," ".concat(o.state.row_data.appointment_description.length>25?o.state.row_data.appointment_description.substring(0,25)+"...":o.state.row_data.appointment_description)),r.a.createElement("span",{className:"badge badge-".concat("checked out"===o.state.row_data.appointment_status.info?"primary":"danger"," float-right")},o.state.row_data.appointment_status.info))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},o.state.row_data.appointment_status.is_paid?r.a.createElement(n.Fragment,null,e.invoice,e.follow_ups,e.details):r.a.createElement(n.Fragment,null,e.charges,e.invoice,e.edit,e.follow_ups,e.details))))))},o.render_hidden_elements=function(){return r.a.createElement("div",{className:""},r.a.createElement("h5",{className:"font-weight-semibold"},"Reason of visit"),r.a.createElement("blockquote",{className:"blockquote blockquote-bordered py-2 pl-3 mb-0"},r.a.createElement("p",{className:"mb-1"},o.state.hidden_data.appointment_description),r.a.createElement("footer",{className:"blockquote-footer"},"Perscription")))},o.render_hidden_header_elements=function(){return o.state.hidden_header_elements.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},e)}))},o.close_update_appointment_modal=function(){o.setState({update_appointment_modal_visibility:!1})},o.open_update_appointment_modal=function(){o.setState({update_appointment_modal_visibility:!0})},o.call_back_update_appointment_modal=function(){},o.state={toggle:!1,toggle_icon:"icon-eye-plus",row_data:o.props.row_data,hidden_data:o.props.hidden_data,hidden_header_elements:o.props.hidden_header_elements,hidden_header_color:o.props.hidden_header_color,col_span:"",appointment_time_difference_from_now:Me()(o.props.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").fromNow(),update_appointment_modal_visibility:!1},o}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({col_span:this.props.columns}),setInterval((function(){e.setState({appointment_time_difference_from_now:Me()(e.state.row_data.appointment_date,"YYYY-MM-DDThh:mm:ss").fromNow()})}),6e4)}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:this.state.col_span},this.render_read_only_cols())),r.a.createElement("tr",{className:""},r.a.createElement("td",{colSpan:"".concat(this.state.col_span+1),className:"".concat(this.state.toggle?"":"py-0")},r.a.createElement(vt.a,{isOpen:this.state.toggle},r.a.createElement("div",{className:"float-right"},r.a.createElement(u.b,{onClick:this.toggle_row,to:"#",className:"btn btn-sm btn-outline bg-teal-400 text-teal-400"},r.a.createElement("i",{className:"icon-cross3 icon-2x"}))),this.render_hidden_elements()),r.a.createElement(yt,{id:this.props.id,visibility:this.state.update_appointment_modal_visibility,close:this.close_update_appointment_modal,call_back:this.call_back_update_appointment_modal,state:"update",payload:{visit_id:this.state.row_data._id,patient_ref:this.state.row_data.patient,doctor_ref:this.state.row_data.doctor,reason:this.state.row_data.appointment_description,date:this.state.row_data.appointment_date,time:this.state.row_data.appointment_time}}))))}}]),a}(n.Component),kt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).calculate_age=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n},n.state={data:n.props.data,size:n.props.size,text_size:"",icon_size:"",button_size:"",heading_size:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){switch(this.state.size){case"large":this.setState({text_size:"h3",icon_size:"icon-2x",button_size:"btn-lg",heading_size:"h1 font-weight-bold"})}}},{key:"render",value:function(){var e=this.state.data,t=e.first_name+" "+e.last_name,a=e.gender,n=e.date_of_birth,o=e.email,s=e.phone_number,l=this.state.icon_size,c=this.state.text_size;return r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"mr-3"},r.a.createElement("div",{className:"img-fluid rounded-circle text-white bg-teal-400 h3 d-flex justify-content-center align-items-center p-2",style:{height:"50px",width:"50px"}},e.first_name.charAt(0)+e.last_name.charAt(0))),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mb-0 ".concat(this.state.heading_size)},t," ","Male"===a?r.a.createElement("span",{className:"badge badge-primary"},r.a.createElement("small",null,"Male")):r.a.createElement("span",{className:"badge bg-pink-400"},r.a.createElement("small",null,"Female"))),r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("span",{className:"".concat(c)},r.a.createElement("i",{className:"icon-person ".concat(l)})," ",this.calculate_age(n)," years old")),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("span",{className:"mt-1 ".concat(c)},r.a.createElement("i",{className:"icon-calendar3 mr-2 ".concat(l)})," ",Me()(new Date(n).toString()).format("MMM Do YY")))),r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("span",{className:"mt-1 ".concat(c)},r.a.createElement("i",{className:"icon-phone-wave mr-2 ".concat(l)}),s)),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("span",{className:"mt-1 ".concat(c)},r.a.createElement("i",{className:"icon-envelop5 mr-2 ".concat(l)}),o)))))}}]),a}(n.Component);var xt=function(e){function t(){e.on_click_back_drop()}return r.a.createElement("div",null,r.a.createElement(it.a,{visible:e.visibility,onClickBackdrop:function(){return t()},fade:!0,dialogClassName:"modal-dialog-centered modal-lg "},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"float-right"},r.a.createElement(u.b,{onClick:function(){return t()},to:"#",className:"btn btn-sm btn-outline bg-teal-400 text-teal-400"},r.a.createElement("i",{className:"icon-cross3 icon-2x"}))),null===e.modal_props?r.a.createElement(de,{size:150}):r.a.createElement(kt,{data:e.modal_props,size:"large"})),r.a.createElement("div",{className:"modal-footer"})))},wt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_text_field_change=function(e){switch(e.target.id){case"user_first_name_text_input":n.setState({user_first_name:{value:e.target.value,error:!1}});break;case"user_last_name_text_input":n.setState({user_last_name:{value:e.target.value,error:!1}});break;case"user_cnic_text_input":e.target.value.length<=13&&n.setState({user_cnic:{value:e.target.value,error:!1}});break;case"user_phone_number_text_input":e.target.value.length<=11&&n.setState({user_phone_number:{value:e.target.value,error:!1}});break;case"user_email_text_input":n.setState({user_email:{value:e.target.value,error:!1}});break;case"user_address_text_input":n.setState({user_address:{value:e.target.value,error:!1}})}},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"blood_group_selection":n.setState({user_blood_group:{value:e.label,error:!1}});break;case"gender_selection":n.setState({user_gender:{value:e.label,error:!1}})}else switch(t){case"blood_group_selection":n.setState({user_blood_group:{value:"",error:!1}});break;case"gender_selection":n.setState({user_gender:{value:"",error:!1}})}},n.on_user_date_of_birth_change=function(e){if(""===e)n.setState({user_dob:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({user_dob:{value:t,error:!1}})}}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=/^[A-Za-z]+$/,o=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||""===e||e.match(r))||!(!n||""===e||e.match(o)))},n.check_hard_constraints=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!e.includes(t))return!0;switch(a){case"eq":if(e.length!==n)return!0;break;case"min":if(e.length<n)return!0;break;case"max":if(e.length>n)return!0}return!1},n.on_submit=Object(Ue.a)($e.a.mark((function e(){var t,a;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({loading_status:!0}),t=!1,n.check_input(n.state.user_first_name.value,!0,!0,!1)&&(n.setState({user_first_name:{value:n.state.user_first_name.value,error:!0}}),t=!0),n.check_input(n.state.user_last_name.value,!0,!0)&&(n.setState({user_last_name:{value:n.state.user_last_name.value,error:!0}}),t=!0),n.check_input(n.state.user_email.value,!1,!1,!1)&&n.check_hard_constraints(n.state.user_email.value,"@")&&(n.setState({user_email:{value:n.state.user_email.value,error:!0}}),t=!0),n.check_input(n.state.user_phone_number.value,!0,!1,!0)&&n.check_hard_constraints(n.state.user_phone_number.value,"","eq",11)&&(n.setState({user_phone_number:{value:n.state.user_phone_number.value,error:!0}}),t=!0),n.check_input(n.state.user_cnic.value,!1,!1,!0)&&n.check_hard_constraints(n.state.user_cnic.value,"","eq",13)&&(n.setState({user_cnic:{value:n.state.user_cnic.value,error:!0}}),t=!0),n.check_input(n.state.user_gender.value,!0)&&(n.setState({user_gender:{value:n.state.user_gender.value,error:!0}}),t=!0),n.check_input(n.state.user_blood_group.value,!0)&&(n.setState({user_blood_group:{value:n.state.user_blood_group.value,error:!0}}),t=!0),!0!==t){e.next=13;break}return n.props.notify("error","","Invalid inputs"),n.setState({loading_status:!1}),e.abrupt("return");case 13:a={first_name:n.state.user_first_name.value.trim(),last_name:n.state.user_last_name.value.trim(),phone_number:n.state.user_phone_number.value.trim(),cnic:n.state.user_cnic.value.trim(),role:n.state.user_role.value.trim(),dob:n.state.user_dob.value,gender:n.state.user_gender.value.trim(),blood_group:n.state.user_blood_group.value.trim()},g.a.post(j,{admin_id:n.props.active_user._id,patient:a}).then((function(e){n.props.notify("success","",e.data.message),n.setState({loading_status:!1},(function(){n.close_modal()}))})).catch((function(e){n.props.notify("error","","No connection!"+e.toString()),n.setState({loading_status:!1})}));case 15:case"end":return e.stop()}}),e)}))),n.close_modal=function(){n.props.close(),n.props.call_back()},n.state={loading_status:!1,user_first_name:{value:"",error:!1},user_last_name:{value:"",error:!1},user_email:{value:"",error:!1},user_gender:{value:"Male",error:!1},user_dob:{value:"",error:!1},user_blood_group:{value:"Unknown",error:!1},user_role:{value:"Patient",error:!1},user_phone_number:{value:"",error:!1},user_cnic:{value:"",error:!1}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 px-3"},r.a.createElement(Ye,{id:"user_first_name_text_input",label_tag:"First name",icon_class:"icon-user-check",input_type:"text",placeholder:"Enter first name",on_text_change_listener:this.on_text_field_change,default_value:this.state.user_first_name.value,error:this.state.user_first_name.error})),r.a.createElement("div",{className:"col-md-6 px-3"},r.a.createElement(Ye,{id:"user_last_name_text_input",label_tag:"Last name",icon_class:"icon-user-check",input_type:"text",placeholder:"Enter last name",on_text_change_listener:this.on_text_field_change,default_value:this.state.user_last_name.value,error:this.state.user_last_name.error}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 px-3"},r.a.createElement(Ye,{id:"user_phone_number_text_input",label_tag:"Phone number",icon_class:"icon-phone2",input_type:"number",placeholder:"Enter phone number",on_text_change_listener:this.on_text_field_change,default_value:this.state.user_phone_number.value,error:this.state.user_phone_number.error})),r.a.createElement("div",{className:"col-md-6  px-3"},r.a.createElement(Ye,{id:"user_dob_text_input",label_tag:"Date of birth",icon_class:"icon-calendar3",placeholder:"Date of birth",input_type:"text",field_type:"date-time",date_format:"ll",time_format:!1,on_text_change_listener:this.on_user_date_of_birth_change,default_value:this.state.user_dob.value,error:this.state.user_dob.error}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 px-3"},r.a.createElement(Ye,{id:"user_cnic_text_input",label_tag:"CNIC",icon_class:"icon-vcard",input_type:"number",placeholder:"Enter CNIC",on_text_change_listener:this.on_text_field_change,default_value:this.state.user_cnic.value,error:this.state.user_cnic.error})),r.a.createElement("div",{className:"col-md-6 px-3"},r.a.createElement(Ye,{id:"user_email_text_input",label_tag:"Enter email",icon_class:"icon-envelop",input_type:"email",placeholder:"Enter email",on_text_change_listener:this.on_text_field_change,default_value:this.state.user_email.value,error:this.state.user_email.error})))),r.a.createElement("div",{className:"col-md-4 border border-secondary border-top-0 border-bottom-0 border-right-0 d-flex align-items-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"form-group form-group-feedback form-group-feedback-right"},r.a.createElement(qe.a,{isClearable:!0,menuPlacement:"auto",options:Xe,classNamePrefix:"form-control",placeholder:"Select Gender",id:"gender_selection",onChange:function(t){return e.on_selected_changed(t,"gender_selection")},defaultValue:{id:"gender_selection",label:"Male"},styles:{container:function(t){return Object(ft.a)(Object(ft.a)({},t),{},{backgroundColor:e.state.user_gender.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"form-group form-group-feedback form-group-feedback-right"},r.a.createElement(qe.a,{isClearable:!0,menuPlacement:"auto",options:Je,className:"Select-option",classNamePrefix:"form-control",placeholder:"Select blood group",id:"blood_group_selection",onChange:function(t){return e.on_selected_changed(t,"blood_group_selection")},defaultValue:{id:"blood_group_selection",label:"Unknown"},styles:{container:function(t){return Object(ft.a)(Object(ft.a)({},t),{},{backgroundColor:e.state.user_gender.error?"#FF0000":"",padding:1,borderRadius:5})}}})),r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-12",style:{display:"none"}},r.a.createElement("div",{className:"form-group form-group-feedback form-group-feedback-right"},r.a.createElement(qe.a,{isClearable:!0,menuPlacement:"auto",options:Ke,className:"Select-option",classNamePrefix:"form-control",placeholder:"Select roles",id:"role_selection",value:[{id:"role_selection",label:"Patient"}],isDisabled:!0}))),r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-block btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.on_submit},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})),"Add")),r.a.createElement("div",{className:"col-12 mt-3"},r.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-block btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.close_modal},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Cancel"))))));return r.a.createElement(it.a,{visible:this.props.visibility,onClickBackdrop:this.close_modal,fade:!0,dialogClassName:"modal-dialog-centered modal-lg"},r.a.createElement("div",{className:"modal-header bg-teal-400"},r.a.createElement("h5",{className:"modal-title"},"New Patient")),this.state.loading_status?r.a.createElement(de,null):t)}}]),a}(n.Component);var St=Object(b.b)((function(e){return{active_user:e.active_user}}),{notify:te})(wt),Ct=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).populate_patients=function(e){e.length>=1?n.render_users(e,"Patient"):n.setState({patients:[]})},n.populate_doctors=function(e){e.length>=1?n.render_users(e,"Doctor"):n.setState({doctors:[]})},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"appointment_patient_selection":var a={id:"appointment_patient_selection",reference:e.reference,label:e.label};n.setState({appointment_patient:{value:e.reference,error:!1},patient_select_value:a});break;case"appointment_doctor_selection":var r={id:"appointment_doctor_selection",reference:e.reference,label:e.label};n.setState({appointment_doctor:{value:e.reference,error:!1},doctor_select_value:r})}else switch(t){case"appointment_patient_selection":n.setState({appointment_patient:{value:"",error:!1},patient_select_value:""});break;case"appointment_doctor_selection":n.setState({appointment_doctor:{value:"",error:!1},doctor_select_value:""})}},n.on_text_field_change=function(e){switch(e.target.id){case"appointment_reason_text_input":n.setState({appointment_reason:{value:e.target.value,error:!1}})}},n.on_apointment_date_change=function(e){if(""===e)n.setState({appointment_date:{value:"",error:!1}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({appointment_date:{value:t,error:!1}})}}},n.on_apointment_time_change=function(e){if(""===e)n.setState({appointment_time:{value:""}});else{var t=null;try{t=e.format("LT")}catch(a){t=""}finally{n.setState({appointment_time:{value:t}})}}},n.check_input=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=/^[A-Za-z]+$/,o=/^[0-9]+$/;return!(!t||""!==e)||(!(!a||e.match(r))||!(!n||e.match(o)))},n.on_submit=function(){n.setState({loading_status:!0});var e=!1;if(n.check_input(n.state.appointment_patient.value,!0)&&(n.setState({appointment_patient:{value:n.state.appointment_patient.value,error:!0}}),e=!0),n.check_input(n.state.appointment_doctor.value,!0)&&(n.setState({appointment_doctor:{value:n.state.appointment_doctor.value,error:!0}}),e=!0),n.check_input(n.state.appointment_reason.value,!0)&&(n.setState({appointment_reason:{value:n.state.appointment_reason.value,error:!0}}),e=!0),n.check_input(n.state.appointment_date.value,!0)&&(n.setState({appointment_date:{value:n.state.appointment_date.value,error:!0}}),e=!0),n.check_input(n.state.appointment_time.value,!0)&&(n.setState({appointment_time:{value:n.state.appointment_time.value,error:!0}}),e=!0),!0===e)return n.props.notify("error","","Invalid inputs"),void n.setState({loading_status:!1});var t={patient:n.state.appointment_patient.value,doctor:n.state.appointment_doctor.value,date:"".concat(Me()(n.state.appointment_date.value).format("YYYY-MM-DD"),"T").concat(Me()(n.state.appointment_time.value,["h:mm A"]).format("HH:mm:ss"),"Z"),time:n.state.appointment_time.value,description:n.state.appointment_reason.value};g.a.post(D,t).then((function(e){n.props.notify("success","",e.data.message),n.setState({appointment_patient:{value:""},appointment_doctor:{value:""},appointment_date:{value:""},appointment_time:{value:""},appointment_reason:{value:""},patient_select_value:"",doctor_select_value:"",loading_status:!1}),n.props.clear_todays_appointments(),n.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C")),n.props.close()})).catch((function(e){e?(e.response?n.props.notify("error","",e.response.message):n.props.notify("error","","Server not responding "+e.toString()),n.setState({loading_status:!1})):(n.props.notify("error","","Network error"+e.toString()),n.setState({loading_status:!1}))}))},n.open_new_patient_modal=function(){n.props.close(),n.setState({new_patient_modal_visibility:!0})},n.close_new_patient_modal=function(){n.setState({new_patient_modal_visibility:!1})},n.call_back_new_patient_modal=function(){},n.state={loading_status:!1,patients:[],doctors:[],appointment_patient:{value:"",error:!1},appointment_doctor:{value:"",error:!1},appointment_reason:{value:"",error:!1},appointment_date:{value:Me()().format("ll"),error:!1},appointment_time:{value:Me()().format("LT"),error:!1},new_patient_modal_visibility:!1,patient_select_value:"",doctor_select_value:""},n}return Object(d.a)(a,[{key:"request",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r=arguments;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>2&&void 0!==r[2]?r[2]:"post",e.prev=1,"post"!==n){e.next=8;break}return e.next=5,g.a.post(a,t);case 5:return e.abrupt("return",e.sent);case 8:if("get"!==n){e.next=12;break}return e.next=11,g.a.get(a);case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r,o,s,l;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.next=4,this.request({},n,"get");case 4:for(r=e.sent,o=[],console.log("users...",r),s=0;s<r.data.payload.count;++s)l=r.data.payload.users[s],o.push({id:"appointment_".concat(a.toLowerCase(),"_selection"),reference:l._id,label:"".concat(l.first_name," ").concat(l.last_name," | ").concat(l.phone_number," | ").concat(l.email)});"Patient"===a?this.setState({patients:o}):"Doctor"===a&&this.setState({doctors:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Select or add user"),r.a.createElement(qe.a,{id:"appointment_patient_selection",isClearable:!0,menuPlacement:"auto",options:this.state.patients,classNamePrefix:"form-control",placeholder:"Select Patient",onInputChange:function(t){return e.populate_patients(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_patient_selection")},value:this.state.patient_select_value,styles:{container:function(t){return Object(ft.a)(Object(ft.a)({},t),{},{backgroundColor:e.state.appointment_patient.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Select Date"),r.a.createElement(He.a,{id:"dob_text_input",onChange:this.on_apointment_date_change,className:"clock_datatime_picker",inputProps:{placeholder:"Select Date",width:"100%",className:"form-control ".concat(this.state.appointment_date.error?"border-danger":"")},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.appointment_date.value})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Which doctor to assign?"),r.a.createElement(qe.a,{id:"appointment_doctor_selection",isClearable:!0,options:this.state.doctors,classNamePrefix:"form-control",placeholder:"Select a Doctor",menuPlacement:"auto",onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"appointment_doctor_selection")},value:this.state.doctor_select_value,styles:{container:function(t){return Object(ft.a)(Object(ft.a)({},t),{},{backgroundColor:e.state.appointment_doctor.error?"#FF0000":"",padding:1,borderRadius:5})}}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Time"),r.a.createElement(He.a,{id:"dob_text_input",onChange:this.on_apointment_time_change,className:"clock_datatime_picker",inputProps:{placeholder:"Select Time",width:"100%",className:"form-control ".concat(this.state.appointment_time.error?"border-danger":"")},input:!0,dateFormat:!1,timeFormat:!0,closeOnSelect:!0,strictParsing:!0,value:this.state.appointment_time.value})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group form-group-float"},r.a.createElement("div",{className:"form-group-float-label is-visible mb-1"},"What is the reason for the visit"),r.a.createElement("textarea",{rows:3,cols:3,id:"appointment_reason_text_input",className:"form-control",placeholder:"Reason for visit",onChange:this.on_text_field_change,value:this.state.appointment_reason.value})))));return r.a.createElement(n.Fragment,null,r.a.createElement(St,{visibility:this.state.new_patient_modal_visibility,close:this.close_new_patient_modal,call_back:this.props.bind_function}),r.a.createElement(it.a,{visible:this.props.visibility,onClickBackdrop:this.props.close,fade:!0,dialogClassName:"modal-dialog-centered modal-lg"},r.a.createElement("div",{className:"modal-header bg-teal-400"},r.a.createElement("h5",{className:"modal-title"},"New Appointment"),r.a.createElement("button",{type:"button",className:"btn bg-secondary btn-labeled btn-labeled-right pr-5 ",style:{textTransform:"inherit"},onClick:this.open_new_patient_modal},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})),"New Patient")),this.state.loading_status?r.a.createElement(de,{size:150}):t,this.state.loading_status?"":r.a.createElement("div",{className:"modal-footer"},r.a.createElement(qe.a,{isClearable:!0,menuPlacement:"auto",options:[],classNamePrefix:"form-control",placeholder:"Select Branch",id:"branch_selection",isDisabled:!0,value:{id:"branch_selection",label:"Ghazi chowk"},styles:{container:function(e){return Object(ft.a)(Object(ft.a)({},e),{},{backgroundColor:"",padding:0,borderRadius:5,width:"200px"})}}}),r.a.createElement("button",{type:"button",className:"btn bg-danger btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.props.close},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-cross"})),"Cancel"),r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:this.on_submit},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"})),"Add"))))}}]),a}(n.Component);var Ot=Object(b.b)((function(e){return{notify:e.notify,todays_patient:e.todays_patient}}),{notify:te,load_todays_appointments:re,clear_todays_appointments:oe})(Ct),jt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).populate_doctors=function(e){e.length>=1?n.render_users(e,"Doctor"):n.setState({doctors:[]})},n.populate_patient=function(e){e.length>=1?n.render_users(e,"Patient"):n.setState({patients:[]})},n.on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"location_selection":n.setState({user_blood_group:{value:e.label}});break;case"status_selection":n.setState({search_status:{value:e.label}});break;case"doctor_selection":n.setState({search_doctor:{value:e.reference}});break;case"patient_selection":n.setState({search_patient:{value:e.reference}})}else switch(t){case"location_selection":n.setState({user_blood_group:{value:""}});break;case"status_selection":n.setState({search_status:{value:""}});break;case"doctor_selection":n.setState({search_doctor:{value:""}});break;case"patient_selection":n.setState({search_patient:{value:""}})}},n.request_user=function(e){n.setState({user_preview_modal_visibility:!0},(function(){g.a.post(w,{user_id:e}).then((function(e){n.setState({user_modal_props:e.data.payload.user})})).catch((function(e){console.log("failed to fetch user",e)}))}))},n.renderDataInRows=function(e){if(null!==e)return e.map((function(e,t){var a={appointment_description:e.appointment_description};return r.a.createElement(Nt,{key:t,row_data:e,hidden_data:a,open_procedure_modal:n.openProcedureModalHandler,open_invoice_modal:n.openInvoiceModalHandler,open_user_view_modal:n.request_user,columns:"8"})}))},n.openProcedureModalHandler=function(e){n.setState({procedure_visibility:!0},(function(){try{g.a.get("".concat(B,"?tag=").concat(e)).then((function(t){n.setState({prev_procedure_list:t.data.payload,procedure_appointment_id:e,invoiceVisitId:0})}))}catch(t){n.props.notify("error","","Server is not responding! Please try again later")}}))},n.closeProcedureModalHandler=function(e){n.setState({procedure_visibility:!1,prev_procedure_list:null,data:null})},n.invoiceVisitIdHandler=function(e){n.setState({invoiceVisitId:e})},n.UpdateProcedureListHandler=function(e){n.setState({prevProcedureList:e})},n.open_new_appointment_modal=function(){n.setState({new_appointment_modal_visibility:!0})},n.openInvoiceModalHandler=function(e){n.setState({invoice_modal_visibility:!0,appointment_invoice_id:e})},n.closeInvoiceModalHandler=function(){n.setState({invoice_modal_visibility:!1})},n.close_new_appointment_modal=function(){n.setState({new_appointment_modal_visibility:!1})},n.call_back_new_appointment_modal=function(){n.setState({new_appointment_modal_visibility:!1,data:null})},n.set_filters=function(){n.setState({filtered_data:null},(function(){for(var e=""!==n.state.search_patient.value,t=""!==n.state.search_doctor.value,a=""!==n.state.search_status.value,r=[],o=0;o<n.state.data.length;++o)e||t||!a?e||!t||a?!e&&t&&a?n.state.search_doctor.value===n.state.data[o].doctor.id&&n.state.search_status.value.toLowerCase()===n.state.data[o].appointment_status.info&&r.push(n.state.data[o]):!e||t||a?e&&!t&&a?n.state.search_patient.value===n.state.data[o].patient.id&&n.state.search_status.value.toLowerCase()===n.state.data[o].appointment_status.info&&r.push(n.state.data[o]):e&&t&&!a?n.state.search_patient.value===n.state.data[o].patient.id&&n.state.search_doctor.value===n.state.data[o].doctor.id&&r.push(n.state.data[o]):e&&t&&a&&n.state.search_patient.value===n.state.data[o].patient.id&&n.state.search_doctor.value===n.state.data[o].doctor.id&&n.state.search_status.value.toLowerCase()===n.state.data[o].appointment_status.info&&r.push(n.state.data[o]):n.state.search_patient.value===n.state.data[o].patient.id&&r.push(n.state.data[o]):n.state.search_doctor.value===n.state.data[o].doctor.id&&r.push(n.state.data[o]):n.state.search_status.value.toLowerCase()===n.state.data[o].appointment_status.info&&r.push(n.state.data[o]);var s=!0;["search_patient","search_doctor","search_status"].map((function(e,t){return""!==n.state[e].value&&(s=!1,n.setState({filtered_data:r})),""})),s&&n.setState({filtered_data:n.state.data})}))},n.todays_date_change=function(e){if(""===e)n.setState({search_date:{value:""}});else{var t=null;try{t=e.format("ll"),n.props.clear_todays_appointments(),n.props.load_todays_appointments(t),localStorage.setItem("Gh65$p3a008#2C",t)}catch(a){t=""}finally{n.setState({search_date:{value:t}})}}},n.state={data:null,filtered_data:null,doctors:[],patients:[],new_appointment_modal_visibility:!1,procedure_visibility:!1,prev_procedure_list:null,user_preview_modal_visibility:!1,new_patient_modal_visibility:!1,invoice_modal_visibility:!1,user_modal_props:null,invoice_data:null,appointment_invoice_id:"",procedure_appointment_id:null,search_doctor:{value:""},search_patient:{value:""},search_status:{value:""},search_date:{value:Me()(new Date).format("ll")}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[r.a.createElement(u.b,{to:"/",className:"breadcrumb-item"},r.a.createElement("i",{className:"icon-user mr-2"}),"Reception"),r.a.createElement("span",{className:"breadcrumb-item active"},"Today's Patient")];if(this.props.set_active_page(t),localStorage.getItem("Gh65$p3a008#2C"))this.setState({search_date:{value:localStorage.getItem("Gh65$p3a008#2C")}},(function(){return e.props.load_todays_appointments(e.state.search_date.value)}));else{var a=new Date(this.state.search_date.value);this.props.load_todays_appointments(new Date(a.getTime()+6e4*a.getTimezoneOffset()).toISOString()),localStorage.setItem("Gh65$p3a008#2C",this.state.search_date.value)}}},{key:"request",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r=arguments;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>2&&void 0!==r[2]?r[2]:"post",e.prev=1,"post"!==n){e.next=8;break}return e.next=5,g.a.post(a,t);case 5:return e.abrupt("return",e.sent);case 8:if("get"!==n){e.next=12;break}return e.next=11,g.a.get(a);case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r,o,s,l;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.prev=1,e.next=4,this.request({},n,"get");case 4:for(r=e.sent,o=[],s=0;s<r.data.payload.count;++s)l=r.data.payload.users[s],o.push({id:"".concat(a.toLowerCase(),"_selection"),reference:l._id,label:"".concat(l.first_name," ").concat(l.last_name," | ").concat(l.phone_number," | ").concat(l.email)});"Patient"===a?this.setState({patients:o}):"Doctor"===a&&this.setState({doctors:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("error",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){e.todays_patient&&this.setState({filtered_data:e.todays_patient.data,data:e.todays_patient.data})}},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{size:150});null!=this.state.filtered_data&&(t=this.state.filtered_data.length>0?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"table-responsive mt-2 card mb-0 pb-0"},r.a.createElement("table",{className:"table table-hover mb-0"},r.a.createElement("tbody",null,this.renderDataInRows(this.state.filtered_data))))):r.a.createElement("div",{className:"alert alert-info mt-2",style:{marginBottom:"0px"}},r.a.createElement("strong",null,"Info!")," No Appointments found."));var a=function(e){return r.a.createElement(Le.z.Menu,e,r.a.createElement("div",{className:"bg-light text-teal-400",style:{width:"400px"}},e.children))},o=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Doctors"),r.a.createElement(qe.a,{id:"doctor_selection",isClearable:!0,components:{Menu:a},menuPlacement:"auto",options:this.state.doctors,classNamePrefix:"form-control",placeholder:"Search Doctor",onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"doctor_selection")}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Patients"),r.a.createElement(qe.a,{id:"patient_selection",isClearable:!0,components:{Menu:a},menuPlacement:"auto",options:this.state.patients,classNamePrefix:"form-control",placeholder:"Search Patient",onInputChange:function(t){return e.populate_patient(t)},onChange:function(t){return e.on_selected_changed(t,"patient_selection")}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"font-weight-semibold"},"Status"),r.a.createElement(qe.a,{isClearable:!0,options:Qe,placeholder:"Status",onChange:function(t){return e.on_selected_changed(t,"status_selection")},onClick:function(){return console.log("visit status")}}))))),r.a.createElement("div",{className:"col-md-2 d-flex justify-content-center align-items-end mb-2 pb-2"},r.a.createElement(gt.a,{trigger:r.a.createElement("button",{type:"button",className:"btn btn-dark btn-icon mr-1 ",style:{textTransform:"inherit"},onClick:this.set_filters},r.a.createElement("i",{className:"icon-filter4"})),content:r.a.createElement("div",{className:"card card-body bg-dark text-white shadow mb-1 py-1"},"Filter records"),flowing:!0,position:"top center"}),r.a.createElement(gt.a,{trigger:r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-icon mr-1 btn-block",style:{textTransform:"inherit"},onClick:this.open_new_appointment_modal},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-plus3"}))),content:r.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},"New Appointment"),flowing:!0,position:"top center"}))),s=r.a.createElement("div",{className:"table-header-background shadow-sw"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-6 col-12 d-flex align-items-center"},r.a.createElement("span",{className:"text-white"},"Patients list for date"),r.a.createElement("span",{className:"badge badge-secondary ml-2 d-none d-lg-block"},this.state.search_date.value)),r.a.createElement("div",{className:"col-lg-3 d-none d-lg-block col-0"}),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-12 d-flex"},r.a.createElement(He.a,{id:"dob_text_input",onChange:this.todays_date_change,className:"clock_datatime_picker ",inputProps:{placeholder:"Select Date",width:"100%",className:"form-control bg-teal-400 border-teal-400"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.search_date.value,onClick:function(){return console.log("date select",e.state.search_date.value)}}),r.a.createElement("button",{className:"btn bg-teal-400 border-teal-400 text-teal-400 btn-sm ml-2",onClick:function(){e.props.clear_todays_appointments(),e.props.load_todays_appointments(localStorage.getItem("Gh65$p3a008#2C"))}},r.a.createElement("i",{className:"icon-search4"})))));return r.a.createElement(je,{container_type:"todayspatient"},o,s,!0===this.props.todays_patient.loading?r.a.createElement(de,{size:150}):t,r.a.createElement(Ot,{visibility:this.state.new_appointment_modal_visibility,close:this.close_new_appointment_modal,call_back:this.call_back_new_appointment_modal,bind_function:this.open_new_appointment_modal,state:"new"}),r.a.createElement(mt,{new_procedure_visibility:this.state.procedure_visibility,appointment_id:this.state.procedure_appointment_id,prev_procedure_list:this.state.prev_procedure_list,updateProcedureList:this.UpdateProcedureListHandler,procedure_backDrop:this.closeProcedureModalHandler,cancelProcedureModal:this.closeProcedureModalHandler}),r.a.createElement(bt,{modal_visibility:this.state.invoice_modal_visibility,appointment_id:this.state.appointment_invoice_id,close_modal:this.closeInvoiceModalHandler}),r.a.createElement(xt,{visibility:this.state.user_preview_modal_visibility,modal_props:this.state.user_modal_props,on_click_back_drop:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})},on_click_cancel:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})}}))}}]),a}(n.Component);var Pt=Object(b.b)((function(e){return{notify:e.notify,todays_patient:e.todays_patient}}),{notify:te,set_active_page:ne,load_todays_appointments:re,clear_todays_appointments:oe})(Object(_.g)(jt)),Dt=(a(998),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).toggle_row=function(){o.state.toggle?o.setState({toggle:!1,toggle_icon:"icon-eye-plus"}):o.setState({toggle:!0,toggle_icon:"icon-eye-minus"})},o.render_read_only_cols=function(){return Object.keys(o.state.row_data).map((function(e,t){return r.a.createElement("td",{key:t},o.state.row_data[e])}))},o.render_hidden_elements=function(){return o.state.hidden_data.map((function(e,t){return r.a.createElement("div",{key:t,className:""},e)}))},o.render_hidden_header_elements=function(){return o.state.hidden_header_elements.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},e)}))},o.state={toggle:!1,toggle_icon:"icon-eye-plus",row_data:o.props.row_data,hidden_data:o.props.hidden_data,hidden_header_elements:o.props.hidden_header_elements,hidden_header_color:o.props.hidden_header_color,col_span:""},o}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({col_span:this.props.columns})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{onClick:this.toggle_row},r.a.createElement("div",{className:"slideInLeft animated"},r.a.createElement(u.b,{className:"",to:"#",onClick:this.toggle_row},r.a.createElement("i",{className:this.state.toggle_icon})))),this.render_read_only_cols()),r.a.createElement("tr",{className:""},r.a.createElement("td",{colSpan:"".concat(this.state.col_span),className:"".concat(this.state.toggle?"":"py-0")},r.a.createElement(vt.a,{isOpen:this.state.toggle},r.a.createElement("div",{className:"float-right"},r.a.createElement(u.b,{onClick:this.toggle_row,to:"#",className:"btn btn-sm btn-outline bg-teal-400 text-teal-400"},r.a.createElement("i",{className:"icon-cross3 icon-2x"}))),this.render_hidden_elements()))))}}]),a}(n.Component)),It=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).on_selected_changed=function(e,t){if(null!==e)switch(e.id){case"gender_selection":n.setState({user_gender:{value:e.label}});break;case"patient_list":n.setState({search_patient_id:{value:e.reference}});break;case"doctor_list":n.setState({search_doctor_id:{value:e.reference}})}else switch(t){case"blood_group_selection":n.setState({user_gender:{value:""}});break;case"patient_list":n.setState({search_patient_id:{value:""}});break;case"doctor_list":n.setState({search_doctor_id:{value:""}})}},n.populate_patients=function(e){e.length>=3?n.render_users(e,"Patient"):n.setState({patient_list:[]})},n.populate_doctors=function(e){e.length>=3?n.render_users(e,"Doctor"):n.setState({doctor_list:[]})},n.populate_appointments=function(){var e=Object(Ue.a)($e.a.mark((function e(t){var a;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading_status:!0}),e.next=3,n.request(t,F);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return");case 6:200===a.status?n.setState({data:a.data.payload.appointments,total_records_on_this_page:a.data.payload.appointments.length,total_pages:a.data.payload.total_pages,loading_status:!1},(function(){})):(n.props.notify("info","",a.data.message),n.setState({data:null,loading_status:!1,total_pages:0,total_records_on_this_page:0}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.on_text_field_change=function(e){switch(e.target.id){case"patient_checkbox_input":n.setState({patient_checkbox:e.target.checked});break;case"doctor_checkbox_input":n.setState({doctor_checkbox:e.target.checked})}},n.on_from_date_change=function(e){if(""===e)n.setState({date_from:{value:""}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({date_from:{value:t}})}}},n.on_to_date_change=function(e){if(""===e)n.setState({date_to:{value:""}});else{var t=null;try{t=e.format("ll")}catch(a){t=""}finally{n.setState({date_to:{value:t}})}}},n.on_search_click=function(){n.setState({data:null,today:Me()().format("LT"),page_number:0,total_records_on_this_page:0,total_pages:0},(function(){""!==n.state.date_from.value&&""!==n.state.date_to.value?!0===n.state.patient_checkbox&&!0===n.state.doctor_checkbox?n.populate_appointments({to_date:n.state.date_to.value,from_date:n.state.date_from.value,patient_id:n.state.search_patient_id.value,doctor_id:n.state.search_doctor_id.value,page:n.state.page_number}):!1===n.state.patient_checkbox&&!1===n.state.doctor_checkbox?n.populate_appointments({to_date:n.state.date_to.value,from_date:n.state.date_from.value,page:n.state.page_number}):!0===n.state.patient_checkbox&&!1===n.state.doctor_checkbox?""!==n.state.search_patient_id.value?n.populate_appointments({to_date:n.state.date_to.value,from_date:n.state.date_from.value,patient_id:n.state.search_patient_id.value,page:n.state.page_number}):n.props.notify("info","","Please select a patient"):!1===n.state.patient_checkbox&&!0===n.state.doctor_checkbox&&(""!==n.state.search_doctor_id.value?n.populate_appointments({to_date:n.state.date_to.value,from_date:n.state.date_from.value,doctor_id:n.state.search_doctor_id.value,page:n.state.page_number}):n.props.notify("info","","Please select a doctor")):n.props.notify("error","","Please specify a range of dates")}))},n.refresh_button_click=function(){null!==n.state.previous_query.data?n.populate_appointments(n.state.previous_query.data):n.props.notify("info","","Select dates and click search button to search")},n.request_user=function(e){n.setState({user_preview_modal_visibility:!0},(function(){})),g.a.post(w,{user_id:e}).then((function(e){200===e.status&&n.setState({user_modal_props:e.data.payload.user})})).catch((function(e){console.log("failed to fetch user")}))},n.renderDataInRows=function(){return n.state.data.map((function(e,t){console.log("booking",e);var a={date_of_booking:r.a.createElement("div",{ref:function(e){n["element_".concat(t,"_ref")]=e}},e.appointment_date),time_of_booking:r.a.createElement("div",null,e.appointment_time),patient_name:r.a.createElement("button",{className:"btn btn-outline bg-teal-400 border-teal-400 text-teal-400 btn-sm btn-block zoomIn animated",onClick:function(){return n.request_user(e.patient.id)}},e.patient.first_name+" "+e.patient.last_name),visit_reason:r.a.createElement("span",{className:"d-inline-block text-truncate ",style:{maxWidth:"150px"}},e.appointment_description),doctor_name:r.a.createElement("button",{className:"btn btn-outline-secondary btn-sm btn-block zoomIn animated",onClick:function(){return n.request_user(e.doctor.id)}},e.doctor.first_name+" "+e.doctor.last_name),visit_status:r.a.createElement("span",{className:"badge ".concat("waiting"===e.appointment_status.info?"badge-danger":"badge-primary")},e.appointment_status.info),visit_total_charges:r.a.createElement(gt.a,{trigger:r.a.createElement("div",{className:""},e.total_charges),flowing:!0,position:"top center",content:r.a.createElement("div",{className:"card card-body bg-teal-400 text-white shadow mb-1 py-1"},r.a.createElement("div",{className:""},"Consultancy: ",e.appointment_charges.consultancy),r.a.createElement("div",{className:""},"Discount: ",e.appointment_charges.discount),r.a.createElement("div",{className:""},"Follow up: ",e.appointment_charges.follow_up),r.a.createElement("div",{className:""},"Procedures: ",e.appointment_charges.procedures),r.a.createElement("div",{className:""},"Paid Amount: ",e.appointment_charges.paid))})},o=[r.a.createElement("h5",{className:"font-weight-semibold"},"Reason of visit"),r.a.createElement("blockquote",{className:"blockquote blockquote-bordered py-2 pl-3 mb-0"},r.a.createElement("p",{className:"mb-1"},e.appointment_description),r.a.createElement("footer",{className:"blockquote-footer"},"Perscription"))];return r.a.createElement(Dt,{key:t,row_data:a,hidden_data:o,columns:"8"})}))},n.on_previous_button_click=function(){var e=n.state.page_number-1,t=n.state.previous_query;t.data.page=e,n.setState({page_number:e},(function(){n.populate_appointments(t.data)}))},n.on_page_number_click=function(e){var t=parseInt(e.target.innerHTML)-1,a=n.state.previous_query;a.data.page=t,n.setState({page_number:t},(function(){n.populate_appointments(a.data)}))},n.on_next_button_click=function(){var e=n.state.page_number+1,t=n.state.previous_query;t.data.page=e,n.setState({page_number:e},(function(){n.populate_appointments(t.data)}))},n.state={data:null,patient_list:[],doctor_list:[],today:Me()().format("LT"),page_number:0,total_records_on_this_page:0,total_pages:0,date_from:{value:Me()().subtract(7,"days").format("ll")},date_to:{value:Me()().format("ll")},search_patient_id:{value:""},search_doctor_id:{value:""},patient_checkbox:!1,doctor_checkbox:!1,loading_status:!1,previous_query:{data:null},user_preview_modal_visibility:!1,user_modal_props:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[r.a.createElement(u.b,{to:"/",className:"breadcrumb-item"},r.a.createElement("i",{className:"icon-user mr-2"}),"Reception"),r.a.createElement("span",{className:"breadcrumb-item active"},"All Apointments")];this.props.set_active_page(t),setInterval((function(){e.setState({today:Me()().format("LT")})}),6e4),this.on_search_click()}},{key:"request",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r=arguments;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>2&&void 0!==r[2]?r[2]:"post",e.prev=1,"post"!==n){e.next=9;break}return this.setState({previous_query:{data:t}}),e.next=6,g.a.post(a,t);case 6:return e.abrupt("return",e.sent);case 9:if("get"!==n){e.next=13;break}return e.next=12,g.a.get(a);case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),this.props.notify("error","","Server is not responding! Please try again later"),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render_users",value:function(){var e=Object(Ue.a)($e.a.mark((function e(t,a){var n,r,o,s,l;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"?search=").concat(t,"&role=").concat(a),e.next=3,this.request({},n,"get");case 3:if(r=e.sent,o=[],200===r.status){for(s=0;s<r.data.payload.count;++s)l=r.data.payload.users[s],o.push({id:"".concat(a.toLowerCase(),"_list"),reference:l._id,label:"".concat(l.first_name," ").concat(l.last_name," | ").concat(l.phone_number," | ").concat(l.email)});"Patient"===a?this.setState({patient_list:o}):"Doctor"===a&&this.setState({doctor_list:o})}case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{size:150}),a="";return null!=this.state.data&&(a=this.state.total_records_on_this_page>0?r.a.createElement("div",{className:"table-responsive mt-2 card mb-0 pb-0"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"table-header-bg bg-dark"},r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Patient"),r.a.createElement("th",null,"Reasons"),r.a.createElement("th",null,"Doctor"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Charges"))),r.a.createElement("tbody",null,this.renderDataInRows()),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4"},r.a.createElement("div",{className:"mt-2"},r.a.createElement("span",{className:"font-weight-semibold h5"},"Showing page ",this.state.page_number+1," of ",this.state.total_pages," ..."))),r.a.createElement("td",{colSpan:"4"},r.a.createElement("nav",{className:"mt-2"},r.a.createElement("ul",{className:"pagination justify-content-end"},r.a.createElement("li",{className:"page-item ".concat(0===this.state.page_number?"disabled":"")},r.a.createElement(u.b,{className:"page-link",to:"#",onClick:this.on_previous_button_click},"Previous")),this.state.total_pages>1?Array(this.state.total_pages).fill().map((function(t,a){return r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement(u.b,{className:"page-link",to:"#",onClick:function(t){return e.on_page_number_click(t)}},a+1))})):"",r.a.createElement("li",{className:"page-item ".concat(this.state.page_number===this.state.total_pages-1?"disabled":"")},r.a.createElement(u.b,{className:"page-link",to:"#",onClick:this.on_next_button_click},"Next"))))))))):r.a.createElement("div",{className:"alert alert-info",style:{marginBottom:"0px"}},r.a.createElement("strong",null,"Info!")," No visits found.")),r.a.createElement(je,{container_type:"visits"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"form-group row mb-2 px-2"},r.a.createElement("label",{className:"col-form-label-lg"},"From"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar3"}))),r.a.createElement(He.a,{id:"dob_text_input",onChange:this.on_from_date_change,className:"clock_datatime_picker form-control form-control-lg ",inputProps:{placeholder:"Where from",className:"border-0 w-100"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.date_from.value})))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"form-group row mb-2 px-2"},r.a.createElement("label",{className:"col-form-label-lg"},"To"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"icon-calendar3"}))),r.a.createElement(He.a,{id:"dob_text_input",onChange:this.on_to_date_change,className:"clock_datatime_picker form-control form-control-lg ",inputProps:{placeholder:"Where to",className:"border-0 w-100"},input:!0,dateFormat:"ll",timeFormat:!1,closeOnSelect:!0,value:this.state.date_to.value})))))),r.a.createElement("div",{className:"col-lg-4 d-flex flex-column-reverse mb-2 pb-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"button",className:"btn bg-dark btn-block btn-labeled btn-labeled-right pr-5",style:{textTransform:"inherit"},onClick:function(){return e.setState({date_from:{value:""},date_to:{value:""},patient_checkbox:!1,doctor_checkbox:!1})}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-reset"})),"Reset filters")),r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 btn-block",style:{textTransform:"inherit"},onClick:this.refresh_button_click},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-reset"})),"Refresh"))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement(qe.a,{className:"",options:Qe,classNamePrefix:"",placeholder:"Branch (Coming soon)",isClearable:!0,id:"branch_selection",onChange:this.on_selected_changed,isDisabled:!0}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-11"},r.a.createElement(qe.a,{isClearable:!0,isDisabled:!this.state.patient_checkbox,id:"patient_list",options:this.state.patient_list,onInputChange:function(t){return e.populate_patients(t)},onChange:function(t){return e.on_selected_changed(t,"patient_list")},placeholder:"Search patients"})),r.a.createElement("div",{className:"col-1 d-flex align-items-end pr-0 mb-2 pl-0"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("div",{className:"uniform-checker"},r.a.createElement("span",{className:this.state.patient_checkbox?"checked":""},r.a.createElement("input",{type:"checkbox",name:"patient",id:"patient_checkbox_input",defaultChecked:this.state.patient_checkbox,value:this.state.patient_checkbox,onChange:this.on_text_field_change,className:"form-input-styled"})))))))),r.a.createElement("div",{className:"col-lg-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-11"},r.a.createElement(qe.a,{isClearable:!0,isDisabled:!this.state.doctor_checkbox,options:this.state.doctor_list,onInputChange:function(t){return e.populate_doctors(t)},onChange:function(t){return e.on_selected_changed(t,"doctor_list")},placeholder:"Search Doctor"})),r.a.createElement("div",{className:"col-1 d-flex align-items-end pr-0 mb-2 pl-0"},r.a.createElement("div",{className:"form-check "},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("div",{className:"uniform-checker"},r.a.createElement("span",{className:this.state.doctor_checkbox?"checked":""},r.a.createElement("input",{type:"checkbox",name:"doctor",id:"doctor_checkbox_input",defaultChecked:this.state.doctor_checkbox,value:this.state.doctor_checkbox,onChange:this.on_text_field_change,className:"form-input-styled"})))))))),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("button",{type:"button",className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 btn-block ",style:{textTransform:"inherit"},onClick:this.on_search_click},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-search4"})),"Search")))),this.state.loading_status?t:a,r.a.createElement(xt,{visibility:this.state.user_preview_modal_visibility,modal_props:this.state.user_modal_props,on_click_back_drop:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})},on_click_cancel:function(){return e.setState({user_preview_modal_visibility:!1,user_modal_props:null})}}))}}]),a}(n.Component);var Ft=Object(b.b)((function(e){return{notify:e}}),{notify:te,set_active_page:ne})(Object(_.g)(It)),Tt=a(156);var zt=Object(b.b)(null,te)(Object(_.g)((function(e){var t=Object(n.useState)(""),a=Object(Tt.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(!1),c=Object(Tt.a)(l,2),i=c[0],d=c[1];return r.a.createElement(je,{container_type:"darmian_me"},r.a.createElement("div",{className:"card shadow"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Reset your password")),r.a.createElement("div",{className:"card-body px-4"},r.a.createElement(Ye,{id:"email_text_input",label_tag:"Email",placeholder:"Enter your email",icon_class:"icon-envelop",input_type:"email",on_text_change_listener:function(e){return function(e){s(e.target.value),d(!1)}(e)},default_value:o,error:i})),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn bg-teal-400 btn-labeled btn-labeled-right pr-5 float-right",onClick:function(){""===o&&d(!0)}},r.a.createElement("b",null,r.a.createElement("i",{className:"icon-user-check"})),"Sumit Request"))))}))),Mt=a(1012);function At(e,t){switch(t.type){case"CHANGE_SORT":return e.column===t.column?Object(ft.a)(Object(ft.a)({},e),{},{data:e.data.reverse(),direction:"ascending"===e.direction?"descending":"ascending"}):{column:t.column,data:le.a.sortBy(e.data,[t.column]),direction:"ascending"};default:throw new Error}}var Rt=function(e){var t=r.a.useReducer(At,{column:null,data:e.rows,direction:null}),a=Object(Tt.a)(t,2),n=a[0],o=a[1],s=n.column,l=n.data,c=n.direction;return r.a.createElement(Mt.a,{sortable:!0,celled:!0,fixed:!0},r.a.createElement(Mt.a.Header,{className:"bg-dark"},r.a.createElement(Mt.a.Row,null,Object.keys(e.headCells).map((function(t,a){return r.a.createElement(Mt.a.HeaderCell,{sorted:s===e.headCells[t].id?c:null,onClick:function(){return o({type:"CHANGE_SORT",column:e.headCells[t].id})}},e.headCells[t].label)})))),r.a.createElement(Mt.a.Body,null,l.map((function(e,t){return r.a.createElement(Mt.a.Row,{key:e.name},Object.keys(e).map((function(t,a){return r.a.createElement(Mt.a.Cell,{key:a},r.a.createElement("a",{hred:"#"},e[t].value))})))}))))},Lt=[{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"phone_number",numeric:!1,disablePadding:!1,label:"Phone#"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"email_confirmation",numeric:!1,disablePadding:!1,label:"Confirmation"},{id:"date_of_birth",numeric:!1,disablePadding:!1,label:"DOB"},{id:"gender",numeric:!1,disablePadding:!1,label:"Gender"}],qt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).load_doctors=function(){var e="".concat(y,"?role=Doctor");g.a.get(e).then((function(e){if(console.log("doctors",e),e.data){e=e.data.payload;for(var t=[],a=0;a<e.length;++a)t.push({name:{value:"Dr. ".concat(e[a].first_name," ").concat(e[a].last_name),show_status:!1},phone_number:{value:e[a].phone_number,show_status:!1},email:{value:e[a].email,show_status:!1},email_confirmation:{value:e[a].email_confirmation?r.a.createElement("i",{className:"icon-check2 bg-success"}):r.a.createElement("i",{className:"icon-cross2 bg-danger"}),show_status:!0},date_of_birth:{value:e[a].date_of_birth?Me()(e[a].date_of_birth).format("ll"):r.a.createElement("i",{className:"icon-dash"}),show_status:!1},gender:{value:"Male"===e[a].gender?r.a.createElement("span",{className:"badge badge-primary"},"Male"):r.a.createElement("span",{className:"badge bg-pink-400"},"Female"),show_status:!1}}),a===e.length-1&&n.setState({rows:t})}}))},n.state={rows:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=[r.a.createElement(u.b,{to:"/",className:"breadcrumb-item"},r.a.createElement("i",{className:"icon-home2 mr-2"}),"Search"),r.a.createElement("span",{className:"breadcrumb-item active"},"Doctors")];this.props.set_active_page(e),this.load_doctors()}},{key:"render",value:function(){return r.a.createElement(je,{container_type:"searchdoctors"},this.state.rows.length?r.a.createElement(Rt,{rows:this.state.rows,headCells:Lt,heading:"Doctors"}):"")}}]),a}(n.Component);var Bt=Object(b.b)((function(e){return{notify:e.notify,active_page:e.active_page}}),{notify:te,set_active_page:ne})(qt),Ht=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/login",component:Ge}),r.a.createElement(_.b,{exact:!0,path:"/register",component:tt}),r.a.createElement(_.b,{exact:!0,path:"/forgot_password",component:zt}),r.a.createElement(he,{exact:!0,path:"/",component:Re}),r.a.createElement(he,{exact:!0,path:"/profile",component:nt}),r.a.createElement(he,{exact:!0,path:"/todayspatient",component:Pt}),r.a.createElement(he,{exact:!0,path:"/visits",component:Ft}),r.a.createElement(he,{exact:!0,path:"/search_doctors",component:Bt})),r.a.createElement(be.a,{hideProgressBar:!0}))}}]),a}(n.Component),Yt=a(91),Wt=Object(Yt.combineReducers)({notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"notify":var a={position:be.b.POSITION.TOP_RIGHT,pauseOnFocusLoss:!0};switch(t.payload.type){case"success":be.b.success(t.payload.message,a);break;case"error":be.b.error(t.payload.message,a);break;case"warning":be.b.warn(t.payload.message,a);break;case"info":be.b.info(t.payload.message,a);break;default:Object(be.b)(t.payload.message,a)}return t.payload;default:return e}},left_sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"left_sidebar":return t.payload;default:return e}},active_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"active_user":return t.payload;default:return e}},active_page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"active_page":return t.payload;default:return e}},todays_patient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todays_patients":return console.log("todays patients",t.payload),200===t.payload.status?{loading:t.loading,data:t.payload.data.payload}:{loading:t.loading,data:t.payload};case"clear_todays_patients":return{loading:!0,data:[]};case"update_single_record":return void 0!==t.payload.new_item?e.data.map((function(e,a){return e._id!==t.payload.id?e:Object(ft.a)(Object(ft.a)({},e),t.payload.new_item)})):e.data;default:return e}}}),Gt=a(448),Vt=a(449),$t=a.n(Vt),Ut=a(450),Zt=Object(Yt.createStore)(Wt,Object(Ut.composeWithDevTools)(Object(Yt.applyMiddleware)($t.a,Gt.a)));s.a.render(r.a.createElement(b.a,{store:Zt},r.a.createElement(Ht,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");l?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}()},131:function(e,t,a){},195:function(e,t,a){e.exports=a.p+"static/media/placeholder.59e6f5b8.jpg"},431:function(e,t,a){e.exports=a.p+"static/media/iffatanwarmedicalcomplex.36cda954.png"},433:function(e,t,a){e.exports=a.p+"static/media/LOGO.21ff2f94.png"},459:function(e,t,a){e.exports=a(1002)},464:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},841:function(e,t){},844:function(e,t,a){},856:function(e,t,a){},857:function(e,t,a){},998:function(e,t,a){}},[[459,1,2]]]);
//# sourceMappingURL=main.2ba5c5a8.chunk.js.map